(self.webpackChunk_woocommerce_block_library=self.webpackChunk_woocommerce_block_library||[]).push([[6067],{"./packages/components/checkbox-list/stories/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _storybook_client_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/client-api/node_modules/@storybook/preview-api/dist/chunk-2WNKQWTL.mjs"),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/checkbox-list/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"WooCommerce Blocks/@woocommerce-blocks-components/Checkbox List",component:___WEBPACK_IMPORTED_MODULE_1__.Z,argTypes:{className:{control:"text",table:{type:{summary:"string"}}},isLoading:{table:{type:{summary:"boolean"}},control:"boolean",description:"Is the component loading?"},isDisabled:{table:{type:{summary:"boolean"}},type:"boolean",control:"boolean",description:"Is the component disabled?"},limit:{type:"number",table:{type:{summary:"number"}},control:"number",defaultValue:2,description:"If there are more checkboxes than the limit + 5 then show a `show more` button."},checked:{control:"array",table:{type:{summary:"boolean"}},description:"An array of strings containing the values of which checkboxes are checked"},options:{table:{type:{summary:"array"}},description:"The list of options to show. This should be an array of objects containing a `label` and `value` property.",control:"array"},onChange:{table:{type:{summary:"function"}},action:"toggled"}}},Template=args=>{const[{checked,onChange:argsOnChange},updateArgs]=(0,_storybook_client_api__WEBPACK_IMPORTED_MODULE_3__.D8)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.Z,{...args,onChange:checkedOption=>{argsOnChange(checkedOption),checked?.includes(checkedOption)?updateArgs({checked:checked.filter((option=>option!==checkedOption))}):(checked.push(checkedOption),updateArgs({...args,checked}))}})};Template.displayName="Template";const Default=Template.bind({});Default.args={options:[{label:"ðŸ Apple",value:"apple"},{label:"ðŸŒ Banana",value:"banana"},{label:"ðŸ‡ Grapes",value:"grapes"},{label:"ðŸ Pineapple",value:"pineapple"},{label:"ðŸŠ Orange",value:"orange"},{label:"ðŸ‰ Watermelon",value:"watermelon"},{label:"ðŸ“ Strawberry",value:"strawberry"},{label:"ðŸ‘ Peach",value:"peach"}],checked:["apple"]},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => {\n  const [{\n    checked,\n    onChange: argsOnChange\n  }, updateArgs] = useArgs();\n  const onChange = (checkedOption: string) => {\n    argsOnChange(checkedOption);\n    if (checked?.includes(checkedOption)) {\n      updateArgs({\n        checked: checked.filter((option: string) => option !== checkedOption)\n      });\n      return;\n    }\n    checked.push(checkedOption);\n    updateArgs({\n      ...args,\n      checked\n    });\n  };\n  return <CheckboxList {...args} onChange={onChange} />;\n}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"./packages/components/checkbox-list/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@wordpress/i18n/build-module/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),_woocommerce_blocks_checkout__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/checkout/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__("./packages/components/checkbox-list/style.scss"),__webpack_require__("./node_modules/react/jsx-runtime.js"));const CheckboxList=({className,onChange,options=[],checked=[],isLoading=!1,isDisabled=!1,limit=10})=>{const[showExpanded,setShowExpanded]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),placeholder=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>[...Array(5)].map(((x,i)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("li",{style:{width:Math.floor(75*Math.random())+25+"%"},children:"Â "},i)))),[]),renderedShowMore=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{const remainingOptionsCount=options.length-limit;return!showExpanded&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("li",{className:"show-more",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{onClick:()=>{setShowExpanded(!0)},"aria-expanded":!1,"aria-label":(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.sprintf)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__._n)("Show %s more option","Show %s more options",remainingOptionsCount,"woo-gutenberg-products-block"),remainingOptionsCount),children:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.sprintf)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__._n)("Show %s more","Show %s more",remainingOptionsCount,"woo-gutenberg-products-block"),remainingOptionsCount)})},"show-more")}),[options,limit,showExpanded]),renderedShowLess=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>showExpanded&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("li",{className:"show-less",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("button",{onClick:()=>{setShowExpanded(!1)},"aria-expanded":!0,"aria-label":(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Show less options","woo-gutenberg-products-block"),children:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Show less","woo-gutenberg-products-block")})},"show-less")),[showExpanded]),renderedOptions=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{const shouldTruncateOptions=options.length>limit+5;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children:[options.map(((option,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("li",{...shouldTruncateOptions&&!showExpanded&&index>=limit&&{hidden:!0},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_woocommerce_blocks_checkout__WEBPACK_IMPORTED_MODULE_3__.Z8,{id:option.value,className:"wc-block-checkbox-list__checkbox",label:option.label,checked:checked.includes(option.value),onChange:()=>{onChange(option.value)},disabled:isDisabled})}),shouldTruncateOptions&&index===limit-1&&renderedShowMore]},option.value))),shouldTruncateOptions&&renderedShowLess]})}),[options,onChange,checked,showExpanded,limit,renderedShowLess,renderedShowMore,isDisabled]),classes=classnames__WEBPACK_IMPORTED_MODULE_2___default()("wc-block-checkbox-list","wc-block-components-checkbox-list",{"is-loading":isLoading},className);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("ul",{className:classes,children:isLoading?placeholder:renderedOptions})};CheckboxList.displayName="CheckboxList",CheckboxList.__docgenInfo={description:"Component used to show a list of checkboxes in a group.\n\n@param {Object}               props            Incoming props for the component.\n@param {string}               props.className  CSS class used.\n@param {function(string):any} props.onChange   Function called when inputs change.\n@param {Array}                props.options    Options for list.\n@param {Array}                props.checked    Which items are checked.\n@param {boolean}              props.isLoading  If loading or not.\n@param {boolean}              props.isDisabled If inputs are disabled or not.\n@param {number}               props.limit      Whether to limit the number of inputs showing.",methods:[],displayName:"CheckboxList",props:{options:{defaultValue:{value:"[]",computed:!1},required:!1,tsType:{name:"union",raw:"CheckboxListOptions[] | undefined",elements:[{name:"Array",elements:[{name:"CheckboxListOptions"}],raw:"CheckboxListOptions[]"},{name:"undefined"}]},description:""},checked:{defaultValue:{value:"[]",computed:!1},required:!1,tsType:{name:"union",raw:"string[] | undefined",elements:[{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"undefined"}]},description:""},isLoading:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"union",raw:"boolean | undefined",elements:[{name:"boolean"},{name:"undefined"}]},description:""},isDisabled:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"union",raw:"boolean | undefined",elements:[{name:"boolean"},{name:"undefined"}]},description:""},limit:{defaultValue:{value:"10",computed:!1},required:!1,tsType:{name:"union",raw:"number | undefined",elements:[{name:"number"},{name:"undefined"}]},description:""},className:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"( value: string ) => void | undefined",signature:{arguments:[{name:"value",type:{name:"string"}}],return:{name:"union",raw:"void | undefined",elements:[{name:"void"},{name:"undefined"}]}}},description:""}}};const __WEBPACK_DEFAULT_EXPORT__=CheckboxList;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/checkbox-list/index.tsx"]={name:"CheckboxList",docgenInfo:CheckboxList.__docgenInfo,path:"packages/components/checkbox-list/index.tsx"})},"./node_modules/@storybook/client-api/node_modules/@storybook/preview-api/dist/chunk-2WNKQWTL.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D8:()=>useArgs});var _storybook_channels__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/channels/dist/chunk-NH5GSF3H.mjs"),_storybook_global__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/global/dist/index.mjs"),_storybook_client_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/client-logger/dist/index.mjs"),_storybook_core_events__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/core-events/dist/index.mjs");Object.create,Object.defineProperty,Object.getOwnPropertyDescriptor,Object.getOwnPropertyNames,Object.getPrototypeOf,Object.prototype.hasOwnProperty;var AddonStore=class{constructor(){this.getChannel=()=>{if(!this.channel){let channel=function mockChannel(){return new _storybook_channels__WEBPACK_IMPORTED_MODULE_0__.$({transport:{setHandler:()=>{},send:()=>{}}})}();return this.setChannel(channel),channel}return this.channel},this.getServerChannel=()=>{if(!this.serverChannel)throw new Error("Accessing non-existent serverChannel");return this.serverChannel},this.ready=()=>this.promise,this.hasChannel=()=>!!this.channel,this.hasServerChannel=()=>!!this.serverChannel,this.setChannel=channel=>{this.channel=channel,this.resolve()},this.setServerChannel=channel=>{this.serverChannel=channel},this.promise=new Promise((res=>{this.resolve=()=>res(this.getChannel())}))}},KEY="__STORYBOOK_ADDONS_PREVIEW";var addons=function getAddonsStore(){return _storybook_global__WEBPACK_IMPORTED_MODULE_1__.global[KEY]||(_storybook_global__WEBPACK_IMPORTED_MODULE_1__.global[KEY]=new AddonStore),_storybook_global__WEBPACK_IMPORTED_MODULE_1__.global[KEY]}();var areDepsEqual=(deps,nextDeps)=>deps.length===nextDeps.length&&deps.every(((dep,i)=>dep===nextDeps[i])),invalidHooksError=()=>new Error("Storybook preview hooks can only be called inside decorators and story functions.");function getHooksContextOrNull(){return _storybook_global__WEBPACK_IMPORTED_MODULE_1__.global.STORYBOOK_HOOKS_CONTEXT||null}function getHooksContextOrThrow(){let hooks=getHooksContextOrNull();if(null==hooks)throw invalidHooksError();return hooks}function useMemoLike(name,nextCreate,deps){let{memoizedState}=function useHook(name,callback,deps){let hooks=getHooksContextOrThrow();if("MOUNT"===hooks.currentPhase){null!=deps&&!Array.isArray(deps)&&_storybook_client_logger__WEBPACK_IMPORTED_MODULE_2__.kg.warn(`${name} received a final argument that is not an array (instead, received ${deps}). When specified, the final argument must be an array.`);let hook={name,deps};return hooks.currentHooks.push(hook),callback(hook),hook}if("UPDATE"===hooks.currentPhase){let hook=hooks.getNextHook();if(null==hook)throw new Error("Rendered more hooks than during the previous render.");return hook.name!==name&&_storybook_client_logger__WEBPACK_IMPORTED_MODULE_2__.kg.warn(`Storybook has detected a change in the order of Hooks${hooks.currentDecoratorName?` called by ${hooks.currentDecoratorName}`:""}. This will lead to bugs and errors if not fixed.`),null!=deps&&null==hook.deps&&_storybook_client_logger__WEBPACK_IMPORTED_MODULE_2__.kg.warn(`${name} received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.`),null!=deps&&null!=hook.deps&&deps.length!==hook.deps.length&&_storybook_client_logger__WEBPACK_IMPORTED_MODULE_2__.kg.warn(`The final argument passed to ${name} changed size between renders. The order and size of this array must remain constant.\nPrevious: ${hook.deps}\nIncoming: ${deps}`),(null==deps||null==hook.deps||!areDepsEqual(deps,hook.deps))&&(callback(hook),hook.deps=deps),hook}throw invalidHooksError()}(name,(hook=>{hook.memoizedState=nextCreate()}),deps);return memoizedState}function useCallback(callback,deps){return useMemoLike("useCallback",(()=>callback),deps)}function useStoryContext(){let{currentContext}=getHooksContextOrThrow();if(null==currentContext)throw invalidHooksError();return currentContext}function useArgs(){let channel=addons.getChannel(),{id:storyId,args}=useStoryContext();return[args,useCallback((updatedArgs=>channel.emit(_storybook_core_events__WEBPACK_IMPORTED_MODULE_3__.UPDATE_STORY_ARGS,{storyId,updatedArgs})),[channel,storyId]),useCallback((argNames=>channel.emit(_storybook_core_events__WEBPACK_IMPORTED_MODULE_3__.RESET_STORY_ARGS,{storyId,argNames})),[channel,storyId])]}},"./packages/components/checkbox-list/style.scss":()=>{}}]);