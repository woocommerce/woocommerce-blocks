(()=>{var e,t={1807:(e,t,o)=>{"use strict";o.r(t);var r=o(9307),c=o(5736),n=o(4184),s=o.n(n);const a=window.wp.blockEditor;var l=o(444);const i=(0,r.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,r.createElement)("path",{d:"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}));var u=o(1984);const d=window.wp.blocks;var p=o(4942);const m=window.wc.wcSettings;var g;const _=(0,m.getSetting)("wcBlocksConfig",{buildPhase:1,pluginUrl:"",productCount:0,defaultAvatar:"",restApiRoutes:{},wordCountType:"words"}),b=_.pluginUrl+"images/",h=(_.pluginUrl,_.buildPhase),k=null===(g=m.STORE_PAGES.shop)||void 0===g?void 0:g.permalink,E=m.STORE_PAGES.checkout.id,w=(m.STORE_PAGES.checkout.permalink,m.STORE_PAGES.privacy.permalink,m.STORE_PAGES.privacy.title,m.STORE_PAGES.terms.permalink,m.STORE_PAGES.terms.title,m.STORE_PAGES.cart.id),y=m.STORE_PAGES.cart.permalink,v=(m.STORE_PAGES.myaccount.permalink?m.STORE_PAGES.myaccount.permalink:(0,m.getSetting)("wpLoginUrl","/wp-login.php"),(0,m.getSetting)("localPickupEnabled",!1)),f=(0,m.getSetting)("countries",{}),C=(0,m.getSetting)("countryData",{}),S=Object.fromEntries(Object.keys(C).filter((e=>!0===C[e].allowBilling)).map((e=>[e,f[e]||""]))),N=Object.fromEntries(Object.keys(C).filter((e=>!0===C[e].allowBilling)).map((e=>[e,C[e].states||[]]))),P=Object.fromEntries(Object.keys(C).filter((e=>!0===C[e].allowShipping)).map((e=>[e,f[e]||""]))),x=Object.fromEntries(Object.keys(C).filter((e=>!0===C[e].allowShipping)).map((e=>[e,C[e].states||[]]))),R=Object.fromEntries(Object.keys(C).map((e=>[e,C[e].locale||[]]))),T=()=>h>1,I=({imageUrl:e=`${b}/block-error.svg`,header:t=(0,c.__)("Oops!","woo-gutenberg-products-block"),text:o=(0,c.__)("There was an error loading the content.","woo-gutenberg-products-block"),errorMessage:n,errorMessagePrefix:s=(0,c.__)("Error:","woo-gutenberg-products-block"),button:a,showErrorBlock:l=!0})=>l?(0,r.createElement)("div",{className:"wc-block-error wc-block-components-error"},e&&(0,r.createElement)("img",{className:"wc-block-error__image wc-block-components-error__image",src:e,alt:""}),(0,r.createElement)("div",{className:"wc-block-error__content wc-block-components-error__content"},t&&(0,r.createElement)("p",{className:"wc-block-error__header wc-block-components-error__header"},t),o&&(0,r.createElement)("p",{className:"wc-block-error__text wc-block-components-error__text"},o),n&&(0,r.createElement)("p",{className:"wc-block-error__message wc-block-components-error__message"},s?s+" ":"",n),a&&(0,r.createElement)("p",{className:"wc-block-error__button wc-block-components-error__button"},a))):null;o(4578);class A extends r.Component{constructor(...e){super(...e),(0,p.Z)(this,"state",{errorMessage:"",hasError:!1})}static getDerivedStateFromError(e){return void 0!==e.statusText&&void 0!==e.status?{errorMessage:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("strong",null,e.status),": ",e.statusText),hasError:!0}:{errorMessage:e.message,hasError:!0}}render(){const{header:e,imageUrl:t,showErrorMessage:o=!0,showErrorBlock:c=!0,text:n,errorMessagePrefix:s,renderError:a,button:l}=this.props,{errorMessage:i,hasError:u}=this.state;return u?"function"==typeof a?a({errorMessage:i}):(0,r.createElement)(I,{showErrorBlock:c,errorMessage:o?i:null,header:e,imageUrl:t,text:n,errorMessagePrefix:s,button:l}):this.props.children}}const B=A,M=window.wp.data,O=(0,r.createContext)({isEditor:!1,currentPostId:0,currentView:"",previewData:{},getPreviewData:()=>({})}),D=()=>(0,r.useContext)(O),L=({children:e,currentPostId:t=0,previewData:o={},currentView:c="",isPreview:n=!1})=>{const s=(0,M.useSelect)((e=>t||e("core/editor").getCurrentPostId()),[t]),a=(0,r.useCallback)((e=>o&&e in o?o[e]:{}),[o]),l={isEditor:!0,currentPostId:s,currentView:c,previewData:o,getPreviewData:a,isPreview:n};return(0,r.createElement)(O.Provider,{value:l},e)},F=window.wp.plugins,V=window.wc.wcBlocksData;var $=o(7180),U=o.n($);let Y=function(e){return e.ADD_EVENT_CALLBACK="add_event_callback",e.REMOVE_EVENT_CALLBACK="remove_event_callback",e}({});const j={},z=(e=j,{type:t,eventType:o,id:r,callback:c,priority:n})=>{const s=e.hasOwnProperty(o)?new Map(e[o]):new Map;switch(t){case Y.ADD_EVENT_CALLBACK:return s.set(r,{priority:n,callback:c}),{...e,[o]:s};case Y.REMOVE_EVENT_CALLBACK:return s.delete(r),{...e,[o]:s}}},K=(e,t)=>(o,r=10)=>{const c=((e,t,o=10)=>({id:Math.floor(Math.random()*Date.now()).toString(),type:Y.ADD_EVENT_CALLBACK,eventType:e,callback:t,priority:o}))(e,o,r);return t(c),()=>{var o;t((o=e,{id:c.id,type:Y.REMOVE_EVENT_CALLBACK,eventType:o}))}},H=(0,r.createContext)({onPaymentProcessing:()=>()=>()=>{},onPaymentSetup:()=>()=>()=>{}}),q=({children:e})=>{const{isProcessing:t,isIdle:o,isCalculating:c,hasError:n}=(0,M.useSelect)((e=>{const t=e(V.CHECKOUT_STORE_KEY);return{isProcessing:t.isProcessing(),isIdle:t.isIdle(),hasError:t.hasError(),isCalculating:t.isCalculating()}})),{isPaymentReady:s}=(0,M.useSelect)((e=>{const t=e(V.PAYMENT_STORE_KEY);return{isPaymentProcessing:t.isPaymentProcessing(),isPaymentReady:t.isPaymentReady()}})),{setValidationErrors:a}=(0,M.useDispatch)(V.VALIDATION_STORE_KEY),[l,i]=(0,r.useReducer)(z,{}),{onPaymentSetup:u}=(e=>(0,r.useMemo)((()=>({onPaymentSetup:K("payment_setup",e)})),[e]))(i),d=(0,r.useRef)(l);(0,r.useEffect)((()=>{d.current=l}),[l]);const{__internalSetPaymentProcessing:p,__internalSetPaymentIdle:m,__internalEmitPaymentProcessingEvent:g}=(0,M.useDispatch)(V.PAYMENT_STORE_KEY);(0,r.useEffect)((()=>{!t||n||c||(p(),g(d.current,a))}),[t,n,c,p,g,a]),(0,r.useEffect)((()=>{o&&!s&&m()}),[o,s,m]),(0,r.useEffect)((()=>{n&&s&&m()}),[n,s,m]);const _={onPaymentProcessing:(0,r.useMemo)((()=>function(...e){return U()("onPaymentProcessing",{alternative:"onPaymentSetup",plugin:"WooCommerce Blocks"}),u(...e)}),[u]),onPaymentSetup:u};return(0,r.createElement)(H.Provider,{value:_},e)},Z={NONE:"none",INVALID_ADDRESS:"invalid_address",UNKNOWN:"unknown_error"},W={INVALID_COUNTRY:"woocommerce_rest_cart_shipping_rates_invalid_country",MISSING_COUNTRY:"woocommerce_rest_cart_shipping_rates_missing_country",INVALID_STATE:"woocommerce_rest_cart_shipping_rates_invalid_state"},G={shippingErrorStatus:{isPristine:!0,isValid:!1,hasInvalidAddress:!1,hasError:!1},dispatchErrorStatus:e=>e,shippingErrorTypes:Z,onShippingRateSuccess:()=>()=>{},onShippingRateFail:()=>()=>{},onShippingRateSelectSuccess:()=>()=>{},onShippingRateSelectFail:()=>()=>{}},Q=(e,{type:t})=>Object.values(Z).includes(t)?t:e,X="shipping_rates_success",J="shipping_rates_fail",ee="shipping_rate_select_success",te="shipping_rate_select_fail",oe=e=>({onSuccess:K(X,e),onFail:K(J,e),onSelectSuccess:K(ee,e),onSelectFail:K(te,e)});let re=function(e){return e.SUCCESS="success",e.FAIL="failure",e.ERROR="error",e}({}),ce=function(e){return e.CART="wc/cart",e.CHECKOUT="wc/checkout",e.PAYMENTS="wc/checkout/payments",e.EXPRESS_PAYMENTS="wc/checkout/express-payments",e.CONTACT_INFORMATION="wc/checkout/contact-information",e.SHIPPING_ADDRESS="wc/checkout/shipping-address",e.BILLING_ADDRESS="wc/checkout/billing-address",e.SHIPPING_METHODS="wc/checkout/shipping-methods",e.CHECKOUT_ACTIONS="wc/checkout/checkout-actions",e}({});const ne=async(e,t,o)=>{const r=((e,t)=>e[t]?Array.from(e[t].values()).sort(((e,t)=>e.priority-t.priority)):[])(e,t),c=[];for(const e of r)try{const t=await Promise.resolve(e.callback(o));"object"==typeof t&&c.push(t)}catch(e){console.error(e)}return!c.length||c};var se=o(2991),ae=o.n(se);const le=window.wp.htmlEntities,ie=e=>"number"==typeof e,ue=e=>"string"==typeof e,de=e=>{const t={};return void 0!==e.label&&(t.label=e.label),void 0!==e.required&&(t.required=e.required),void 0!==e.hidden&&(t.hidden=e.hidden),void 0===e.label||e.optionalLabel||(t.optionalLabel=(0,c.sprintf)(/* translators: %s Field label. */
(0,c.__)("%s (optional)","woo-gutenberg-products-block"),e.label)),e.priority&&(ie(e.priority)&&(t.index=e.priority),ue(e.priority)&&(t.index=parseInt(e.priority,10))),e.hidden&&(t.required=!1),t},pe=Object.entries(R).map((([e,t])=>[e,Object.entries(t).map((([e,t])=>[e,de(t)])).reduce(((e,[t,o])=>(e[t]=o,e)),{})])).reduce(((e,[t,o])=>(e[t]=o,e)),{}),me=(e,t,o="")=>{const r=o&&void 0!==pe[o]?pe[o]:{};return e.map((e=>({key:e,...m.defaultAddressFields[e]||{},...r[e]||{},...t[e]||{}}))).sort(((e,t)=>e.index-t.index))},ge=(window.wp.url,e=>{const t=Object.keys(m.defaultAddressFields),o=me(t,{},e.country),r=Object.assign({},e);return o.forEach((({key:t="",hidden:o=!1})=>{o&&((e,t)=>e in t)(t,e)&&(r[t]="")})),r}),_e=e=>!!e.city&&!!e.country,be=window.CustomEvent||null,he=(e,t,o=!1,r=!1)=>{if("function"!=typeof jQuery)return()=>{};const c=()=>{((e,{bubbles:t=!1,cancelable:o=!1,element:r,detail:c={}})=>{if(!be)return;r||(r=document.body);const n=new be(e,{bubbles:t,cancelable:o,detail:c});r.dispatchEvent(n)})(t,{bubbles:o,cancelable:r})};return jQuery(document).on(e,c),()=>jQuery(document).off(e,c)},ke=e=>{const t=null==e?void 0:e.detail;t&&t.preserveCartData||(0,M.dispatch)(V.CART_STORE_KEY).invalidateResolutionForStore()},Ee=e=>{(null!=e&&e.persisted||"back_forward"===(window.performance&&window.performance.getEntriesByType("navigation").length?window.performance.getEntriesByType("navigation")[0].type:""))&&(0,M.dispatch)(V.CART_STORE_KEY).invalidateResolutionForStore()},we=()=>{1===window.wcBlocksStoreCartListeners.count&&window.wcBlocksStoreCartListeners.remove(),window.wcBlocksStoreCartListeners.count--},ye={first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},ve={...ye,email:""},fe={total_items:"",total_items_tax:"",total_fees:"",total_fees_tax:"",total_discount:"",total_discount_tax:"",total_shipping:"",total_shipping_tax:"",total_price:"",total_tax:"",tax_lines:V.EMPTY_TAX_LINES,currency_code:"",currency_symbol:"",currency_minor_unit:2,currency_decimal_separator:"",currency_thousand_separator:"",currency_prefix:"",currency_suffix:""},Ce=e=>Object.fromEntries(Object.entries(e).map((([e,t])=>[e,(0,le.decodeEntities)(t)]))),Se={cartCoupons:V.EMPTY_CART_COUPONS,cartItems:V.EMPTY_CART_ITEMS,cartFees:V.EMPTY_CART_FEES,cartItemsCount:0,cartItemsWeight:0,crossSellsProducts:V.EMPTY_CART_CROSS_SELLS,cartNeedsPayment:!0,cartNeedsShipping:!0,cartItemErrors:V.EMPTY_CART_ITEM_ERRORS,cartTotals:fe,cartIsLoading:!0,cartErrors:V.EMPTY_CART_ERRORS,billingAddress:ve,shippingAddress:ye,shippingRates:V.EMPTY_SHIPPING_RATES,isLoadingRates:!1,cartHasCalculatedShipping:!1,paymentMethods:V.EMPTY_PAYMENT_METHODS,paymentRequirements:V.EMPTY_PAYMENT_REQUIREMENTS,receiveCart:()=>{},receiveCartContents:()=>{},extensions:V.EMPTY_EXTENSIONS},Ne=(e={shouldSelect:!0})=>{const{isEditor:t,previewData:o}=D(),c=null==o?void 0:o.previewCart,{shouldSelect:n}=e,s=(0,r.useRef)();(0,r.useEffect)((()=>((()=>{if(window.wcBlocksStoreCartListeners||(window.wcBlocksStoreCartListeners={count:0,remove:()=>{}}),(null===(e=window.wcBlocksStoreCartListeners)||void 0===e?void 0:e.count)>0)return void window.wcBlocksStoreCartListeners.count++;var e;document.body.addEventListener("wc-blocks_added_to_cart",ke),document.body.addEventListener("wc-blocks_removed_from_cart",ke),window.addEventListener("pageshow",Ee);const t=he("added_to_cart","wc-blocks_added_to_cart"),o=he("removed_from_cart","wc-blocks_removed_from_cart");window.wcBlocksStoreCartListeners.count=1,window.wcBlocksStoreCartListeners.remove=()=>{document.body.removeEventListener("wc-blocks_added_to_cart",ke),document.body.removeEventListener("wc-blocks_removed_from_cart",ke),window.removeEventListener("pageshow",Ee),t(),o()}})(),we)),[]);const a=(0,M.useSelect)(((e,{dispatch:o})=>{if(!n)return Se;if(t)return{cartCoupons:c.coupons,cartItems:c.items,crossSellsProducts:c.cross_sells,cartFees:c.fees,cartItemsCount:c.items_count,cartItemsWeight:c.items_weight,cartNeedsPayment:c.needs_payment,cartNeedsShipping:c.needs_shipping,cartItemErrors:V.EMPTY_CART_ITEM_ERRORS,cartTotals:c.totals,cartIsLoading:!1,cartErrors:V.EMPTY_CART_ERRORS,billingData:ve,billingAddress:ve,shippingAddress:ye,extensions:V.EMPTY_EXTENSIONS,shippingRates:c.shipping_rates,isLoadingRates:!1,cartHasCalculatedShipping:c.has_calculated_shipping,paymentRequirements:c.paymentRequirements,receiveCart:"function"==typeof(null==c?void 0:c.receiveCart)?c.receiveCart:()=>{},receiveCartContents:"function"==typeof(null==c?void 0:c.receiveCartContents)?c.receiveCartContents:()=>{}};const r=e(V.CART_STORE_KEY),s=r.getCartData(),a=r.getCartErrors(),l=r.getCartTotals(),i=!r.hasFinishedResolution("getCartData"),u=r.isCustomerDataUpdating(),{receiveCart:d,receiveCartContents:p}=o(V.CART_STORE_KEY),m=Ce(s.billingAddress),g=s.needsShipping?Ce(s.shippingAddress):m,_=s.fees.length>0?s.fees.map((e=>Ce(e))):V.EMPTY_CART_FEES,b=s.coupons.length>0?s.coupons.map((e=>({...e,label:e.code}))):V.EMPTY_CART_COUPONS;return{cartCoupons:b,cartItems:s.items,crossSellsProducts:s.crossSells,cartFees:_,cartItemsCount:s.itemsCount,cartItemsWeight:s.itemsWeight,cartNeedsPayment:s.needsPayment,cartNeedsShipping:s.needsShipping,cartItemErrors:s.errors,cartTotals:l,cartIsLoading:i,cartErrors:a,billingData:ge(m),billingAddress:ge(m),shippingAddress:ge(g),extensions:s.extensions,shippingRates:s.shippingRates,isLoadingRates:u,cartHasCalculatedShipping:s.hasCalculatedShipping,paymentRequirements:s.paymentRequirements,receiveCart:d,receiveCartContents:p}}),[n]);return s.current&&ae()(s.current,a)||(s.current=a),s.current},Pe=e=>!(e=>null===e)(e)&&e instanceof Object&&e.constructor===Object;function xe(e,t){return Pe(e)&&t in e}const Re=(0,m.getSetting)("collectableMethodIds",[]),Te=e=>Re.includes(e.method_id),Ie=e=>!!v&&(Array.isArray(e)?!!e.find((e=>Re.includes(e))):Re.includes(e));var Ae=o(9127),Be=o.n(Ae);const Me=[{destination:{address_1:"",address_2:"",city:"",state:"",postcode:"",country:""},package_id:0,name:(0,c.__)("Shipping","woo-gutenberg-products-block"),items:[{key:"33e75ff09dd601bbe69f351039152189",name:(0,c._x)("Beanie with Logo","example product in Cart Block","woo-gutenberg-products-block"),quantity:2},{key:"6512bd43d9caa6e02c990b0a82652dca",name:(0,c._x)("Beanie","example product in Cart Block","woo-gutenberg-products-block"),quantity:1}],shipping_rates:[{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",name:(0,c.__)("Flat rate shipping","woo-gutenberg-products-block"),description:"",delivery_time:"",price:"500",taxes:"0",rate_id:"flat_rate:0",instance_id:0,meta_data:[],method_id:"flat_rate",selected:!0},{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",name:(0,c.__)("Free shipping","woo-gutenberg-products-block"),description:"",delivery_time:"",price:"0",taxes:"0",rate_id:"free_shipping:1",instance_id:0,meta_data:[],method_id:"flat_rate",selected:!1},{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",name:(0,c.__)("Local pickup","woo-gutenberg-products-block"),description:"",delivery_time:"",price:"0",taxes:"0",rate_id:"pickup_location:1",instance_id:1,meta_data:[{key:"pickup_location",value:"New York"},{key:"pickup_address",value:"123 Easy Street, New York, 12345"}],method_id:"pickup_location",selected:!1},{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",name:(0,c.__)("Local pickup","woo-gutenberg-products-block"),description:"",delivery_time:"",price:"0",taxes:"0",rate_id:"pickup_location:2",instance_id:1,meta_data:[{key:"pickup_location",value:"Los Angeles"},{key:"pickup_address",value:"123 Easy Street, Los Angeles, California, 90210"}],method_id:"pickup_location",selected:!1}]}],Oe=(0,m.getSetting)("displayCartPricesIncludingTax",!1),De={coupons:[],shipping_rates:(0,m.getSetting)("shippingMethodsExist",!1)||(0,m.getSetting)("localPickupEnabled",!1)?Me:[],items:[{key:"1",id:1,quantity:2,catalog_visibility:"visible",name:(0,c.__)("Beanie","woo-gutenberg-products-block"),summary:(0,c.__)("Beanie","woo-gutenberg-products-block"),short_description:(0,c.__)("Warm hat for winter","woo-gutenberg-products-block"),description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",sku:"woo-beanie",permalink:"https://example.org",low_stock_remaining:2,backorders_allowed:!1,show_backorder_badge:!1,sold_individually:!1,quantity_limits:{minimum:1,maximum:99,multiple_of:1,editable:!0},images:[{id:10,src:b+"previews/beanie.jpg",thumbnail:b+"previews/beanie.jpg",srcset:"",sizes:"",name:"",alt:""}],variation:[{attribute:(0,c.__)("Color","woo-gutenberg-products-block"),value:(0,c.__)("Yellow","woo-gutenberg-products-block")},{attribute:(0,c.__)("Size","woo-gutenberg-products-block"),value:(0,c.__)("Small","woo-gutenberg-products-block")}],prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Oe?"12000":"10000",regular_price:Oe?"12000":"10000",sale_price:Oe?"12000":"10000",price_range:null,raw_prices:{precision:6,price:Oe?"12000000":"10000000",regular_price:Oe?"12000000":"10000000",sale_price:Oe?"12000000":"10000000"}},totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",line_subtotal:"2000",line_subtotal_tax:"400",line_total:"2000",line_total_tax:"400"},extensions:{},item_data:[]},{key:"2",id:2,quantity:1,catalog_visibility:"visible",name:(0,c.__)("Cap","woo-gutenberg-products-block"),summary:(0,c.__)("Cap","woo-gutenberg-products-block"),short_description:(0,c.__)("Lightweight baseball cap","woo-gutenberg-products-block"),description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",sku:"woo-cap",low_stock_remaining:null,permalink:"https://example.org",backorders_allowed:!1,show_backorder_badge:!1,sold_individually:!1,quantity_limits:{minimum:1,maximum:99,multiple_of:1,editable:!0},images:[{id:11,src:b+"previews/cap.jpg",thumbnail:b+"previews/cap.jpg",srcset:"",sizes:"",name:"",alt:""}],variation:[{attribute:(0,c.__)("Color","woo-gutenberg-products-block"),value:(0,c.__)("Orange","woo-gutenberg-products-block")}],prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Oe?"2400":"2000",regular_price:Oe?"2400":"2000",sale_price:Oe?"2400":"2000",price_range:null,raw_prices:{precision:6,price:Oe?"24000000":"20000000",regular_price:Oe?"24000000":"20000000",sale_price:Oe?"24000000":"20000000"}},totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",line_subtotal:"2000",line_subtotal_tax:"400",line_total:"2000",line_total_tax:"400"},extensions:{},item_data:[]}],cross_sells:[{id:1,name:(0,c.__)("Polo","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-polo",short_description:(0,c.__)("Polo","woo-gutenberg-products-block"),description:(0,c.__)("Polo","woo-gutenberg-products-block"),on_sale:!1,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Oe?"24000":"20000",regular_price:Oe?"24000":"20000",sale_price:Oe?"12000":"10000",price_range:null},price_html:"",average_rating:"4.5",review_count:2,images:[{id:17,src:b+"previews/polo.jpg",thumbnail:b+"previews/polo.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:2,name:(0,c.__)("Long Sleeve Tee","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-long-sleeve-tee",short_description:(0,c.__)("Long Sleeve Tee","woo-gutenberg-products-block"),description:(0,c.__)("Long Sleeve Tee","woo-gutenberg-products-block"),on_sale:!1,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Oe?"30000":"25000",regular_price:Oe?"30000":"25000",sale_price:Oe?"30000":"25000",price_range:null},price_html:"",average_rating:"4",review_count:2,images:[{id:17,src:b+"previews/long-sleeve-tee.jpg",thumbnail:b+"previews/long-sleeve-tee.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:3,name:(0,c.__)("Hoodie with Zipper","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-zipper",short_description:(0,c.__)("Hoodie with Zipper","woo-gutenberg-products-block"),description:(0,c.__)("Hoodie with Zipper","woo-gutenberg-products-block"),on_sale:!0,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Oe?"15000":"12500",regular_price:Oe?"30000":"25000",sale_price:Oe?"15000":"12500",price_range:null},price_html:"",average_rating:"1",review_count:2,images:[{id:17,src:b+"previews/hoodie-with-zipper.jpg",thumbnail:b+"previews/hoodie-with-zipper.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:4,name:(0,c.__)("Hoodie with Logo","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-logo",short_description:(0,c.__)("Polo","woo-gutenberg-products-block"),description:(0,c.__)("Polo","woo-gutenberg-products-block"),on_sale:!1,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Oe?"4500":"4250",regular_price:Oe?"4500":"4250",sale_price:Oe?"4500":"4250",price_range:null},price_html:"",average_rating:"5",review_count:2,images:[{id:17,src:b+"previews/hoodie-with-logo.jpg",thumbnail:b+"previews/hoodie-with-logo.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:5,name:(0,c.__)("Hoodie with Pocket","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-pocket",short_description:(0,c.__)("Hoodie with Pocket","woo-gutenberg-products-block"),description:(0,c.__)("Hoodie with Pocket","woo-gutenberg-products-block"),on_sale:!0,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Oe?"3500":"3250",regular_price:Oe?"4500":"4250",sale_price:Oe?"3500":"3250",price_range:null},price_html:"",average_rating:"3.75",review_count:4,images:[{id:17,src:b+"previews/hoodie-with-pocket.jpg",thumbnail:b+"previews/hoodie-with-pocket.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:6,name:(0,c.__)("T-Shirt","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-t-shirt",short_description:(0,c.__)("T-Shirt","woo-gutenberg-products-block"),description:(0,c.__)("T-Shirt","woo-gutenberg-products-block"),on_sale:!1,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Oe?"1800":"1500",regular_price:Oe?"1800":"1500",sale_price:Oe?"1800":"1500",price_range:null},price_html:"",average_rating:"3",review_count:2,images:[{id:17,src:b+"previews/tshirt.jpg",thumbnail:b+"previews/tshirt.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}}],fees:[{id:"fee",name:(0,c.__)("Fee","woo-gutenberg-products-block"),totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",total:"100",total_tax:"20"}}],items_count:3,items_weight:0,needs_payment:!0,needs_shipping:(0,m.getSetting)("shippingEnabled",!0),has_calculated_shipping:!0,shipping_address:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},billing_address:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",email:"",phone:""},totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",total_items:"4000",total_items_tax:"800",total_fees:"100",total_fees_tax:"20",total_discount:"0",total_discount_tax:"0",total_shipping:"0",total_shipping_tax:"0",total_tax:"820",total_price:"4920",tax_lines:[{name:(0,c.__)("Sales tax","woo-gutenberg-products-block"),rate:"20%",price:"820"}]},errors:[],payment_methods:["cod","bacs","cheque"],payment_requirements:["products"],extensions:{}},Le=window.wp.hooks,Fe=()=>({dispatchStoreEvent:(0,r.useCallback)(((e,t={})=>{try{(0,Le.doAction)(`experimental__woocommerce_blocks-${e}`,t)}catch(e){console.error(e)}}),[]),dispatchCheckoutEvent:(0,r.useCallback)(((e,t={})=>{try{(0,Le.doAction)(`experimental__woocommerce_blocks-checkout-${e}`,{...t,storeCart:(0,M.select)("wc/store/cart").getCartData()})}catch(e){console.error(e)}}),[])}),Ve=()=>{const{shippingRates:e,needsShipping:t,hasCalculatedShipping:o,isLoadingRates:c,isCollectable:n,isSelectingRate:s}=(0,M.useSelect)((e=>{const t=!!e("core/editor"),o=e(V.CART_STORE_KEY),r=t?De.shipping_rates:o.getShippingRates();return{shippingRates:r,needsShipping:t?De.needs_shipping:o.getNeedsShipping(),hasCalculatedShipping:t?De.has_calculated_shipping:o.getHasCalculatedShipping(),isLoadingRates:!t&&o.isCustomerDataUpdating(),isCollectable:r.every((({shipping_rates:e})=>e.find((({method_id:e})=>Ie(e))))),isSelectingRate:!t&&o.isShippingRateBeingSelected()}})),a=(0,r.useRef)({});(0,r.useEffect)((()=>{const t=(e=>Object.fromEntries(e.map((({package_id:e,shipping_rates:t})=>{var o;return[e,(null===(o=t.find((e=>e.selected)))||void 0===o?void 0:o.rate_id)||""]}))))(e);Pe(t)&&!Be()(a.current,t)&&(a.current=t)}),[e]);const{selectShippingRate:l}=(0,M.useDispatch)(V.CART_STORE_KEY),i=Ie(Object.values(a.current).map((e=>e.split(":")[0]))),{dispatchCheckoutEvent:u}=Fe(),d=(0,r.useCallback)(((e,t)=>{let o;void 0!==e&&(o=Ie(e.split(":")[0])?l(e,null):l(e,t),o.then((()=>{u("set-selected-shipping-rate",{shippingRateId:e})})).catch((e=>{(0,V.processErrorResponse)(e)})))}),[l,u]);return{isSelectingRate:s,selectedRates:a.current,selectShippingRate:d,shippingRates:e,needsShipping:t,hasCalculatedShipping:o,isLoadingRates:c,isCollectable:n,hasSelectedLocalPickup:i}},{NONE:$e,INVALID_ADDRESS:Ue,UNKNOWN:Ye}=Z,je=(0,r.createContext)(G),ze=()=>(0,r.useContext)(je),Ke=({children:e})=>{const{__internalIncrementCalculating:t,__internalDecrementCalculating:o}=(0,M.useDispatch)(V.CHECKOUT_STORE_KEY),{shippingRates:c,isLoadingRates:n,cartErrors:s}=Ne(),{selectedRates:a,isSelectingRate:l}=Ve(),[i,u]=(0,r.useReducer)(Q,$e),[d,p]=(0,r.useReducer)(z,{}),m=(0,r.useRef)(d),g=(0,r.useMemo)((()=>({onShippingRateSuccess:oe(p).onSuccess,onShippingRateFail:oe(p).onFail,onShippingRateSelectSuccess:oe(p).onSelectSuccess,onShippingRateSelectFail:oe(p).onSelectFail})),[p]);(0,r.useEffect)((()=>{m.current=d}),[d]),(0,r.useEffect)((()=>{n?t():o()}),[n,t,o]),(0,r.useEffect)((()=>{l?t():o()}),[t,o,l]),(0,r.useEffect)((()=>{s.length>0&&s.some((e=>!(!e.code||!Object.values(W).includes(e.code))))?u({type:Ue}):u({type:$e})}),[s]);const _=(0,r.useMemo)((()=>({isPristine:i===$e,isValid:i===$e,hasInvalidAddress:i===Ue,hasError:i===Ye||i===Ue})),[i]);(0,r.useEffect)((()=>{n||0!==c.length&&!_.hasError||ne(m.current,J,{hasInvalidAddress:_.hasInvalidAddress,hasError:_.hasError})}),[c,n,_.hasError,_.hasInvalidAddress]),(0,r.useEffect)((()=>{!n&&c.length>0&&!_.hasError&&ne(m.current,X,c)}),[c,n,_.hasError]),(0,r.useEffect)((()=>{l||(_.hasError?ne(m.current,te,{hasError:_.hasError,hasInvalidAddress:_.hasInvalidAddress}):ne(m.current,ee,a.current))}),[a,l,_.hasError,_.hasInvalidAddress]);const b={shippingErrorStatus:_,dispatchErrorStatus:u,shippingErrorTypes:Z,...g};return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(je.Provider,{value:b},e))};function He(e,t){const o=(0,r.useRef)();return(0,r.useEffect)((()=>{o.current===e||t&&!t(e,o.current)||(o.current=e)}),[e,t]),o.current}const qe={},Ze={},We=()=>qe,Ge=()=>Ze,Qe=(0,r.createContext)({onSubmit:()=>{},onCheckoutAfterProcessingWithSuccess:()=>()=>{},onCheckoutAfterProcessingWithError:()=>()=>{},onCheckoutBeforeProcessing:()=>()=>{},onCheckoutValidationBeforeProcessing:()=>()=>{},onCheckoutSuccess:()=>()=>{},onCheckoutFail:()=>()=>{},onCheckoutValidation:()=>()=>{}}),Xe=()=>(0,r.useContext)(Qe),Je=({children:e,redirectUrl:t})=>{const o=We(),c=Ge(),{isEditor:n}=D(),{__internalUpdateAvailablePaymentMethods:s}=(0,M.useDispatch)(V.PAYMENT_STORE_KEY);(0,r.useEffect)((()=>{(n||0!==Object.keys(o).length||0!==Object.keys(c).length)&&s()}),[n,o,c,s]);const{__internalSetRedirectUrl:a,__internalEmitValidateEvent:l,__internalEmitAfterProcessingEvents:i,__internalSetBeforeProcessing:u}=(0,M.useDispatch)(V.CHECKOUT_STORE_KEY),{checkoutRedirectUrl:d,checkoutStatus:p,isCheckoutBeforeProcessing:m,isCheckoutAfterProcessing:g,checkoutHasError:_,checkoutOrderId:b,checkoutOrderNotes:h,checkoutCustomerId:k}=(0,M.useSelect)((e=>{const t=e(V.CHECKOUT_STORE_KEY);return{checkoutRedirectUrl:t.getRedirectUrl(),checkoutStatus:t.getCheckoutStatus(),isCheckoutBeforeProcessing:t.isBeforeProcessing(),isCheckoutAfterProcessing:t.isAfterProcessing(),checkoutHasError:t.hasError(),checkoutOrderId:t.getOrderId(),checkoutOrderNotes:t.getOrderNotes(),checkoutCustomerId:t.getCustomerId()}}));t&&t!==d&&a(t);const{setValidationErrors:E}=(0,M.useDispatch)(V.VALIDATION_STORE_KEY),{dispatchCheckoutEvent:w}=Fe(),{checkoutNotices:y,paymentNotices:v,expressPaymentNotices:f}=(0,M.useSelect)((e=>{const{getNotices:t}=e("core/notices");return{checkoutNotices:Object.values(ce).filter((e=>e!==ce.PAYMENTS&&e!==ce.EXPRESS_PAYMENTS)).reduce(((e,o)=>[...e,...t(o)]),[]),paymentNotices:t(ce.PAYMENTS),expressPaymentNotices:t(ce.EXPRESS_PAYMENTS)}}),[]),[C,S]=(0,r.useReducer)(z,{}),N=(0,r.useRef)(C),{onCheckoutValidation:P,onCheckoutSuccess:x,onCheckoutFail:R}=(e=>(0,r.useMemo)((()=>({onCheckoutSuccess:K("checkout_success",e),onCheckoutFail:K("checkout_fail",e),onCheckoutValidation:K("checkout_validation",e)})),[e]))(S);(0,r.useEffect)((()=>{N.current=C}),[C]);const T=(0,r.useMemo)((()=>function(...e){return U()("onCheckoutBeforeProcessing",{alternative:"onCheckoutValidation",plugin:"WooCommerce Blocks"}),P(...e)}),[P]),I=(0,r.useMemo)((()=>function(...e){return U()("onCheckoutValidationBeforeProcessing",{since:"9.7.0",alternative:"onCheckoutValidation",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8381"}),P(...e)}),[P]),A=(0,r.useMemo)((()=>function(...e){return U()("onCheckoutAfterProcessingWithSuccess",{since:"9.7.0",alternative:"onCheckoutSuccess",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8381"}),x(...e)}),[x]),B=(0,r.useMemo)((()=>function(...e){return U()("onCheckoutAfterProcessingWithError",{since:"9.7.0",alternative:"onCheckoutFail",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8381"}),R(...e)}),[R]);(0,r.useEffect)((()=>{m&&l({observers:N.current,setValidationErrors:E})}),[m,E,l]);const O=He(p),L=He(_);(0,r.useEffect)((()=>{p===O&&_===L||g&&i({observers:N.current,notices:{checkoutNotices:y,paymentNotices:v,expressPaymentNotices:f}})}),[p,_,d,b,k,h,g,m,O,L,y,f,v,l,i]);const F={onSubmit:(0,r.useCallback)((()=>{w("submit"),u()}),[w,u]),onCheckoutBeforeProcessing:T,onCheckoutValidationBeforeProcessing:I,onCheckoutAfterProcessingWithSuccess:A,onCheckoutAfterProcessingWithError:B,onCheckoutSuccess:x,onCheckoutFail:R,onCheckoutValidation:P};return(0,r.createElement)(Qe.Provider,{value:F},e)},et=window.wp.apiFetch;var tt=o.n(et);(0,c.__)("Something went wrong. Please contact us to get assistance.","woo-gutenberg-products-block");const ot=window.wc.wcBlocksRegistry,rt=(e,t,o)=>{const r=Object.keys(e).map((t=>({key:t,value:e[t]})),[]),c=`wc-${o}-new-payment-method`;return r.push({key:c,value:t}),r},ct=e=>{if(!e)return;const{__internalSetCustomerId:t}=(0,M.dispatch)(V.CHECKOUT_STORE_KEY);tt().setNonce&&"function"==typeof tt().setNonce&&tt().setNonce(e),null!=e&&e.get("User-ID")&&t(parseInt(e.get("User-ID")||"0",10))},nt=()=>{const{onCheckoutValidation:e}=Xe(),{hasError:t,redirectUrl:o,isProcessing:n,isBeforeProcessing:s,isComplete:a,orderNotes:l,shouldCreateAccount:i,extensionData:u}=(0,M.useSelect)((e=>{const t=e(V.CHECKOUT_STORE_KEY);return{hasError:t.hasError(),redirectUrl:t.getRedirectUrl(),isProcessing:t.isProcessing(),isBeforeProcessing:t.isBeforeProcessing(),isComplete:t.isComplete(),orderNotes:t.getOrderNotes(),shouldCreateAccount:t.getShouldCreateAccount(),extensionData:t.getExtensionData()}})),{__internalSetHasError:d,__internalProcessCheckoutResponse:p}=(0,M.useDispatch)(V.CHECKOUT_STORE_KEY),m=(0,M.useSelect)((e=>e(V.VALIDATION_STORE_KEY).hasValidationErrors)),{shippingErrorStatus:g}=ze(),{billingAddress:_,shippingAddress:b}=(0,M.useSelect)((e=>e(V.CART_STORE_KEY).getCustomerData())),{cartNeedsPayment:h,cartNeedsShipping:k,receiveCartContents:E}=Ne(),{activePaymentMethod:w,paymentMethodData:y,isExpressPaymentMethodActive:v,hasPaymentError:f,isPaymentReady:C,shouldSavePayment:S}=(0,M.useSelect)((e=>{const t=e(V.PAYMENT_STORE_KEY);return{activePaymentMethod:t.getActivePaymentMethod(),paymentMethodData:t.getPaymentMethodData(),isExpressPaymentMethodActive:t.isExpressPaymentMethodActive(),hasPaymentError:t.hasPaymentError(),isPaymentReady:t.isPaymentReady(),shouldSavePayment:t.getShouldSavePaymentMethod()}}),[]),N=(0,ot.getPaymentMethods)(),P=(0,ot.getExpressPaymentMethods)(),x=(0,r.useRef)(_),R=(0,r.useRef)(b),T=(0,r.useRef)(o),[I,A]=(0,r.useState)(!1),B=(0,r.useMemo)((()=>{var e;const t={...P,...N};return null==t||null===(e=t[w])||void 0===e?void 0:e.paymentMethodId}),[w,P,N]),O=m()&&!v||f||g.hasError,D=!t&&!O&&(C||!h)&&n;(0,r.useEffect)((()=>{O===t||!n&&!s||v||d(O)}),[O,t,n,s,v,d]),(0,r.useEffect)((()=>{x.current=_,R.current=b,T.current=o}),[_,b,o]);const L=(0,r.useCallback)((()=>m()?void 0!==(0,M.select)(V.VALIDATION_STORE_KEY).getValidationError("shipping-rates-error")&&{errorMessage:(0,c.__)("Sorry, this order requires a shipping option.","woo-gutenberg-products-block")}:f?{errorMessage:(0,c.__)("There was a problem with your payment option.","woo-gutenberg-products-block"),context:"wc/checkout/payments"}:!g.hasError||{errorMessage:(0,c.__)("There was a problem with your shipping option.","woo-gutenberg-products-block"),context:"wc/checkout/shipping-methods"}),[m,f,g.hasError]);(0,r.useEffect)((()=>{let t;return v||(t=e(L,0)),()=>{v||"function"!=typeof t||t()}}),[e,L,v]),(0,r.useEffect)((()=>{T.current&&(window.location.href=T.current)}),[a]);const F=(0,r.useCallback)((async()=>{if(I)return;A(!0),(()=>{const e=(0,M.select)("wc/store/store-notices").getRegisteredContainers(),{removeNotice:t}=(0,M.dispatch)("core/notices"),{getNotices:o}=(0,M.select)("core/notices");e.forEach((e=>{o(e).forEach((o=>{t(o.id,e)}))}))})();const e=h?{payment_method:B,payment_data:rt(y,S,w)}:{},t={shipping_address:k?ge(R.current):void 0,billing_address:ge(x.current),customer_note:l,create_account:i,...e,extensions:{...u}};tt()({path:"/wc/store/v1/checkout",method:"POST",data:t,cache:"no-store",parse:!1}).then((e=>{if(function(e){if("object"!=typeof e||null===e||!("body"in e)||!("headers"in e))throw new Error("Response not valid")}(e),ct(e.headers),!e.ok)throw e;return e.json()})).then((e=>{p(e),A(!1)})).catch((e=>{ct(null==e?void 0:e.headers);try{e.json().then((e=>e)).then((e=>{var t;null!==(t=e.data)&&void 0!==t&&t.cart&&E(e.data.cart),(0,V.processErrorResponse)(e),p(e)}))}catch{(0,V.processErrorResponse)({code:"unknown_error",message:(0,c.__)("Something went wrong. Please try placing your order again.","woo-gutenberg-products-block"),data:null})}d(!0),A(!1)}))}),[I,h,B,y,S,w,l,i,u,k,E,d,p]);return(0,r.useEffect)((()=>{D&&!I&&F()}),[F,D,I]),null},st=({children:e,redirectUrl:t})=>(0,r.createElement)(Je,{redirectUrl:t},(0,r.createElement)(Ke,null,(0,r.createElement)(q,null,e,(0,r.createElement)(B,{renderError:m.CURRENT_USER_IS_ADMIN?null:()=>null},(0,r.createElement)(F.PluginArea,{scope:"woocommerce-checkout"})),(0,r.createElement)(nt,null)))),at=({children:e,redirectUrl:t})=>(0,r.createElement)(st,{redirectUrl:t},e),lt=window.wc.blocksCheckout,it=(0,r.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)("g",{fill:"none",fillRule:"evenodd"},(0,r.createElement)("path",{d:"M0 0h24v24H0z"}),(0,r.createElement)("path",{fill:"currentColor",fillRule:"nonzero",d:"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49A.996.996 0 0 0 20.01 4H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45ZM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2Zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2Z"}))," ");var ut=o(4333);const dt=(0,r.createContext)({hasContainerWidth:!1,containerClassName:"",isMobile:!1,isSmall:!1,isMedium:!1,isLarge:!1}),pt=({children:e,className:t=""})=>{const[o,c]=(()=>{const[e,{width:t}]=(0,ut.useResizeObserver)();let o="";return t>700?o="is-large":t>520?o="is-medium":t>400?o="is-small":t&&(o="is-mobile"),[e,o]})(),n={hasContainerWidth:""!==c,containerClassName:c,isMobile:"is-mobile"===c,isSmall:"is-small"===c,isMedium:"is-medium"===c,isLarge:"is-large"===c};return(0,r.createElement)(dt.Provider,{value:n},(0,r.createElement)("div",{className:s()(t,c)},o,e))};o(6430);const mt=({children:e,className:t})=>(0,r.createElement)(pt,{className:s()("wc-block-components-sidebar-layout",t)},e),gt=["core/paragraph","core/image","core/separator"],_t=e=>{const t=(0,lt.applyCheckoutFilter)({filterName:"additionalCartCheckoutInnerBlockTypes",defaultValue:[],extensions:(0,M.select)(V.CART_STORE_KEY).getCartData().extensions,arg:{block:e},validation:e=>{if(Array.isArray(e)&&e.every((e=>"string"==typeof e)))return!0;throw new Error("allowedBlockTypes filters must return an array of strings.")}});return Array.from(new Set([...(0,d.getBlockTypes)().filter((t=>((null==t?void 0:t.parent)||[]).includes(e))).map((({name:e})=>e)),...gt,...t]))},bt=({clientId:e,registeredBlocks:t,defaultTemplate:o=[]})=>{const c=(0,r.useRef)(t),n=(0,r.useRef)(o),s=(0,M.useRegistry)(),{isPreview:a}=D();(0,r.useEffect)((()=>{let t=!1;if(a)return;const{replaceInnerBlocks:o}=(0,M.dispatch)("core/block-editor");return s.subscribe((()=>{if(!s.select("core/block-editor").getBlock(e))return;const r=s.select("core/block-editor").getBlocks(e);if(0===r.length&&n.current.length>0&&!t){const r=(0,d.createBlocksFromInnerBlocksTemplate)(n.current);if(0!==r.length)return t=!0,void o(e,r)}const a=c.current.map((e=>(0,d.getBlockType)(e))),l=((e,t)=>{const o=t.filter((e=>e&&(({attributes:e})=>{var t,o,r;return Boolean((null===(t=e.lock)||void 0===t?void 0:t.remove)||(null===(o=e.lock)||void 0===o||null===(r=o.default)||void 0===r?void 0:r.remove))})(e))),r=[];return o.forEach((t=>{if(void 0===t)return;const o=e.find((e=>e.name===t.name));o||r.push(t)})),r})(r,a);if(0===l.length)return;let i=-1;const u=l.map((e=>{const t=n.current.findIndex((([t])=>t===e.name)),o=(0,d.createBlock)(e.name);return-1===i&&(i=(({defaultTemplatePosition:e,innerBlocks:t,currentDefaultTemplate:o})=>{switch(e){case-1:return t.length;case 0:return 0;default:const r=o.current[e-1],c=t.findIndex((({name:e})=>e===r[0]));return-1===c?e:c+1}})({defaultTemplatePosition:t,innerBlocks:r,currentDefaultTemplate:n})),o}));s.batch((()=>{s.dispatch("core/block-editor").insertBlocks(u,i,e)}))}),"core/block-editor")}),[e,a,s])};o(7463);const ht=(0,r.createContext)({hasDarkControls:!1});(0,d.registerBlockType)("woocommerce/filled-cart-block",{icon:{src:(0,r.createElement)(u.Z,{icon:it,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,a.useBlockProps)(),{currentView:o}=D(),{hasDarkControls:c}=(0,r.useContext)(ht),n=_t(lt.innerBlockAreas.FILLED_CART),l=[["woocommerce/cart-items-block",{},[]],["woocommerce/cart-totals-block",{},[]]];return bt({clientId:e,registeredBlocks:n,defaultTemplate:l}),(0,r.createElement)("div",{...t,hidden:"woocommerce/filled-cart-block"!==o},(0,r.createElement)(mt,{className:s()("wc-block-cart",{"has-dark-controls":c})},(0,r.createElement)(a.InnerBlocks,{allowedBlocks:n,template:l,templateLock:"insert"})))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()},(0,r.createElement)(a.InnerBlocks.Content,null))});var kt=o(5921);const Et=(0,r.forwardRef)((({children:e,className:t=""},o)=>(0,r.createElement)("div",{ref:o,className:s()("wc-block-components-main",t)},e)));(0,d.registerBlockType)("woocommerce/cart-items-block",{icon:{src:(0,r.createElement)(u.Z,{icon:kt.Z,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,a.useBlockProps)({className:"wc-block-cart__main"}),o=_t(lt.innerBlockAreas.CART_ITEMS),c=[["woocommerce/cart-line-items-block",{},[]],["woocommerce/cart-cross-sells-block",{},[]]];return bt({clientId:e,registeredBlocks:o,defaultTemplate:c}),(0,r.createElement)(Et,{...t},(0,r.createElement)(a.InnerBlocks,{allowedBlocks:o,template:c,templateLock:!1,renderAppender:a.InnerBlocks.ButtonBlockAppender}))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()},(0,r.createElement)(a.InnerBlocks.Content,null))});var wt=o(5904),yt=o(4697);const vt=["BUTTON","FIELDSET","INPUT","OPTGROUP","OPTION","SELECT","TEXTAREA","A"],ft=({children:e,style:t={},...o})=>{const c=(0,r.useRef)(null),n=()=>{c.current&&wt.focus.focusable.find(c.current).forEach((e=>{vt.includes(e.nodeName)&&e.setAttribute("tabindex","-1"),e.hasAttribute("contenteditable")&&e.setAttribute("contenteditable","false")}))},s=(0,yt.y1)(n,0,{leading:!0});return(0,r.useLayoutEffect)((()=>{let e;return n(),c.current&&(e=new window.MutationObserver(s),e.observe(c.current,{childList:!0,attributes:!0,subtree:!0})),()=>{e&&e.disconnect(),s.cancel()}}),[s]),(0,r.createElement)("div",{ref:c,"aria-disabled":"true",style:{userSelect:"none",pointerEvents:"none",cursor:"normal",...t},...o},e)};var Ct=o(5158),St=o(9630);o(4667);const Nt=({className:e,quantity:t=1,minimum:o=1,maximum:n,onChange:a=(()=>{}),step:l=1,itemName:i="",disabled:u})=>{const d=s()("wc-block-components-quantity-selector",e),p=(0,r.useRef)(null),m=(0,r.useRef)(null),g=(0,r.useRef)(null),_=void 0!==n,b=!u&&t-l>=o,h=!u&&(!_||t+l<=n),k=(0,r.useCallback)((e=>{let t=e;_&&(t=Math.min(t,Math.floor(n/l)*l)),t=Math.max(t,Math.ceil(o/l)*l),t=Math.floor(t/l)*l,t!==e&&a(t)}),[_,n,o,a,l]),E=(0,yt.y1)(k,300);(0,r.useLayoutEffect)((()=>{k(t)}),[t,k]);const w=(0,r.useCallback)((e=>{const o=void 0!==typeof e.key?"ArrowDown"===e.key:e.keyCode===St.DOWN,r=void 0!==typeof e.key?"ArrowUp"===e.key:e.keyCode===St.UP;o&&b&&(e.preventDefault(),a(t-l)),r&&h&&(e.preventDefault(),a(t+l))}),[t,a,h,b,l]);return(0,r.createElement)("div",{className:d},(0,r.createElement)("input",{ref:p,className:"wc-block-components-quantity-selector__input",disabled:u,type:"number",step:l,min:o,max:n,value:t,onKeyDown:w,onChange:e=>{let o=parseInt(e.target.value,10);o=isNaN(o)?t:o,o!==t&&(a(o),E(o))},"aria-label":(0,c.sprintf)(/* translators: %s refers to the item name in the cart. */
(0,c.__)("Quantity of %s in your cart.","woo-gutenberg-products-block"),i)}),(0,r.createElement)("button",{ref:m,"aria-label":(0,c.sprintf)(/* translators: %s refers to the item name in the cart. */
(0,c.__)("Reduce quantity of %s","woo-gutenberg-products-block"),i),className:"wc-block-components-quantity-selector__button wc-block-components-quantity-selector__button--minus",disabled:!b,onClick:()=>{const e=t-l;a(e),(0,Ct.speak)((0,c.sprintf)(/* translators: %s refers to the item's new quantity in the cart. */
(0,c.__)("Quantity reduced to %s.","woo-gutenberg-products-block"),e)),k(e)}},"－"),(0,r.createElement)("button",{ref:g,"aria-label":(0,c.sprintf)(/* translators: %s refers to the item's name in the cart. */
(0,c.__)("Increase quantity of %s","woo-gutenberg-products-block"),i),disabled:!h,className:"wc-block-components-quantity-selector__button wc-block-components-quantity-selector__button--plus",onClick:()=>{const e=t+l;a(e),(0,Ct.speak)((0,c.sprintf)(/* translators: %s refers to the item's new quantity in the cart. */
(0,c.__)("Quantity increased to %s.","woo-gutenberg-products-block"),e)),k(e)}},"＋"))};var Pt=o(7333);o(5476);const xt=e=>({thousandSeparator:null==e?void 0:e.thousandSeparator,decimalSeparator:null==e?void 0:e.decimalSeparator,fixedDecimalScale:!0,prefix:null==e?void 0:e.prefix,suffix:null==e?void 0:e.suffix,isNumericString:!0}),Rt=({className:e,value:t,currency:o,onValueChange:c,displayType:n="text",...a})=>{var l;const i="string"==typeof t?parseInt(t,10):t;if(!Number.isFinite(i))return null;const u=i/10**o.minorUnit;if(!Number.isFinite(u))return null;const d=s()("wc-block-formatted-money-amount","wc-block-components-formatted-money-amount",e),p=null!==(l=a.decimalScale)&&void 0!==l?l:null==o?void 0:o.minorUnit,m={...a,...xt(o),decimalScale:p,value:void 0,currency:void 0,onValueChange:void 0},g=c?e=>{const t=+e.value*10**o.minorUnit;c(t)}:()=>{};return(0,r.createElement)(Pt.Z,{className:d,displayType:n,...m,value:u,onValueChange:g})},Tt=window.wc.priceFormat;o(5138);const It=({currency:e,maxPrice:t,minPrice:o,priceClassName:n,priceStyle:a={}})=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)("span",{className:"screen-reader-text"},(0,c.sprintf)(/* translators: %1$s min price, %2$s max price */
(0,c.__)("Price between %1$s and %2$s","woo-gutenberg-products-block"),(0,Tt.formatPrice)(o),(0,Tt.formatPrice)(t))),(0,r.createElement)("span",{"aria-hidden":!0},(0,r.createElement)(Rt,{className:s()("wc-block-components-product-price__value",n),currency:e,value:o,style:a})," — ",(0,r.createElement)(Rt,{className:s()("wc-block-components-product-price__value",n),currency:e,value:t,style:a}))),At=({currency:e,regularPriceClassName:t,regularPriceStyle:o,regularPrice:n,priceClassName:a,priceStyle:l,price:i})=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)("span",{className:"screen-reader-text"},(0,c.__)("Previous price:","woo-gutenberg-products-block")),(0,r.createElement)(Rt,{currency:e,renderText:e=>(0,r.createElement)("del",{className:s()("wc-block-components-product-price__regular",t),style:o},e),value:n}),(0,r.createElement)("span",{className:"screen-reader-text"},(0,c.__)("Discounted price:","woo-gutenberg-products-block")),(0,r.createElement)(Rt,{currency:e,renderText:e=>(0,r.createElement)("ins",{className:s()("wc-block-components-product-price__value","is-discounted",a),style:l},e),value:i})),Bt=({align:e,className:t,currency:o,format:c="<price/>",maxPrice:n,minPrice:a,price:l,priceClassName:i,priceStyle:u,regularPrice:d,regularPriceClassName:p,regularPriceStyle:m,style:g})=>{const _=s()(t,"price","wc-block-components-product-price",{[`wc-block-components-product-price--align-${e}`]:e});c.includes("<price/>")||(c="<price/>",console.error("Price formats need to include the `<price/>` tag."));const b=d&&l!==d;let h=(0,r.createElement)("span",{className:s()("wc-block-components-product-price__value",i)});return b?h=(0,r.createElement)(At,{currency:o,price:l,priceClassName:i,priceStyle:u,regularPrice:d,regularPriceClassName:p,regularPriceStyle:m}):void 0!==a&&void 0!==n?h=(0,r.createElement)(It,{currency:o,maxPrice:n,minPrice:a,priceClassName:i,priceStyle:u}):l&&(h=(0,r.createElement)(Rt,{className:s()("wc-block-components-product-price__value",i),currency:o,value:l,style:u})),(0,r.createElement)("span",{className:_,style:g},(0,r.createInterpolateElement)(c,{price:h}))};o(5641);const Mt=({className:e="",disabled:t=!1,name:o,permalink:c="",target:n,rel:a,style:l,onClick:i,...u})=>{const d=s()("wc-block-components-product-name",e);if(t){const e=u;return(0,r.createElement)("span",{className:d,...e,dangerouslySetInnerHTML:{__html:(0,le.decodeEntities)(o)}})}return(0,r.createElement)("a",{className:d,href:c,target:n,...u,dangerouslySetInnerHTML:{__html:(0,le.decodeEntities)(o)},style:l})};var Ot=o(711);o(6315);const Dt=({children:e,className:t})=>(0,r.createElement)("div",{className:s()("wc-block-components-product-badge",t)},e),Lt=()=>(0,r.createElement)(Dt,{className:"wc-block-components-product-backorder-badge"},(0,c.__)("Available on backorder","woo-gutenberg-products-block")),Ft=({image:e={},fallbackAlt:t=""})=>{const o=e.thumbnail?{src:e.thumbnail,alt:(0,le.decodeEntities)(e.alt)||t||"Product Image"}:{src:m.PLACEHOLDER_IMG_SRC,alt:""};return(0,r.createElement)("img",{...o,alt:o.alt})},Vt=({lowStockRemaining:e})=>e?(0,r.createElement)(Dt,{className:"wc-block-components-product-low-stock-badge"},(0,c.sprintf)(/* translators: %d stock amount (number of items in stock for product) */
(0,c.__)("%d left in stock","woo-gutenberg-products-block"),e)):null;var $t=o(9784);o(7984);const Ut=({details:e=[]})=>Array.isArray(e)?0===(e=e.filter((e=>!e.hidden))).length?null:(0,r.createElement)("ul",{className:"wc-block-components-product-details"},e.map((e=>{const t=(null==e?void 0:e.key)||e.name||"",o=(null==e?void 0:e.className)||(t?`wc-block-components-product-details__${(0,$t.o)(t)}`:"");return(0,r.createElement)("li",{key:t+(e.display||e.value),className:o},t&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("span",{className:"wc-block-components-product-details__name"},(0,le.decodeEntities)(t),":")," "),(0,r.createElement)("span",{className:"wc-block-components-product-details__value"},(0,le.decodeEntities)(e.display||e.value)))}))):null,Yt=window.wp.autop,jt=e=>e.replace(/<\/?[a-z][^>]*?>/gi,""),zt=(e,t)=>e.replace(/[\s|\.\,]+$/i,"")+t,Kt=window.wp.wordcount,Ht=({source:e,maxLength:t=15,countType:o="words",className:c="",style:n={}})=>{const s=(0,r.useMemo)((()=>((e,t=15,o="words")=>{const r=(0,Yt.autop)(e);if((0,Kt.count)(r,o)<=t)return r;const c=(e=>{const t=e.indexOf("</p>");return-1===t?e:e.substr(0,t+4)})(r);return(0,Kt.count)(c,o)<=t?c:"words"===o?((e,t,o="&hellip;",r=!0)=>{const c=jt(e),n=c.split(" ").splice(0,t).join(" ");return n===c?r?(0,Yt.autop)(c):c:r?(0,Yt.autop)(zt(n,o)):zt(n,o)})(c,t):((e,t,o=!0,r="&hellip;",c=!0)=>{const n=jt(e),s=n.slice(0,t);if(s===n)return c?(0,Yt.autop)(n):n;if(o)return(0,Yt.autop)(zt(s,r));const a=s.match(/([\s]+)/g),l=a?a.length:0,i=n.slice(0,t+l);return c?(0,Yt.autop)(zt(i,r)):zt(i,r)})(c,t,"characters_including_spaces"===o)})(e,t,o)),[e,t,o]);return(0,r.createElement)(r.RawHTML,{style:n,className:c},s)},qt=({className:e,shortDescription:t="",fullDescription:o=""})=>{const c=t||o;return c?(0,r.createElement)(Ht,{className:e,source:c,maxLength:15,countType:_.wordCountType||"words"}):null};o(9889);const Zt=({shortDescription:e="",fullDescription:t="",itemData:o=[],variation:c=[]})=>(0,r.createElement)("div",{className:"wc-block-components-product-metadata"},(0,r.createElement)(qt,{className:"wc-block-components-product-metadata__description",shortDescription:e,fullDescription:t}),(0,r.createElement)(Ut,{details:o}),(0,r.createElement)(Ut,{details:c.map((({attribute:e="",value:t})=>({key:e,value:t})))})),Wt=({currency:e,saleAmount:t,format:o="<price/>"})=>{if(!t||t<=0)return null;o.includes("<price/>")||(o="<price/>",console.error("Price formats need to include the `<price/>` tag."));const n=(0,c.sprintf)(/* translators: %s will be replaced by the discount amount */
(0,c.__)("Save %s","woo-gutenberg-products-block"),o);return(0,r.createElement)(Dt,{className:"wc-block-components-sale-badge"},(0,r.createInterpolateElement)(n,{price:(0,r.createElement)(Rt,{currency:e,value:t})}))},Gt=(e,t)=>e.convertPrecision(t.minorUnit).getAmount(),Qt=e=>(0,lt.mustContain)(e,"<price/>"),Xt=(0,r.forwardRef)((({lineItem:e,onRemove:t=(()=>{}),tabIndex:o},n)=>{const{name:a="",catalog_visibility:l="visible",short_description:i="",description:u="",low_stock_remaining:d=null,show_backorder_badge:p=!1,quantity_limits:g={minimum:1,maximum:99,multiple_of:1,editable:!0},sold_individually:_=!1,permalink:b="",images:h=[],variation:k=[],item_data:E=[],prices:w={currency_code:"USD",currency_minor_unit:2,currency_symbol:"$",currency_prefix:"$",currency_suffix:"",currency_decimal_separator:".",currency_thousand_separator:",",price:"0",regular_price:"0",sale_price:"0",price_range:null,raw_prices:{precision:6,price:"0",regular_price:"0",sale_price:"0"}},totals:y={currency_code:"USD",currency_minor_unit:2,currency_symbol:"$",currency_prefix:"$",currency_suffix:"",currency_decimal_separator:".",currency_thousand_separator:",",line_subtotal:"0",line_subtotal_tax:"0"},extensions:v}=e,{quantity:f,setItemQuantity:C,removeItem:S,isPendingDelete:N}=(e=>{const t={key:"",quantity:1};(e=>Pe(e)&&xe(e,"key")&&xe(e,"quantity")&&ue(e.key)&&ie(e.quantity))(e)&&(t.key=e.key,t.quantity=e.quantity);const{key:o="",quantity:c=1}=t,{cartErrors:n}=Ne(),{__internalIncrementCalculating:s,__internalDecrementCalculating:a}=(0,M.useDispatch)(V.CHECKOUT_STORE_KEY),[l,i]=(0,r.useState)(c),[u]=(0,yt.Nr)(l,400),d=He(u),{removeItemFromCart:p,changeCartItemQuantity:m}=(0,M.useDispatch)(V.CART_STORE_KEY);(0,r.useEffect)((()=>i(c)),[c]);const g=(0,M.useSelect)((e=>{if(!o)return{quantity:!1,delete:!1};const t=e(V.CART_STORE_KEY);return{quantity:t.isItemPendingQuantity(o),delete:t.isItemPendingDelete(o)}}),[o]),_=(0,r.useCallback)((()=>o?p(o).catch((e=>{(0,V.processErrorResponse)(e)})):Promise.resolve(!1)),[o,p]);return(0,r.useEffect)((()=>{o&&ie(d)&&Number.isFinite(d)&&d!==u&&m(o,u).catch((e=>{(0,V.processErrorResponse)(e)}))}),[o,m,u,d]),(0,r.useEffect)((()=>(g.delete?s():a(),()=>{g.delete&&a()})),[a,s,g.delete]),(0,r.useEffect)((()=>(g.quantity||u!==l?s():a(),()=>{(g.quantity||u!==l)&&a()})),[s,a,g.quantity,u,l]),{isPendingDelete:g.delete,quantity:l,setItemQuantity:i,removeItem:_,cartItemQuantityErrors:n}})(e),{dispatchStoreEvent:P}=Fe(),{receiveCart:x,...R}=Ne(),T=(0,r.useMemo)((()=>({context:"cart",cartItem:e,cart:R})),[e,R]),I=(0,Tt.getCurrencyFromPriceResponse)(w),A=(0,lt.applyCheckoutFilter)({filterName:"itemName",defaultValue:a,extensions:v,arg:T}),B=(0,Ot.Z)({amount:parseInt(w.raw_prices.regular_price,10),precision:w.raw_prices.precision}),O=(0,Ot.Z)({amount:parseInt(w.raw_prices.price,10),precision:w.raw_prices.precision}),D=B.subtract(O),L=D.multiply(f),F=(0,Tt.getCurrencyFromPriceResponse)(y);let $=parseInt(y.line_subtotal,10);(0,m.getSetting)("displayCartPricesIncludingTax",!1)&&($+=parseInt(y.line_subtotal_tax,10));const U=(0,Ot.Z)({amount:$,precision:F.minorUnit}),Y=h.length?h[0]:{},j="hidden"===l||"search"===l,z=(0,lt.applyCheckoutFilter)({filterName:"cartItemClass",defaultValue:"",extensions:v,arg:T}),K=(0,lt.applyCheckoutFilter)({filterName:"cartItemPrice",defaultValue:"<price/>",extensions:v,arg:T,validation:Qt}),H=(0,lt.applyCheckoutFilter)({filterName:"subtotalPriceFormat",defaultValue:"<price/>",extensions:v,arg:T,validation:Qt}),q=(0,lt.applyCheckoutFilter)({filterName:"saleBadgePriceFormat",defaultValue:"<price/>",extensions:v,arg:T,validation:Qt}),Z=(0,lt.applyCheckoutFilter)({filterName:"showRemoveItemLink",defaultValue:!0,extensions:v,arg:T});return(0,r.createElement)("tr",{className:s()("wc-block-cart-items__row",z,{"is-disabled":N}),ref:n,tabIndex:o},(0,r.createElement)("td",{className:"wc-block-cart-item__image","aria-hidden":!xe(Y,"alt")||!Y.alt},j?(0,r.createElement)(Ft,{image:Y,fallbackAlt:A}):(0,r.createElement)("a",{href:b,tabIndex:-1},(0,r.createElement)(Ft,{image:Y,fallbackAlt:A}))),(0,r.createElement)("td",{className:"wc-block-cart-item__product"},(0,r.createElement)("div",{className:"wc-block-cart-item__wrap"},(0,r.createElement)(Mt,{disabled:N||j,name:A,permalink:b}),p?(0,r.createElement)(Lt,null):!!d&&(0,r.createElement)(Vt,{lowStockRemaining:d}),(0,r.createElement)("div",{className:"wc-block-cart-item__prices"},(0,r.createElement)(Bt,{currency:I,regularPrice:Gt(B,I),price:Gt(O,I),format:H})),(0,r.createElement)(Wt,{currency:I,saleAmount:Gt(D,I),format:q}),(0,r.createElement)(Zt,{shortDescription:i,fullDescription:u,itemData:E,variation:k}),(0,r.createElement)("div",{className:"wc-block-cart-item__quantity"},!_&&!!g.editable&&(0,r.createElement)(Nt,{disabled:N,quantity:f,minimum:g.minimum,maximum:g.maximum,step:g.multiple_of,onChange:t=>{C(t),P("cart-set-item-quantity",{product:e,quantity:t})},itemName:A}),Z&&(0,r.createElement)("button",{className:"wc-block-cart-item__remove-link","aria-label":(0,c.sprintf)(/* translators: %s refers to the item's name in the cart. */
(0,c.__)("Remove %s from cart","woo-gutenberg-products-block"),A),onClick:()=>{t(),S(),P("cart-remove-item",{product:e,quantity:f}),(0,Ct.speak)((0,c.sprintf)(/* translators: %s refers to the item name in the cart. */
(0,c.__)("%s has been removed from your cart.","woo-gutenberg-products-block"),A))},disabled:N},(0,c.__)("Remove item","woo-gutenberg-products-block"))))),(0,r.createElement)("td",{className:"wc-block-cart-item__total"},(0,r.createElement)("div",{className:"wc-block-cart-item__total-price-and-sale-badge-wrapper"},(0,r.createElement)(Bt,{currency:F,format:K,price:U.getAmount()}),f>1&&(0,r.createElement)(Wt,{currency:I,saleAmount:Gt(L,I),format:q}))))}));o(6294);const Jt=[...Array(3)].map(((_x,e)=>(0,r.createElement)(Xt,{lineItem:{},key:e}))),eo=e=>{const t={};return e.forEach((({key:e})=>{t[e]=(0,r.createRef)()})),t},to=({lineItems:e=[],isLoading:t=!1,className:o})=>{const n=(0,r.useRef)(null),a=(0,r.useRef)(eo(e));(0,r.useEffect)((()=>{a.current=eo(e)}),[e]);const l=e=>()=>{null!=a&&a.current&&e&&a.current[e].current instanceof HTMLElement?a.current[e].current.focus():n.current instanceof HTMLElement&&n.current.focus()},i=t?Jt:e.map(((t,o)=>{const c=e.length>o+1?e[o+1].key:null;return(0,r.createElement)(Xt,{key:t.key,lineItem:t,onRemove:l(c),ref:a.current[t.key],tabIndex:-1})}));return(0,r.createElement)("table",{className:s()("wc-block-cart-items",o),ref:n,tabIndex:-1},(0,r.createElement)("thead",null,(0,r.createElement)("tr",{className:"wc-block-cart-items__header"},(0,r.createElement)("th",{className:"wc-block-cart-items__header-image"},(0,r.createElement)("span",null,(0,c.__)("Product","woo-gutenberg-products-block"))),(0,r.createElement)("th",{className:"wc-block-cart-items__header-product"},(0,r.createElement)("span",null,(0,c.__)("Details","woo-gutenberg-products-block"))),(0,r.createElement)("th",{className:"wc-block-cart-items__header-total"},(0,r.createElement)("span",null,(0,c.__)("Total","woo-gutenberg-products-block"))))),(0,r.createElement)("tbody",null,i))},oo=({className:e})=>{const{cartItems:t,cartIsLoading:o}=Ne();return(0,r.createElement)(to,{className:e,lineItems:t,isLoading:o})};(0,d.registerBlockType)("woocommerce/cart-line-items-block",{icon:{src:(0,r.createElement)(u.Z,{icon:kt.Z,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,a.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)(ft,null,(0,r.createElement)(oo,{className:t})))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()})}),(0,d.registerBlockType)("woocommerce/cart-cross-sells-block",{icon:{src:(0,r.createElement)(u.Z,{icon:kt.Z,className:"wc-block-editor-components-block-icon"})},edit:()=>{const e=(0,a.useBlockProps)({className:"wc-block-cart__cross-sells"}),t=[["core/heading",{content:(0,c.__)("You may be interested in…","woo-gutenberg-products-block"),level:2,fontSize:"large"},[]],["woocommerce/cart-cross-sells-products-block",{},[]]];return(0,r.createElement)("div",{...e},(0,r.createElement)(a.InnerBlocks,{template:t,templateLock:!1}))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()},(0,r.createElement)(a.InnerBlocks.Content,null))});const ro=window.wp.components,co=window.wc.wcBlocksSharedContext,no=window.wp.styleEngine;function so(e={}){const t={};return(0,no.getCSSRules)(e,{selector:""}).forEach((e=>{t[e.key]=e.value})),t}function ao(e,t){return e&&t?`has-${(0,$t.o)(t)}-${e}`:""}const lo=e=>{const t=(e=>{const t=Pe(e)?e:{style:{}};let o=t.style;return ue(o)&&(o=JSON.parse(o)||{}),Pe(o)||(o={}),{...t,style:o}})(e),o=function(e){var t,o,r,c,n,a,l;const{backgroundColor:i,textColor:u,gradient:d,style:p}=e,m=ao("background-color",i),g=ao("color",u),_=function(e){if(e)return`has-${e}-gradient-background`}(d),b=_||(null==p||null===(t=p.color)||void 0===t?void 0:t.gradient);return{className:s()(g,_,{[m]:!b&&!!m,"has-text-color":u||(null==p||null===(o=p.color)||void 0===o?void 0:o.text),"has-background":i||(null==p||null===(r=p.color)||void 0===r?void 0:r.background)||d||(null==p||null===(c=p.color)||void 0===c?void 0:c.gradient),"has-link-color":Pe(null==p||null===(n=p.elements)||void 0===n?void 0:n.link)?null==p||null===(a=p.elements)||void 0===a||null===(l=a.link)||void 0===l?void 0:l.color:void 0}),style:so({color:(null==p?void 0:p.color)||{}})}}(t),r=function(e){var t;const o=(null===(t=e.style)||void 0===t?void 0:t.border)||{},r=function(e){var t;const{borderColor:o,style:r}=e,c=o?ao("border-color",o):"";return s()({"has-border-color":!!o||!(null==r||null===(t=r.border)||void 0===t||!t.color),[c]:!!c})}(e);return{className:r,style:so({border:o})}}(t),c=function(e){var t;return{className:void 0,style:so({spacing:(null===(t=e.style)||void 0===t?void 0:t.spacing)||{}})}}(t),n=(e=>{const t=Pe(e.style.typography)?e.style.typography:{},o=ue(t.fontFamily)?t.fontFamily:"";return{className:e.fontFamily?`has-${e.fontFamily}-font-family`:o,style:{fontSize:e.fontSize?`var(--wp--preset--font-size--${e.fontSize})`:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,letterSpacing:t.letterSpacing,lineHeight:t.lineHeight,textDecoration:t.textDecoration,textTransform:t.textTransform}}})(t);return{className:s()(n.className,o.className,r.className,c.className),style:{...n.style,...o.style,...r.style,...c.style}}},io=window.wc.wcBlocksSharedHocs,uo=({label:e,screenReaderLabel:t,wrapperElement:o,wrapperProps:c={}})=>{let n;const a=null!=e,l=null!=t;return!a&&l?(n=o||"span",c={...c,className:s()(c.className,"screen-reader-text")},(0,r.createElement)(n,{...c},t)):(n=o||r.Fragment,a&&l&&e!==t?(0,r.createElement)(n,{...c},(0,r.createElement)("span",{"aria-hidden":"true"},e),(0,r.createElement)("span",{className:"screen-reader-text"},t)):(0,r.createElement)(n,{...c},e))};o(1314);const po=e=>{const{className:t,align:o}=e,n=lo(e),{parentClassName:a}=(0,co.useInnerBlockLayoutContext)(),{product:l}=(0,co.useProductDataContext)();if(!(l.id&&l.on_sale||e.isDescendentOfSingleProductTemplate))return null;const i="string"==typeof o?`wc-block-components-product-sale-badge--align-${o}`:"";return(0,r.createElement)("div",{className:s()("wc-block-components-product-sale-badge",t,i,{[`${a}__product-onsale`]:a},n.className),style:n.style},(0,r.createElement)(uo,{label:(0,c.__)("Sale","woo-gutenberg-products-block"),screenReaderLabel:(0,c.__)("Product on sale","woo-gutenberg-products-block")}))},mo=(0,io.withProductDataContext)(po);o(8854);let go=function(e){return e.SINGLE="single",e.THUMBNAIL="thumbnail",e}({});const _o=e=>(0,r.createElement)("img",{...e,src:m.PLACEHOLDER_IMG_SRC,alt:"",width:void 0,height:void 0}),bo=({image:e,loaded:t,showFullSize:o,fallbackAlt:c,width:n,scale:s,height:a})=>{const{thumbnail:l,src:i,srcset:u,sizes:d,alt:p}=e||{},m={alt:p||c,hidden:!t,src:l,...o&&{src:i,srcSet:u,sizes:d}},g={height:a,width:n,objectFit:s};return(0,r.createElement)(r.Fragment,null,m.src&&(0,r.createElement)("img",{style:g,"data-testid":"product-image",...m}),!e&&(0,r.createElement)(_o,{style:g}))},ho=e=>{const{className:t,imageSizing:o=go.SINGLE,showProductLink:n=!0,showSaleBadge:a,saleBadgeAlign:l="right",height:i,width:u,scale:d,...p}=e,m=lo(e),{parentClassName:g}=(0,co.useInnerBlockLayoutContext)(),{product:_,isLoading:b}=(0,co.useProductDataContext)(),{dispatchStoreEvent:h}=Fe();if(!_.id)return(0,r.createElement)("div",{className:s()(t,"wc-block-components-product-image",{[`${g}__product-image`]:g},m.className),style:m.style},(0,r.createElement)(_o,null));const k=!!_.images.length,E=k?_.images[0]:null,w=n?"a":r.Fragment,y=(0,c.sprintf)(/* translators: %s is referring to the product name */
(0,c.__)("Link to %s","woo-gutenberg-products-block"),_.name),v={href:_.permalink,...!k&&{"aria-label":y},onClick:()=>{h("product-view-link",{product:_})}};return(0,r.createElement)("div",{className:s()(t,"wc-block-components-product-image",{[`${g}__product-image`]:g},m.className),style:m.style},(0,r.createElement)(w,{...n&&v},!!a&&(0,r.createElement)(mo,{align:l,...p}),(0,r.createElement)(bo,{fallbackAlt:_.name,image:E,loaded:!b,showFullSize:o!==go.THUMBNAIL,width:u,height:i,scale:d})))};(0,io.withProductDataContext)(ho),o(5160);const ko=({children:e,headingLevel:t,elementType:o=`h${t}`,...c})=>(0,r.createElement)(o,{...c},e),Eo=e=>{const{className:t,headingLevel:o=2,showProductLink:c=!0,linkTarget:n,align:a}=e,l=lo(e),{parentClassName:i}=(0,co.useInnerBlockLayoutContext)(),{product:u}=(0,co.useProductDataContext)(),{dispatchStoreEvent:d}=Fe();return u.id?(0,r.createElement)(ko,{headingLevel:o,className:s()(t,l.className,"wc-block-components-product-title",{[`${i}__product-title`]:i,[`wc-block-components-product-title--align-${a}`]:a&&T()}),style:T()?l.style:{}},(0,r.createElement)(Mt,{disabled:!c,name:u.name,permalink:u.permalink,target:n,onClick:()=>{d("product-view-link",{product:u})}})):(0,r.createElement)(ko,{headingLevel:o,className:s()(t,l.className,"wc-block-components-product-title",{[`${i}__product-title`]:i,[`wc-block-components-product-title--align-${a}`]:a&&T()}),style:T()?l.style:{}})};(0,io.withProductDataContext)(Eo),o(402);const wo=e=>({width:e/5*100+"%"}),yo=({parentClassName:e})=>{const t=wo(0);return(0,r.createElement)("div",{className:s()("wc-block-components-product-rating__norating-container",`${e}-product-rating__norating-container`)},(0,r.createElement)("div",{className:"wc-block-components-product-rating__norating",role:"img"},(0,r.createElement)("span",{style:t})),(0,r.createElement)("span",null,(0,c.__)("No Reviews","woo-gutenberg-products-block")))},vo=e=>{const{rating:t,reviews:o,parentClassName:n}=e,a=wo(t),l=(0,c.sprintf)(/* translators: %f is referring to the average rating value */
(0,c.__)("Rated %f out of 5","woo-gutenberg-products-block"),t),i={__html:(0,c.sprintf)(/* translators: %1$s is referring to the average rating value, %2$s is referring to the number of ratings */
(0,c._n)("Rated %1$s out of 5 based on %2$s customer rating","Rated %1$s out of 5 based on %2$s customer ratings",o,"woo-gutenberg-products-block"),(0,c.sprintf)('<strong class="rating">%f</strong>',t),(0,c.sprintf)('<span class="rating">%d</span>',o))};return(0,r.createElement)("div",{className:s()("wc-block-components-product-rating__stars",`${n}__product-rating__stars`),role:"img","aria-label":l},(0,r.createElement)("span",{style:a,dangerouslySetInnerHTML:i}))},fo=e=>{const{reviews:t}=e,o=(0,c.sprintf)(/* translators: %s is referring to the total of reviews for a product */
(0,c._n)("(%s customer review)","(%s customer reviews)",t,"woo-gutenberg-products-block"),t);return(0,r.createElement)("span",{className:"wc-block-components-product-rating__reviews_count"},o)},Co=e=>{const{textAlign:t,isDescendentOfSingleProductBlock:o,shouldDisplayMockedReviewsWhenProductHasNoReviews:c}=e,n=lo(e),{parentClassName:a}=(0,co.useInnerBlockLayoutContext)(),{product:l}=(0,co.useProductDataContext)(),i=(e=>{const t=parseFloat(e.average_rating);return Number.isFinite(t)&&t>0?t:0})(l),u=(e=>{const t=ie(e.review_count)?e.review_count:parseInt(e.review_count,10);return Number.isFinite(t)&&t>0?t:0})(l),d=s()(n.className,"wc-block-components-product-rating",{[`${a}__product-rating`]:a,[`has-text-align-${t}`]:t}),p=c?(0,r.createElement)(yo,{parentClassName:a}):null,m=u?(0,r.createElement)(vo,{rating:i,reviews:u,parentClassName:a}):p;if(u||c)return(0,r.createElement)("div",{className:d,style:n.style},(0,r.createElement)("div",{className:"wc-block-components-product-rating__container"},m,u&&o?(0,r.createElement)(fo,{reviews:u}):null))},So=((0,io.withProductDataContext)(Co),e=>{var t,o;const{className:c,textAlign:n,isDescendentOfSingleProductTemplate:a}=e,l=lo(e),{parentName:i,parentClassName:u}=(0,co.useInnerBlockLayoutContext)(),{product:d}=(0,co.useProductDataContext)(),p="woocommerce/all-products"===i,m=s()("wc-block-components-product-price",c,l.className,{[`${u}__product-price`]:u});if(!d.id&&!a){const e=(0,r.createElement)(Bt,{align:n,className:m});return p?(0,r.createElement)("div",{className:"wp-block-woocommerce-product-price"},e):e}const g=d.prices,_=a?(0,Tt.getCurrencyFromPriceResponse)():(0,Tt.getCurrencyFromPriceResponse)(g),b="5000",h=g.price!==g.regular_price,k=s()({[`${u}__product-price__value`]:u,[`${u}__product-price__value--on-sale`]:h}),E=(0,r.createElement)(Bt,{align:n,className:m,style:l.style,regularPriceStyle:l.style,priceStyle:l.style,priceClassName:k,currency:_,price:a?b:g.price,minPrice:null==g||null===(t=g.price_range)||void 0===t?void 0:t.min_amount,maxPrice:null==g||null===(o=g.price_range)||void 0===o?void 0:o.max_amount,regularPrice:a?b:g.regular_price,regularPriceClassName:s()({[`${u}__product-price__regular`]:u})});return p?(0,r.createElement)("div",{className:"wp-block-woocommerce-product-price"},E):E}),No=(e,t)=>{const o=e.find((({id:e})=>e===t));return o?o.quantity:0};o(1464);const Po=({product:e,className:t,style:o})=>{const{id:n,permalink:a,add_to_cart:l,has_options:i,is_purchasable:u,is_in_stock:d}=e,{dispatchStoreEvent:p}=Fe(),{cartQuantity:g,addingToCart:_,addToCart:b}=(e=>{const{addItemToCart:t}=(0,M.useDispatch)(V.CART_STORE_KEY),{cartItems:o,cartIsLoading:c}=Ne(),{createErrorNotice:n,removeNotice:s}=(0,M.useDispatch)("core/notices"),[a,l]=(0,r.useState)(!1),i=(0,r.useRef)(No(o,e));return(0,r.useEffect)((()=>{const t=No(o,e);t!==i.current&&(i.current=t)}),[o,e]),{cartQuantity:Number.isFinite(i.current)?i.current:0,addingToCart:a,cartIsLoading:c,addToCart:(o=1)=>(l(!0),t(e,o).then((()=>{s("add-to-cart")})).catch((e=>{n((0,le.decodeEntities)(e.message),{id:"add-to-cart",context:"wc/all-products",isDismissible:!0})})).finally((()=>{l(!1)})))}})(n),h=Number.isFinite(g)&&g>0,k=!i&&u&&d,E=(0,le.decodeEntities)((null==l?void 0:l.description)||""),w=h?(0,c.sprintf)(/* translators: %s number of products in cart. */
(0,c._n)("%d in cart","%d in cart",g,"woo-gutenberg-products-block"),g):(0,le.decodeEntities)((null==l?void 0:l.text)||(0,c.__)("Add to cart","woo-gutenberg-products-block")),v=k?"button":"a",f={};return k?f.onClick=async()=>{await b(),p("cart-add-item",{product:e});const{cartRedirectAfterAdd:t}=(0,m.getSetting)("productsSettings");t&&(window.location.href=y)}:(f.href=a,f.rel="nofollow",f.onClick=()=>{p("product-view-link",{product:e})}),(0,r.createElement)(v,{...f,"aria-label":E,disabled:_,className:s()(t,"wp-block-button__link","wp-element-button","add_to_cart_button","wc-block-components-product-button__button",{loading:_,added:h}),style:o},w)},xo=({className:e,style:t})=>(0,r.createElement)("button",{className:s()("wp-block-button__link","wp-element-button","add_to_cart_button","wc-block-components-product-button__button","wc-block-components-product-button__button--placeholder",e),style:t,disabled:!0}),Ro=e=>{const{className:t,textAlign:o}=e,c=lo(e),{parentClassName:n}=(0,co.useInnerBlockLayoutContext)(),{product:a}=(0,co.useProductDataContext)();return(0,r.createElement)("div",{className:s()(t,"wp-block-button","wc-block-components-product-button",{[`${n}__product-add-to-cart`]:n,[`align-${o}`]:o})},a.id?(0,r.createElement)(Po,{product:a,style:c.style,className:c.className}):(0,r.createElement)(xo,{style:c.style,className:c.className}))},To=((0,io.withProductDataContext)(Ro),({product:e})=>(0,r.createElement)("div",{className:"cross-sells-product"},(0,r.createElement)(co.InnerBlockLayoutContextProvider,{parentName:"woocommerce/cart-cross-sells-block",parentClassName:"wp-block-cart-cross-sells-product"},(0,r.createElement)(co.ProductDataContextProvider,{isLoading:!1,product:e},(0,r.createElement)("div",null,(0,r.createElement)(ho,{className:"",showSaleBadge:!1,productId:e.id,showProductLink:!1,saleBadgeAlign:"left",imageSizing:go.SINGLE,isDescendentOfQueryLoop:!1}),(0,r.createElement)(Eo,{align:"",headingLevel:3,showProductLink:!0}),(0,r.createElement)(Co,null),(0,r.createElement)(po,{productId:e.id,align:"left"}),(0,r.createElement)(So,null)),(0,r.createElement)(Ro,null))))),Io=({products:e,columns:t})=>{const o=e.map(((e,o)=>o>=t?null:(0,r.createElement)(To,{isLoading:!1,product:e,key:e.id})));return(0,r.createElement)("div",null,o)},Ao={Z:3},Bo=({className:e,columns:t})=>{const{crossSellsProducts:o}=Ne();return void 0===t&&(t=Ao.Z),(0,r.createElement)(Io,{className:e,columns:t,products:o})};o(7995),o(8584),(0,d.registerBlockType)("woocommerce/cart-cross-sells-products-block",{icon:{src:(0,r.createElement)(u.Z,{icon:kt.Z,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e,setAttributes:t})=>{const{className:o,columns:n}=e,s=(0,a.useBlockProps)();return(0,r.createElement)("div",{...s},(0,r.createElement)(a.InspectorControls,null,(0,r.createElement)(ro.PanelBody,{title:(0,c.__)("Settings","woo-gutenberg-products-block")},(0,r.createElement)(ro.RangeControl,{label:(0,c.__)("Cross-Sells products to show","woo-gutenberg-products-block"),value:n,onChange:e=>t({columns:e}),min:(0,m.getSetting)("minColumns",1),max:(0,m.getSetting)("maxColumns",6)}))),(0,r.createElement)(ft,null,(0,r.createElement)(Bo,{columns:n,className:o})))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()})});const Mo=(0,r.forwardRef)((({children:e,className:t=""},o)=>(0,r.createElement)("div",{ref:o,className:s()("wc-block-components-sidebar",t)},e)));function Oo(e){const t=(0,r.useRef)(e);return Be()(e,t.current)||(t.current=e),t.current}o(8438),(0,d.registerBlockType)("woocommerce/cart-totals-block",{icon:{src:(0,r.createElement)(u.Z,{icon:kt.Z,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,a.useBlockProps)({className:"wc-block-cart__sidebar"}),o=_t(lt.innerBlockAreas.CART_TOTALS),c=[["woocommerce/cart-order-summary-block",{},[]],["woocommerce/cart-express-payment-block",{},[]],["woocommerce/proceed-to-checkout-block",{},[]],["woocommerce/cart-accepted-payment-methods-block",{},[]]];return bt({clientId:e,registeredBlocks:o,defaultTemplate:c}),(0,r.createElement)(Mo,{...t},(0,r.createElement)(a.InnerBlocks,{allowedBlocks:o,template:c,templateLock:!1,renderAppender:a.InnerBlocks.ButtonBlockAppender}))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()},(0,r.createElement)(a.InnerBlocks.Content,null))});const Do=(e=!1)=>{const{paymentMethodsInitialized:t,expressPaymentMethodsInitialized:o,availablePaymentMethods:r,availableExpressPaymentMethods:c}=(0,M.useSelect)((e=>{const t=e(V.PAYMENT_STORE_KEY);return{paymentMethodsInitialized:t.paymentMethodsInitialized(),expressPaymentMethodsInitialized:t.expressPaymentMethodsInitialized(),availableExpressPaymentMethods:t.getAvailableExpressPaymentMethods(),availablePaymentMethods:t.getAvailablePaymentMethods()}})),n=Object.values(r).map((({name:e})=>e)),s=Object.values(c).map((({name:e})=>e)),a=(0,ot.getPaymentMethods)(),l=(0,ot.getExpressPaymentMethods)(),i=Object.keys(a).reduce(((e,t)=>(n.includes(t)&&(e[t]=a[t]),e)),{}),u=Object.keys(l).reduce(((e,t)=>(s.includes(t)&&(e[t]=l[t]),e)),{}),d=Oo(i),p=Oo(u);return{paymentMethods:e?p:d,isInitialized:e?o:t}},Lo=()=>Do(!0);o(6575),o(5589);const Fo=()=>(0,r.createElement)("span",{className:"wc-block-components-spinner","aria-hidden":"true"}),Vo=({children:e,className:t,screenReaderLabel:o,showSpinner:n=!1,isLoading:a=!0})=>(0,r.createElement)("div",{className:s()(t,{"wc-block-components-loading-mask":a})},a&&n&&(0,r.createElement)(Fo,null),(0,r.createElement)("div",{className:s()({"wc-block-components-loading-mask__children":a}),"aria-hidden":a},e),a&&(0,r.createElement)("span",{className:"screen-reader-text"},o||(0,c.__)("Loading…","woo-gutenberg-products-block"))),$o=(0,r.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)("g",{fill:"none",fillRule:"evenodd"},(0,r.createElement)("path",{d:"M0 0h24v24H0z"}),(0,r.createElement)("path",{fill:"#000",fillRule:"nonzero",d:"M17.3 8v1c1 .2 1.4.9 1.4 1.7h-1c0-.6-.3-1-1-1-.8 0-1.3.4-1.3.9 0 .4.3.6 1.4 1 1 .2 2 .6 2 1.9 0 .9-.6 1.4-1.5 1.5v1H16v-1c-.9-.1-1.6-.7-1.7-1.7h1c0 .6.4 1 1.3 1 1 0 1.2-.5 1.2-.8 0-.4-.2-.8-1.3-1.1-1.3-.3-2.1-.8-2.1-1.8 0-.9.7-1.5 1.6-1.6V8h1.3zM12 10v1H6v-1h6zm2-2v1H6V8h8zM2 4v16h20V4H2zm2 14V6h16v12H4z"}),(0,r.createElement)("path",{stroke:"#000",strokeLinecap:"round",d:"M6 16c2.6 0 3.9-3 1.7-3-2 0-1 3 1.5 3 1 0 1-.8 2.8-.8"})));var Uo=o(9109),Yo=o(5032),jo=o(8214);o(4948);const zo={bank:Uo.Z,bill:Yo.Z,card:jo.Z,checkPayment:$o},Ko=({icon:e="",text:t=""})=>{const o=!!e,c=(0,r.useCallback)((e=>o&&ue(e)&&xe(zo,e)),[o]),n=s()("wc-block-components-payment-method-label",{"wc-block-components-payment-method-label--with-icon":o});return(0,r.createElement)("span",{className:n},c(e)?(0,r.createElement)(u.Z,{icon:zo[e]}):e,t)},Ho=e=>`wc-block-components-payment-method-icon wc-block-components-payment-method-icon--${e}`,qo=({id:e,src:t=null,alt:o=""})=>t?(0,r.createElement)("img",{className:Ho(e),src:t,alt:o}):null,Zo=[{id:"alipay",alt:"Alipay",src:b+"payment-methods/alipay.svg"},{id:"amex",alt:"American Express",src:b+"payment-methods/amex.svg"},{id:"bancontact",alt:"Bancontact",src:b+"payment-methods/bancontact.svg"},{id:"diners",alt:"Diners Club",src:b+"payment-methods/diners.svg"},{id:"discover",alt:"Discover",src:b+"payment-methods/discover.svg"},{id:"eps",alt:"EPS",src:b+"payment-methods/eps.svg"},{id:"giropay",alt:"Giropay",src:b+"payment-methods/giropay.svg"},{id:"ideal",alt:"iDeal",src:b+"payment-methods/ideal.svg"},{id:"jcb",alt:"JCB",src:b+"payment-methods/jcb.svg"},{id:"laser",alt:"Laser",src:b+"payment-methods/laser.svg"},{id:"maestro",alt:"Maestro",src:b+"payment-methods/maestro.svg"},{id:"mastercard",alt:"Mastercard",src:b+"payment-methods/mastercard.svg"},{id:"multibanco",alt:"Multibanco",src:b+"payment-methods/multibanco.svg"},{id:"p24",alt:"Przelewy24",src:b+"payment-methods/p24.svg"},{id:"sepa",alt:"Sepa",src:b+"payment-methods/sepa.svg"},{id:"sofort",alt:"Sofort",src:b+"payment-methods/sofort.svg"},{id:"unionpay",alt:"Union Pay",src:b+"payment-methods/unionpay.svg"},{id:"visa",alt:"Visa",src:b+"payment-methods/visa.svg"},{id:"wechat",alt:"WeChat",src:b+"payment-methods/wechat.svg"}];o(9086);const Wo=({icons:e=[],align:t="center",className:o})=>{const c=(e=>{const t={};return e.forEach((e=>{let o={};"string"==typeof e&&(o={id:e,alt:e,src:null}),"object"==typeof e&&(o={id:e.id||"",alt:e.alt||"",src:e.src||null}),o.id&&ue(o.id)&&!t[o.id]&&(t[o.id]=o)})),Object.values(t)})(e);if(0===c.length)return null;const n=s()("wc-block-components-payment-method-icons",{"wc-block-components-payment-method-icons--align-left":"left"===t,"wc-block-components-payment-method-icons--align-right":"right"===t},o);return(0,r.createElement)("div",{className:n},c.map((e=>{const t={...e,...(o=e.id,Zo.find((e=>e.id===o))||{})};var o;return(0,r.createElement)(qo,{key:"payment-method-icon-"+e.id,...t})})))},Go=(e="")=>{const{cartCoupons:t,cartIsLoading:o}=Ne(),{createErrorNotice:r}=(0,M.useDispatch)("core/notices"),{createNotice:n}=(0,M.useDispatch)("core/notices"),{setValidationErrors:s}=(0,M.useDispatch)(V.VALIDATION_STORE_KEY),{isApplyingCoupon:a,isRemovingCoupon:l}=(0,M.useSelect)((e=>{const t=e(V.CART_STORE_KEY);return{isApplyingCoupon:t.isApplyingCoupon(),isRemovingCoupon:t.isRemovingCoupon()}}),[r,n]),{applyCoupon:i,removeCoupon:u}=(0,M.useDispatch)(V.CART_STORE_KEY);return{appliedCoupons:t,isLoading:o,applyCoupon:t=>i(t).then((()=>((0,lt.applyCheckoutFilter)({filterName:"showApplyCouponNotice",defaultValue:!0,arg:{couponCode:t,context:e}})&&n("info",(0,c.sprintf)(/* translators: %s coupon code. */
(0,c.__)('Coupon code "%s" has been applied to your cart.',"woo-gutenberg-products-block"),t),{id:"coupon-form",type:"snackbar",context:e}),Promise.resolve(!0)))).catch((e=>(s({coupon:{message:(0,le.decodeEntities)(e.message),hidden:!1}}),Promise.resolve(!1)))),removeCoupon:t=>u(t).then((()=>((0,lt.applyCheckoutFilter)({filterName:"showRemoveCouponNotice",defaultValue:!0,arg:{couponCode:t,context:e}})&&n("info",(0,c.sprintf)(/* translators: %s coupon code. */
(0,c.__)('Coupon code "%s" has been removed from your cart.',"woo-gutenberg-products-block"),t),{id:"coupon-form",type:"snackbar",context:e}),Promise.resolve(!0)))).catch((t=>(r(t.message,{id:"coupon-form",context:e}),Promise.resolve(!1)))),isApplyingCoupon:a,isRemovingCoupon:l}},Qo=(e,t)=>{const o=[],r=(t,o)=>{const r=o+"_tax",c=xe(e,o)&&ue(e[o])?parseInt(e[o],10):0;return{key:o,label:t,value:c,valueWithTax:c+(xe(e,r)&&ue(e[r])?parseInt(e[r],10):0)}};return o.push(r((0,c.__)("Subtotal:","woo-gutenberg-products-block"),"total_items")),o.push(r((0,c.__)("Fees:","woo-gutenberg-products-block"),"total_fees")),o.push(r((0,c.__)("Discount:","woo-gutenberg-products-block"),"total_discount")),o.push({key:"total_tax",label:(0,c.__)("Taxes:","woo-gutenberg-products-block"),value:parseInt(e.total_tax,10),valueWithTax:parseInt(e.total_tax,10)}),t&&o.push(r((0,c.__)("Shipping:","woo-gutenberg-products-block"),"total_shipping")),o},Xo=({isEditor:e,children:t})=>{const[o]=(0,r.useState)(""),[n]=(0,r.useState)(!1);if(n){let t=(0,c.__)("We are experiencing difficulties with this payment method. Please contact us for assistance.","woo-gutenberg-products-block");(e||m.CURRENT_USER_IS_ADMIN)&&(t=o||(0,c.__)("There was an error with this payment method. Please verify it's configured correctly.","woo-gutenberg-products-block"));const n=[{id:"0",content:t,isDismissible:!1,status:"error"}];return(0,r.createElement)(lt.StoreNoticesContainer,{additionalNotices:n,context:ce.PAYMENTS})}return(0,r.createElement)(r.Fragment,null,t)},Jo="wc/store/payment",er=()=>{const{isEditor:e}=D(),{activePaymentMethod:t,paymentMethodData:o}=(0,M.useSelect)((e=>{const t=e(Jo);return{activePaymentMethod:t.getActivePaymentMethod(),paymentMethodData:t.getPaymentMethodData()}})),{__internalSetActivePaymentMethod:n,__internalSetExpressPaymentStarted:s,__internalSetPaymentIdle:a,__internalSetPaymentError:l,__internalSetPaymentMethodData:i,__internalSetExpressPaymentError:u}=(0,M.useDispatch)(Jo),{paymentMethods:d}=Lo(),p=(()=>{const{onCheckoutBeforeProcessing:e,onCheckoutValidationBeforeProcessing:t,onCheckoutAfterProcessingWithSuccess:o,onCheckoutAfterProcessingWithError:n,onSubmit:s,onCheckoutSuccess:a,onCheckoutFail:l,onCheckoutValidation:i}=Xe(),{isCalculating:u,isComplete:d,isIdle:p,isProcessing:g,customerId:_}=(0,M.useSelect)((e=>{const t=e(V.CHECKOUT_STORE_KEY);return{isComplete:t.isComplete(),isIdle:t.isIdle(),isProcessing:t.isProcessing(),customerId:t.getCustomerId(),isCalculating:t.isCalculating()}})),{paymentStatus:b,activePaymentMethod:h,shouldSavePayment:k}=(0,M.useSelect)((e=>{const t=e(V.PAYMENT_STORE_KEY);return{paymentStatus:{get isPristine(){return U()("isPristine",{since:"9.6.0",alternative:"isIdle",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),t.isPaymentIdle()},isIdle:t.isPaymentIdle(),isStarted:t.isExpressPaymentStarted(),isProcessing:t.isPaymentProcessing(),get isFinished(){return U()("isFinished",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),t.hasPaymentError()||t.isPaymentReady()},hasError:t.hasPaymentError(),get hasFailed(){return U()("hasFailed",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),t.hasPaymentError()},get isSuccessful(){return U()("isSuccessful",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),t.isPaymentReady()},isReady:t.isPaymentReady(),isDoingExpressPayment:t.isExpressPaymentMethodActive()},activePaymentMethod:t.getActivePaymentMethod(),shouldSavePayment:t.getShouldSavePaymentMethod()}})),{__internalSetExpressPaymentError:E}=(0,M.useDispatch)(V.PAYMENT_STORE_KEY),{onPaymentProcessing:w,onPaymentSetup:y}=(0,r.useContext)(H),{shippingErrorStatus:v,shippingErrorTypes:f,onShippingRateSuccess:C,onShippingRateFail:S,onShippingRateSelectSuccess:N,onShippingRateSelectFail:P}=ze(),{shippingRates:x,isLoadingRates:R,selectedRates:T,isSelectingRate:I,selectShippingRate:A,needsShipping:B}=Ve(),{billingAddress:O,shippingAddress:D}=(0,M.useSelect)((e=>e(V.CART_STORE_KEY).getCustomerData())),{setShippingAddress:L}=(0,M.useDispatch)(V.CART_STORE_KEY),{cartItems:F,cartFees:$,cartTotals:Y,extensions:j}=Ne(),{appliedCoupons:z}=Go(),K=(0,r.useRef)(Qo(Y,B)),q=(0,r.useRef)({label:(0,c.__)("Total","woo-gutenberg-products-block"),value:parseInt(Y.total_price,10)});(0,r.useEffect)((()=>{K.current=Qo(Y,B),q.current={label:(0,c.__)("Total","woo-gutenberg-products-block"),value:parseInt(Y.total_price,10)}}),[Y,B]);const Z=(0,r.useCallback)(((e="")=>{U()("setExpressPaymentError should only be used by Express Payment Methods (using the provided onError handler).",{alternative:"",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/4228"}),E(e)}),[E]);return{activePaymentMethod:h,billing:{appliedCoupons:z,billingAddress:O,billingData:O,cartTotal:q.current,cartTotalItems:K.current,currency:(0,Tt.getCurrencyFromPriceResponse)(Y),customerId:_,displayPricesIncludingTax:(0,m.getSetting)("displayCartPricesIncludingTax",!1)},cartData:{cartItems:F,cartFees:$,extensions:j},checkoutStatus:{isCalculating:u,isComplete:d,isIdle:p,isProcessing:g},components:{LoadingMask:Vo,PaymentMethodIcons:Wo,PaymentMethodLabel:Ko,ValidationInputError:lt.ValidationInputError},emitResponse:{noticeContexts:ce,responseTypes:re},eventRegistration:{onCheckoutAfterProcessingWithError:n,onCheckoutAfterProcessingWithSuccess:o,onCheckoutBeforeProcessing:e,onCheckoutValidationBeforeProcessing:t,onCheckoutSuccess:a,onCheckoutFail:l,onCheckoutValidation:i,onPaymentProcessing:w,onPaymentSetup:y,onShippingRateFail:S,onShippingRateSelectFail:P,onShippingRateSelectSuccess:N,onShippingRateSuccess:C},onSubmit:s,paymentStatus:b,setExpressPaymentError:Z,shippingData:{isSelectingRate:I,needsShipping:B,selectedRates:T,setSelectedRates:A,setShippingAddress:L,shippingAddress:D,shippingRates:x,shippingRatesLoading:R},shippingStatus:{shippingErrorStatus:v,shippingErrorTypes:f},shouldSavePayment:k}})(),g=(0,r.useRef)(t),_=(0,r.useRef)(o),b=(0,r.useCallback)((e=>()=>{g.current=t,_.current=o,s(),n(e)}),[t,o,n,s]),h=(0,r.useCallback)((()=>{a(),n(g.current,_.current)}),[n,a]),k=(0,r.useCallback)((e=>{l(),i(e),u(e),n(g.current,_.current)}),[n,l,i,u]),E=(0,r.useCallback)(((e="")=>{U()("Express Payment Methods should use the provided onError handler instead.",{alternative:"onError",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/4228"}),e?k(e):u("")}),[u,k]),w=Object.entries(d),y=w.length>0?w.map((([t,o])=>{const c=e?o.edit:o.content;return(0,r.isValidElement)(c)?(0,r.createElement)("li",{key:t,id:`express-payment-method-${t}`},(0,r.cloneElement)(c,{...p,onClick:b(t),onClose:h,onError:k,setExpressPaymentError:E})):null})):(0,r.createElement)("li",{key:"noneRegistered"},(0,c.__)("No registered Payment Methods","woo-gutenberg-products-block"));return(0,r.createElement)(Xo,{isEditor:e},(0,r.createElement)("ul",{className:"wc-block-components-express-payment__event-buttons"},y))};o(6620);const tr=()=>{const{paymentMethods:e,isInitialized:t}=Lo(),{isCalculating:o,isProcessing:n,isAfterProcessing:s,isBeforeProcessing:a,isComplete:l,hasError:i}=(0,M.useSelect)((e=>{const t=e(V.CHECKOUT_STORE_KEY);return{isCalculating:t.isCalculating(),isProcessing:t.isProcessing(),isAfterProcessing:t.isAfterProcessing(),isBeforeProcessing:t.isBeforeProcessing(),isComplete:t.isComplete(),hasError:t.hasError()}})),u=(0,M.useSelect)((e=>e(V.PAYMENT_STORE_KEY).isExpressPaymentMethodActive()));if(!t||t&&0===Object.keys(e).length)return null;const d=n||s||a||l&&!i;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Vo,{isLoading:o||d||u},(0,r.createElement)("div",{className:"wc-block-components-express-payment wc-block-components-express-payment--cart"},(0,r.createElement)("div",{className:"wc-block-components-express-payment__content"},(0,r.createElement)(lt.StoreNoticesContainer,{context:ce.EXPRESS_PAYMENTS}),(0,r.createElement)(er,null)))),(0,r.createElement)("div",{className:"wc-block-components-express-payment-continue-rule wc-block-components-express-payment-continue-rule--cart"},(0,c.__)("Or","woo-gutenberg-products-block")))},or=({className:e})=>{const{cartNeedsPayment:t}=Ne();return t?(0,r.createElement)("div",{className:s()("wc-block-cart__payment-options",e)},(0,r.createElement)(tr,null)):null};o(4235);const rr=(0,r.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},(0,r.createElement)("path",{stroke:"#1E1E1E",strokeLinejoin:"round",strokeWidth:"1.5",d:"M18.25 12a6.25 6.25 0 1 1-12.5 0 6.25 6.25 0 0 1 12.5 0Z"}),(0,r.createElement)("path",{fill:"#1E1E1E",d:"M10 3h4v3h-4z"}),(0,r.createElement)("rect",{width:"1.5",height:"5",x:"11.25",y:"8",fill:"#1E1E1E",rx:".75"}),(0,r.createElement)("path",{fill:"#1E1E1E",d:"m15.7 4.816 1.66 1.078-1.114 1.718-1.661-1.078z"}));(0,d.registerBlockType)("woocommerce/cart-express-payment-block",{icon:{src:(0,r.createElement)(u.Z,{style:{fill:"none"},icon:rr,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{paymentMethods:t,isInitialized:o}=Lo(),c=Object.keys(t).length>0,n=(0,a.useBlockProps)({className:s()({"wp-block-woocommerce-cart-express-payment-block--has-express-payment-methods":c})}),{className:l}=e;return o&&c?(0,r.createElement)("div",{...n},(0,r.createElement)(or,{className:l})):null},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()})});var cr=o(9845);const nr=(0,c.__)("Proceed to Checkout","woo-gutenberg-products-block"),sr={checkoutPageId:{type:"number",default:0},lock:{type:"object",default:{move:!0,remove:!0}},buttonLabel:{type:"string",default:nr}};var ar=o(9884);o(5482);const lr=({className:e,showSpinner:t=!1,children:o,variant:c="contained",...n})=>{const a=s()("wc-block-components-button","wp-element-button",e,c,{"wc-block-components-button--loading":t});return(0,r.createElement)(ar.Z,{className:a,...n},t&&(0,r.createElement)(Fo,null),(0,r.createElement)("span",{className:"wc-block-components-button__text"},o))},ir=({onChange:e,placeholder:t,value:o,...c})=>(0,r.createElement)(lr,{...c},(0,r.createElement)(a.RichText,{multiline:!1,allowedFormats:[],value:o,placeholder:t,onChange:e})),ur=(e,t)=>{if(!e.title.raw)return e.slug;const o=1===t.filter((t=>t.title.raw===e.title.raw)).length;return e.title.raw+(o?"":` - ${e.slug}`)},dr=({setPageId:e,pageId:t,labels:o})=>{const n=(0,M.useSelect)((e=>e("core").getEntityRecords("postType","page",{status:"publish",orderby:"title",order:"asc",per_page:100})),[])||null;return n?(0,r.createElement)(ro.PanelBody,{title:o.title},(0,r.createElement)(ro.SelectControl,{label:(0,c.__)("Link to","woo-gutenberg-products-block"),value:t,options:[{label:o.default,value:0},...n.map((e=>({label:ur(e,n),value:parseInt(e.id,10)})))],onChange:t=>e(parseInt(t,10))})):null};o(8526),(0,d.registerBlockType)("woocommerce/proceed-to-checkout-block",{icon:{src:(0,r.createElement)(u.Z,{icon:cr.Z,className:"wc-block-editor-components-block-icon"})},attributes:sr,edit:({attributes:e,setAttributes:t})=>{const o=(0,a.useBlockProps)(),{checkoutPageId:n=0,buttonLabel:s}=e,{current:l}=(0,r.useRef)(n),i=(0,M.useSelect)((e=>l||e("core/editor").getCurrentPostId()),[l]);return(0,r.createElement)("div",{...o},(0,r.createElement)(a.InspectorControls,null,!(i===w&&0===l)&&(0,r.createElement)(dr,{pageId:n,setPageId:e=>t({checkoutPageId:e}),labels:{title:(0,c.__)("Proceed to Checkout button","woo-gutenberg-products-block"),default:(0,c.__)("WooCommerce Checkout Page","woo-gutenberg-products-block")}})),(0,r.createElement)(ir,{className:"wc-block-cart__submit-button",value:s,placeholder:nr,onChange:e=>{t({buttonLabel:e})}}))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()})});const pr=(0,r.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)("path",{d:"M22.7 22.7l-20-20L2 2l-.7-.7L0 2.5 4.4 7l2.2 4.7L5.2 14A2 2 0 007 17h7.5l1.3 1.4a2 2 0 102.8 2.8l2.9 2.8 1.2-1.3zM7.4 15a.2.2 0 01-.2-.3l.9-1.7h2.4l2 2h-5zm8.2-2a2 2 0 001.7-1l3.6-6.5.1-.5c0-.6-.4-1-1-1H6.5l9 9zM7 18a2 2 0 100 4 2 2 0 000-4z"}),(0,r.createElement)("path",{fill:"none",d:"M0 0h24v24H0z"})),mr=k?["core/paragraph",{align:"center",content:(0,c.sprintf)(/* translators: %s is the link to the store product directory. */
(0,c.__)('<a href="%s">Browse store</a>',"woo-gutenberg-products-block"),k),dropCap:!1}]:null,gr=[["core/heading",{textAlign:"center",content:(0,c.__)("Your cart is currently empty!","woo-gutenberg-products-block"),level:2,className:"with-empty-cart-icon wc-block-cart__empty-cart__title"}],mr,["core/separator",{className:"is-style-dots"}],["core/heading",{textAlign:"center",content:(0,c.__)("New in store","woo-gutenberg-products-block"),level:2}],["woocommerce/product-new",{columns:3,rows:1}]].filter(Boolean);o(549),(0,d.registerBlockType)("woocommerce/empty-cart-block",{icon:{src:(0,r.createElement)(u.Z,{icon:pr,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,a.useBlockProps)(),{currentView:o}=D(),c=_t(lt.innerBlockAreas.EMPTY_CART);return bt({clientId:e,registeredBlocks:c,defaultTemplate:gr}),(0,r.createElement)("div",{...t,hidden:"woocommerce/empty-cart-block"!==o},(0,r.createElement)(a.InnerBlocks,{template:gr,templateLock:!1,renderAppender:a.InnerBlocks.ButtonBlockAppender}))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()},(0,r.createElement)(a.InnerBlocks.Content,null))});const _r=e=>Object.values(e).reduce(((e,t)=>(null!==t.icons&&(e=e.concat(t.icons)),e)),[]),br=({className:e})=>{const{paymentMethods:t}=Do(!1);return(0,r.createElement)(Wo,{className:e,icons:_r(t)})};(0,d.registerBlockType)("woocommerce/cart-accepted-payment-methods-block",{icon:{src:(0,r.createElement)(u.Z,{icon:jo.Z,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,a.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)(br,{className:t}))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()})});const hr=(0,r.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/SVG",viewBox:"0 0 24 24",fill:"none"},(0,r.createElement)("path",{stroke:"currentColor",strokeWidth:"1.5",fill:"none",d:"M6 3.75h12c.69 0 1.25.56 1.25 1.25v14c0 .69-.56 1.25-1.25 1.25H6c-.69 0-1.25-.56-1.25-1.25V5c0-.69.56-1.25 1.25-1.25z"}),(0,r.createElement)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.9 7.5A1.1 1.1 0 018 6.4h8a1.1 1.1 0 011.1 1.1v2a1.1 1.1 0 01-1.1 1.1H8a1.1 1.1 0 01-1.1-1.1v-2zm1.2.1v1.8h7.8V7.6H8.1z",clipRule:"evenodd"}),(0,r.createElement)("path",{fill:"currentColor",d:"M8.5 12h1v1h-1v-1zM8.5 14h1v1h-1v-1zM8.5 16h1v1h-1v-1zM11.5 12h1v1h-1v-1zM11.5 14h1v1h-1v-1zM11.5 16h1v1h-1v-1zM14.5 12h1v1h-1v-1zM14.5 14h1v1h-1v-1zM14.5 16h1v1h-1v-1z"}));o(5454);const kr=(0,ut.withInstanceId)((({instanceId:e,isLoading:t=!1,onSubmit:o,displayCouponForm:n=!1})=>{const[a,l]=(0,r.useState)(""),[i,u]=(0,r.useState)(!n),d=`wc-block-components-totals-coupon__input-${e}`,p=s()("wc-block-components-totals-coupon__content",{"screen-reader-text":i}),{validationErrorId:m}=(0,M.useSelect)((e=>({validationErrorId:e(V.VALIDATION_STORE_KEY).getValidationErrorId(d)})));return(0,r.createElement)("div",{className:"wc-block-components-totals-coupon"},i?(0,r.createElement)("a",{role:"button",href:"#wc-block-components-totals-coupon__form",className:"wc-block-components-totals-coupon-link","aria-label":(0,c.__)("Add a coupon","woo-gutenberg-products-block"),onClick:e=>{e.preventDefault(),u(!1)}},(0,c.__)("Add a coupon","woo-gutenberg-products-block")):(0,r.createElement)(Vo,{screenReaderLabel:(0,c.__)("Applying coupon…","woo-gutenberg-products-block"),isLoading:t,showSpinner:!1},(0,r.createElement)("div",{className:p},(0,r.createElement)("form",{className:"wc-block-components-totals-coupon__form",id:"wc-block-components-totals-coupon__form"},(0,r.createElement)(lt.ValidatedTextInput,{id:d,errorId:"coupon",className:"wc-block-components-totals-coupon__input",label:(0,c.__)("Enter code","woo-gutenberg-products-block"),value:a,ariaDescribedBy:m,onChange:e=>{l(e)},focusOnMount:!0,validateOnMount:!1,showError:!1}),(0,r.createElement)(lr,{className:"wc-block-components-totals-coupon__button",disabled:t||!a,showSpinner:t,onClick:e=>{e.preventDefault(),void 0!==o?o(a).then((e=>{e&&(l(""),u(!0))})):(l(""),u(!0))},type:"submit"},(0,c.__)("Apply","woo-gutenberg-products-block"))),(0,r.createElement)(lt.ValidationInputError,{propertyName:"coupon",elementId:d}))))}));o(6232);const Er=({text:e,screenReaderText:t="",element:o="li",className:c="",radius:n="small",children:a=null,...l})=>{const i=o,u=s()(c,"wc-block-components-chip","wc-block-components-chip--radius-"+n),d=Boolean(t&&t!==e);return(0,r.createElement)(i,{className:u,...l},(0,r.createElement)("span",{"aria-hidden":d,className:"wc-block-components-chip__text"},e),d&&(0,r.createElement)("span",{className:"screen-reader-text"},t),a)};var wr=o(7231);const yr=({ariaLabel:e="",className:t="",disabled:o=!1,onRemove:n=(()=>{}),removeOnAnyClick:a=!1,text:l,screenReaderText:i="",...d})=>{const p=a?"span":"button";if(!e){const t=i&&"string"==typeof i?i:l;e="string"!=typeof t?/* translators: Remove chip. */
(0,c.__)("Remove","woo-gutenberg-products-block"):(0,c.sprintf)(/* translators: %s text of the chip to remove. */
(0,c.__)('Remove "%s"',"woo-gutenberg-products-block"),t)}const m={"aria-label":e,disabled:o,onClick:n,onKeyDown:e=>{"Backspace"!==e.key&&"Delete"!==e.key||n()}},g=a?m:{},_=a?{"aria-hidden":!0}:m;return(0,r.createElement)(Er,{...d,...g,className:s()(t,"is-removable"),element:a?"button":d.element,screenReaderText:i,text:l},(0,r.createElement)(p,{className:"wc-block-components-chip__remove",..._},(0,r.createElement)(u.Z,{className:"wc-block-components-chip__remove-icon",icon:wr.Z,size:16})))};o(5154);const vr={context:"summary"},fr=({cartCoupons:e=[],currency:t,isRemovingCoupon:o,removeCoupon:n,values:s})=>{const{total_discount:a,total_discount_tax:l}=s,i=parseInt(a,10);if(!i&&0===e.length)return null;const u=parseInt(l,10),d=(0,m.getSetting)("displayCartPricesIncludingTax",!1)?i+u:i,p=(0,lt.applyCheckoutFilter)({arg:vr,filterName:"coupons",defaultValue:e});return(0,r.createElement)(lt.TotalsItem,{className:"wc-block-components-totals-discount",currency:t,description:0!==p.length&&(0,r.createElement)(Vo,{screenReaderLabel:(0,c.__)("Removing coupon…","woo-gutenberg-products-block"),isLoading:o,showSpinner:!1},(0,r.createElement)("ul",{className:"wc-block-components-totals-discount__coupon-list"},p.map((e=>(0,r.createElement)(yr,{key:"coupon-"+e.code,className:"wc-block-components-totals-discount__coupon-list-item",text:e.label,screenReaderText:(0,c.sprintf)(/* translators: %s Coupon code. */
(0,c.__)("Coupon: %s","woo-gutenberg-products-block"),e.label),disabled:o,onRemove:()=>{n(e.code)},radius:"large",ariaLabel:(0,c.sprintf)(/* translators: %s is a coupon code. */
(0,c.__)('Remove coupon "%s"',"woo-gutenberg-products-block"),e.label)}))))),label:d?(0,c.__)("Discount","woo-gutenberg-products-block"):(0,c.__)("Coupons","woo-gutenberg-products-block"),value:d?-1*d:"-"})};o(6305);const Cr=({currency:e,values:t,className:o})=>{const n=(0,m.getSetting)("taxesEnabled",!0)&&(0,m.getSetting)("displayCartPricesIncludingTax",!1),{total_price:a,total_tax:l,tax_lines:i}=t,{receiveCart:u,...d}=Ne(),p=(0,lt.applyCheckoutFilter)({filterName:"totalLabel",defaultValue:(0,c.__)("Total","woo-gutenberg-products-block"),extensions:d.extensions,arg:{cart:d}}),g=parseInt(l,10),_=i&&i.length>0?(0,c.sprintf)(/* translators: %s is a list of tax rates */
(0,c.__)("Including %s","woo-gutenberg-products-block"),i.map((({name:t,price:o})=>`${(0,Tt.formatPrice)(o,e)} ${t}`)).join(", ")):(0,c.__)("Including <TaxAmount/> in taxes","woo-gutenberg-products-block");return(0,r.createElement)(lt.TotalsItem,{className:s()("wc-block-components-totals-footer-item",o),currency:e,label:p,value:parseInt(a,10),description:n&&0!==g&&(0,r.createElement)("p",{className:"wc-block-components-totals-footer-item-tax"},(0,r.createInterpolateElement)(_,{TaxAmount:(0,r.createElement)(Rt,{className:"wc-block-components-totals-footer-item-tax-value",currency:e,value:g})}))})},Sr=({selectedShippingRates:e})=>(0,r.createElement)("div",{className:"wc-block-components-totals-item__description wc-block-components-totals-shipping__via"},(0,le.decodeEntities)(e.filter(((t,o)=>e.indexOf(t)===o)).join(", ")));o(7866);var Nr=o(5287);o(5821);const Pr=(0,ut.withInstanceId)((({id:e,className:t,label:o,onChange:n,options:a,value:l,required:i=!1,errorMessage:u=(0,c.__)("Please select a value.","woo-gutenberg-products-block"),errorId:d,instanceId:p="0",autoComplete:m="off"})=>{const g=(0,r.useRef)(null),_=e||"control-"+p,b=d||_,{setValidationErrors:h,clearValidationError:k}=(0,M.useDispatch)(V.VALIDATION_STORE_KEY),E=(0,M.useSelect)((e=>e(V.VALIDATION_STORE_KEY).getValidationError(b)));return(0,r.useEffect)((()=>(!i||l?k(b):h({[b]:{message:u,hidden:!0}}),()=>{k(b)})),[k,l,b,u,i,h]),(0,r.createElement)("div",{id:_,className:s()("wc-block-components-combobox",t,{"is-active":l,"has-error":(null==E?void 0:E.message)&&!(null!=E&&E.hidden)}),ref:g},(0,r.createElement)(Nr.Z,{className:"wc-block-components-combobox-control",label:o,onChange:n,onFilterValueChange:e=>{if(e.length){const t=Pe(g.current)?g.current.ownerDocument.activeElement:void 0;if(t&&Pe(g.current)&&g.current.contains(t))return;const o=e.toLocaleUpperCase(),r=a.find((e=>e.label.toLocaleUpperCase().startsWith(o)||e.value.toLocaleUpperCase()===o));r&&n(r.value)}},options:a,value:l||"",allowReset:!1,autoComplete:m,"aria-invalid":(null==E?void 0:E.message)&&!(null!=E&&E.hidden)}),(0,r.createElement)(lt.ValidationInputError,{propertyName:b}))}));o(7775);const xr=({className:e,countries:t,id:o,label:n,onChange:a,value:l="",autoComplete:i="off",required:u=!1,errorId:d,errorMessage:p=(0,c.__)("Please select a country","woo-gutenberg-products-block")})=>{const m=(0,r.useMemo)((()=>Object.entries(t).map((([e,t])=>({value:e,label:(0,le.decodeEntities)(t)})))),[t]);return(0,r.createElement)("div",{className:s()(e,"wc-block-components-country-input")},(0,r.createElement)(Pr,{id:o,label:n,onChange:a,options:m,value:l,errorId:d,errorMessage:p,required:u,autoComplete:i}))},Rr=e=>(0,r.createElement)(xr,{countries:S,...e}),Tr=e=>(0,r.createElement)(xr,{countries:P,...e});o(8410);const Ir=(e,t)=>{const o=t.find((t=>t.label.toLocaleUpperCase()===e.toLocaleUpperCase()||t.value.toLocaleUpperCase()===e.toLocaleUpperCase()));return o?o.value:""},Ar=({className:e,id:t,states:o,country:n,label:a,onChange:l,autoComplete:i="off",value:u="",required:d=!1,errorId:p=""})=>{const m=o[n],g=(0,r.useMemo)((()=>m?Object.keys(m).map((e=>({value:e,label:(0,le.decodeEntities)(m[e])}))):[]),[m]),_=(0,r.useCallback)((e=>{const t=g.length>0?Ir(e,g):e;t!==u&&l(t)}),[l,g,u]),b=(0,r.useRef)(u);return(0,r.useEffect)((()=>{b.current!==u&&(b.current=u)}),[u]),(0,r.useEffect)((()=>{if(g.length>0&&b.current){const e=Ir(b.current,g);e!==b.current&&_(e)}}),[g,_]),g.length>0?(0,r.createElement)(Pr,{className:s()(e,"wc-block-components-state-input"),id:t,label:a,onChange:_,options:g,value:u,errorMessage:(0,c.__)("Please select a state.","woo-gutenberg-products-block"),errorId:p,required:d,autoComplete:i}):(0,r.createElement)(lt.ValidatedTextInput,{className:e,id:t,label:a,onChange:_,autoComplete:i,value:u,required:d})},Br=e=>(0,r.createElement)(Ar,{states:N,...e}),Mr=e=>(0,r.createElement)(Ar,{states:x,...e}),Or=Object.keys(m.defaultAddressFields),Dr=(0,ut.withInstanceId)((({id:e="",fields:t=Or,fieldConfig:o={},instanceId:n,onChange:s,type:a="shipping",values:l})=>{const i=Oo(t),u=Oo(o),d=Oo(l.country),p=(0,r.useMemo)((()=>{const e=me(i,u,d);return{fields:e,type:a,required:e.filter((e=>e.required)),hidden:e.filter((e=>e.hidden))}}),[i,u,d,a]),m=(0,r.useRef)({});return(0,r.useEffect)((()=>{const e={...l,...Object.fromEntries(p.hidden.map((e=>[e.key,""])))};Be()(l,e)||s(e)}),[s,p,l]),(0,r.useEffect)((()=>{"shipping"===a&&(e=>{const t="shipping_country",o=(0,M.select)(V.VALIDATION_STORE_KEY).getValidationError(t);!e.country&&(e.city||e.state||e.postcode)&&(o?(0,M.dispatch)(V.VALIDATION_STORE_KEY).showValidationError(t):(0,M.dispatch)(V.VALIDATION_STORE_KEY).setValidationErrors({[t]:{message:(0,c.__)("Please select your country","woo-gutenberg-products-block"),hidden:!1}})),o&&e.country&&(0,M.dispatch)(V.VALIDATION_STORE_KEY).clearValidationError(t)})(l)}),[l,a]),(0,r.useEffect)((()=>{var e,t;null===(e=m.current)||void 0===e||null===(t=e.postcode)||void 0===t||t.revalidate()}),[d]),e=e||n,(0,r.createElement)("div",{id:e,className:"wc-block-components-address-form"},p.fields.map((t=>{if(t.hidden)return null;const o={id:`${e}-${t.key}`,errorId:`${a}_${t.key}`,label:t.required?t.label:t.optionalLabel,autoCapitalize:t.autocapitalize,autoComplete:t.autocomplete,errorMessage:t.errorMessage,required:t.required,className:`wc-block-components-address-form__${t.key}`};if("country"===t.key){const e="shipping"===a?Tr:Rr;return(0,r.createElement)(e,{key:t.key,...o,value:l.country,onChange:e=>{const t={...l,country:e,state:""};l.postcode&&!(0,lt.isPostcode)({postcode:l.postcode,country:e})&&(t.postcode=""),s(t)}})}if("state"===t.key){const e="shipping"===a?Mr:Br;return(0,r.createElement)(e,{key:t.key,...o,country:l.country,value:l.state,onChange:e=>s({...l,state:e})})}return(0,r.createElement)(lt.ValidatedTextInput,{key:t.key,ref:e=>m.current[t.key]=e,...o,value:l[t.key],onChange:e=>s({...l,[t.key]:e}),customFormatter:e=>"postcode"===t.key?e.trimStart().toUpperCase():e,customValidation:e=>((e,t,o)=>!((e.required||e.value)&&"postcode"===t&&o.country&&!(0,lt.isPostcode)({postcode:e.value,country:o.country})&&(e.setCustomValidity((0,c.__)("Please enter a valid postcode","woo-gutenberg-products-block")),1)))(e,t.key,l)})})))})),Lr=({address:e,onUpdate:t,onCancel:o,addressFields:n})=>{const[s,a]=(0,r.useState)(e),{showAllValidationErrors:l}=(0,M.useDispatch)(V.VALIDATION_STORE_KEY),{hasValidationErrors:i,isCustomerDataUpdating:u}=(0,M.useSelect)((e=>({hasValidationErrors:e(V.VALIDATION_STORE_KEY).hasValidationErrors,isCustomerDataUpdating:e(V.CART_STORE_KEY).isCustomerDataUpdating()})));return(0,r.createElement)("form",{className:"wc-block-components-shipping-calculator-address"},(0,r.createElement)(Dr,{fields:n,onChange:a,values:s}),(0,r.createElement)(lr,{className:"wc-block-components-shipping-calculator-address__button",disabled:u,onClick:r=>(r.preventDefault(),Be()(s,e)?o():(l(),i()?void 0:t(s))),type:"submit"},(0,c.__)("Update","woo-gutenberg-products-block")))},Fr=({onUpdate:e=(()=>{}),onCancel:t=(()=>{}),addressFields:o=["country","state","city","postcode"]})=>{const{shippingAddress:c}=(()=>{const{customerData:e,isInitialized:t}=(0,M.useSelect)((e=>{const t=e(V.CART_STORE_KEY);return{customerData:t.getCustomerData(),isInitialized:t.hasFinishedResolution("getCartData")}})),{setShippingAddress:o,setBillingAddress:r}=(0,M.useDispatch)(V.CART_STORE_KEY);return{isInitialized:t,billingAddress:e.billingAddress,shippingAddress:e.shippingAddress,setBillingAddress:r,setShippingAddress:o}})(),n="wc/cart/shipping-calculator";return(0,r.createElement)("div",{className:"wc-block-components-shipping-calculator"},(0,r.createElement)(lt.StoreNoticesContainer,{context:n}),(0,r.createElement)(Lr,{address:c,addressFields:o,onCancel:t,onUpdate:t=>{(0,M.dispatch)(V.CART_STORE_KEY).updateCustomerData({shipping_address:t},!1).then((()=>{(e=>{const{removeNotice:t}=(0,M.dispatch)("core/notices"),{getNotices:o}=(0,M.select)("core/notices");o(e).forEach((o=>{t(o.id,e)}))})(n),e(t)})).catch((e=>{(0,V.processErrorResponse)(e,n)}))}}))},Vr=({label:e=(0,c.__)("Calculate","woo-gutenberg-products-block"),isShippingCalculatorOpen:t,setIsShippingCalculatorOpen:o})=>(0,r.createElement)("a",{role:"button",href:"#wc-block-components-shipping-calculator-address__link",className:"wc-block-components-totals-shipping__change-address__link",id:"wc-block-components-totals-shipping__change-address__link",onClick:e=>{e.preventDefault(),o(!t)},"aria-label":e,"aria-expanded":t},e),$r=({showCalculator:e,isShippingCalculatorOpen:t,setIsShippingCalculatorOpen:o,isCheckout:n=!1})=>e?(0,r.createElement)(Vr,{label:(0,c.__)("Add an address for shipping options","woo-gutenberg-products-block"),isShippingCalculatorOpen:t,setIsShippingCalculatorOpen:o}):(0,r.createElement)("em",null,n?(0,c.__)("No shipping options available","woo-gutenberg-products-block"):(0,c.__)("Calculated during checkout","woo-gutenberg-products-block")),Ur=()=>{const{pickupAddress:e}=(0,M.useSelect)((e=>{const t=e("wc/store/cart").getShippingRates().flatMap((e=>e.shipping_rates)).find((e=>e.selected&&Te(e)));if(Pe(t)&&xe(t,"meta_data")){const e=t.meta_data.find((e=>"pickup_address"===e.key));if(Pe(e)&&xe(e,"value")&&e.value)return{pickupAddress:e.value}}return Pe(t),{pickupAddress:void 0}}));return void 0===e?null:(0,r.createElement)("span",{className:"wc-block-components-shipping-address"},(0,c.sprintf)(/* translators: %s: shipping method name, e.g. "Amazon Locker" */
(0,c.__)("Collection from %s","woo-gutenberg-products-block"),e)+" ")},Yr=({formattedLocation:e})=>e?(0,r.createElement)("span",{className:"wc-block-components-shipping-address"},(0,c.sprintf)(/* translators: %s location. */
(0,c.__)("Shipping to %s","woo-gutenberg-products-block"),e)+" "):null,jr=({showCalculator:e,isShippingCalculatorOpen:t,setIsShippingCalculatorOpen:o,shippingAddress:n})=>{const s=_e(n),{isEditor:a}=D(),l=(0,M.useSelect)((e=>e(V.CHECKOUT_STORE_KEY).prefersCollection()));if(!s&&!a)return null;const i=(e=>{if(0===Object.values(e).length)return null;const t="string"==typeof P[e.country]?(0,le.decodeEntities)(P[e.country]):"",o="object"==typeof x[e.country]&&"string"==typeof x[e.country][e.state]?(0,le.decodeEntities)(x[e.country][e.state]):e.state,r=[];r.push(e.postcode.toUpperCase()),r.push(e.city),r.push(o),r.push(t);return r.filter(Boolean).join(", ")||null})(n);return(0,r.createElement)(r.Fragment,null,l?(0,r.createElement)(Ur,null):(0,r.createElement)(Yr,{formattedLocation:i}),e&&(0,r.createElement)(Vr,{label:(0,c.__)("Change address","woo-gutenberg-products-block"),isShippingCalculatorOpen:t,setIsShippingCalculatorOpen:o}))};var zr=o(5202),Kr=(o(1365),o(8184)),Hr=o(5430),qr=o(5045);const Zr=e=>{switch(e){case"success":case"warning":case"info":case"default":return"polite";default:return"assertive"}},Wr=e=>{switch(e){case"success":return Kr.Z;case"warning":case"info":case"error":return Hr.Z;default:return qr.Z}},Gr=({className:e,status:t="default",children:o,spokenMessage:n=o,onRemove:a=(()=>{}),isDismissible:l=!0,politeness:i=Zr(t),summary:d})=>(((e,t)=>{const o="string"==typeof e?e:(0,r.renderToString)(e);(0,r.useEffect)((()=>{o&&(0,Ct.speak)(o,t)}),[o,t])})(n,i),(0,r.createElement)("div",{className:s()(e,"wc-block-components-notice-banner","is-"+t,{"is-dismissible":l})},(0,r.createElement)(u.Z,{icon:Wr(t)}),(0,r.createElement)("div",{className:"wc-block-components-notice-banner__content"},d&&(0,r.createElement)("p",{className:"wc-block-components-notice-banner__summary"},d),o),!!l&&(0,r.createElement)(lr,{className:"wc-block-components-notice-banner__dismiss",icon:zr.Z,label:(0,c.__)("Dismiss this notice","woo-gutenberg-products-block"),onClick:e=>{"function"==typeof(null==e?void 0:e.preventDefault)&&e.preventDefault&&e.preventDefault(),a()},showTooltip:!1})));var Qr=o(7856),Xr=o.n(Qr);const Jr=["a","b","em","i","strong","p","br"],ec=["target","href","rel","name","download"],tc=(e,t)=>{const o=(null==t?void 0:t.tags)||Jr,r=(null==t?void 0:t.attr)||ec;return Xr().sanitize(e,{ALLOWED_TAGS:o,ALLOWED_ATTR:r})},oc=({label:e,secondaryLabel:t,description:o,secondaryDescription:c,id:n})=>(0,r.createElement)("div",{className:"wc-block-components-radio-control__option-layout"},(0,r.createElement)("div",{className:"wc-block-components-radio-control__label-group"},e&&(0,r.createElement)("span",{id:n&&`${n}__label`,className:"wc-block-components-radio-control__label"},e),t&&(0,r.createElement)("span",{id:n&&`${n}__secondary-label`,className:"wc-block-components-radio-control__secondary-label"},t)),(o||c)&&(0,r.createElement)("div",{className:"wc-block-components-radio-control__description-group"},o&&(0,r.createElement)("span",{id:n&&`${n}__description`,className:"wc-block-components-radio-control__description"},o),c&&(0,r.createElement)("span",{id:n&&`${n}__secondary-description`,className:"wc-block-components-radio-control__secondary-description"},c))),rc=({checked:e,name:t,onChange:o,option:c,disabled:n=!1})=>{const{value:a,label:l,description:i,secondaryLabel:u,secondaryDescription:d}=c;return(0,r.createElement)("label",{className:s()("wc-block-components-radio-control__option",{"wc-block-components-radio-control__option-checked":e}),htmlFor:`${t}-${a}`},(0,r.createElement)("input",{id:`${t}-${a}`,className:"wc-block-components-radio-control__input",type:"radio",name:t,value:a,onChange:e=>o(e.target.value),checked:e,"aria-describedby":s()({[`${t}-${a}__label`]:l,[`${t}-${a}__secondary-label`]:u,[`${t}-${a}__description`]:i,[`${t}-${a}__secondary-description`]:d}),disabled:n}),(0,r.createElement)(oc,{id:`${t}-${a}`,label:l,secondaryLabel:u,description:i,secondaryDescription:d}))};o(7546);const cc=({className:e="",id:t,selected:o="",onChange:c,options:n=[],disabled:a=!1})=>{const l=(0,ut.useInstanceId)(cc),i=t||l;return n.length?(0,r.createElement)("div",{className:s()("wc-block-components-radio-control",e)},n.map((e=>(0,r.createElement)(rc,{key:`${i}-${e.value}`,name:`radio-control-${i}`,checked:e.value===o,option:e,onChange:t=>{c(t),"function"==typeof e.onChange&&e.onChange(t)},disabled:a})))):null},nc=cc,sc=e=>{const t=(0,m.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(e.price,10)+parseInt(e.taxes,10):parseInt(e.price,10);return{label:(0,le.decodeEntities)(e.name),value:e.rate_id,description:(0,r.createElement)(r.Fragment,null,Number.isFinite(t)&&(0,r.createElement)(Rt,{currency:(0,Tt.getCurrencyFromPriceResponse)(e),value:t}),Number.isFinite(t)&&e.delivery_time?" — ":null,(0,le.decodeEntities)(e.delivery_time))}},ac=({className:e="",noResultsMessage:t,onSelectRate:o,rates:c,renderOption:n=sc,selectedRate:s,disabled:a=!1})=>{const l=(null==s?void 0:s.rate_id)||"",i=He(l),[u,d]=(0,r.useState)((()=>{var e;return l||(null===(e=c[0])||void 0===e?void 0:e.rate_id)}));if((0,r.useEffect)((()=>{l&&l!==i&&l!==u&&d(l)}),[l,u,i]),(0,r.useEffect)((()=>{u&&o(u)}),[o,u]),0===c.length)return t;if(c.length>1)return(0,r.createElement)(nc,{className:e,onChange:e=>{d(e),o(e)},disabled:a,selected:u,options:c.map(n)});const{label:p,secondaryLabel:m,description:g,secondaryDescription:_}=n(c[0]);return(0,r.createElement)(oc,{label:p,secondaryLabel:m,description:g,secondaryDescription:_})};o(6125);const lc=({packageId:e,className:t="",noResultsMessage:o,renderOption:n,packageData:a,collapsible:l,showItems:i})=>{const{selectShippingRate:u,isSelectingRate:d}=Ve(),p=document.querySelectorAll(".wc-block-components-shipping-rates-control__package").length>1,m=null!=i?i:p,g=null!=l?l:p,_=(0,r.createElement)(r.Fragment,null,(g||m)&&(0,r.createElement)("div",{className:"wc-block-components-shipping-rates-control__package-title",dangerouslySetInnerHTML:{__html:tc(a.name)}}),m&&(0,r.createElement)("ul",{className:"wc-block-components-shipping-rates-control__package-items"},Object.values(a.items).map((e=>{const t=(0,le.decodeEntities)(e.name),o=e.quantity;return(0,r.createElement)("li",{key:e.key,className:"wc-block-components-shipping-rates-control__package-item"},(0,r.createElement)(uo,{label:o>1?`${t} × ${o}`:`${t}`,screenReaderLabel:(0,c.sprintf)(/* translators: %1$s name of the product (ie: Sunglasses), %2$d number of units in the current cart package */
(0,c._n)("%1$s (%2$d unit)","%1$s (%2$d units)",o,"woo-gutenberg-products-block"),t,o)}))})))),b=(0,r.useCallback)((t=>{u(t,e)}),[e,u]),h={className:t,noResultsMessage:o,rates:a.shipping_rates,onSelectRate:b,selectedRate:a.shipping_rates.find((e=>e.selected)),renderOption:n,disabled:d};return g?(0,r.createElement)(lt.Panel,{className:s()("wc-block-components-shipping-rates-control__package",t,{"wc-block-components-shipping-rates-control__package--disabled":d}),initialOpen:!1,title:_},(0,r.createElement)(ac,{...h})):(0,r.createElement)("div",{className:s()("wc-block-components-shipping-rates-control__package",t,{"wc-block-components-shipping-rates-control__package--disabled":d})},_,(0,r.createElement)(ac,{...h}))},ic=({packages:e,showItems:t,collapsible:o,noResultsMessage:c,renderOption:n})=>e.length?(0,r.createElement)(r.Fragment,null,e.map((({package_id:e,...s})=>(0,r.createElement)(lc,{key:e,packageId:e,packageData:s,collapsible:o,showItems:t,noResultsMessage:c,renderOption:n})))):null,uc=({shippingRates:e,isLoadingRates:t,className:o,collapsible:n,showItems:s,noResultsMessage:a,renderOption:l,context:i})=>{(0,r.useEffect)((()=>{var o,r;t||(o=(e=>e.length)(e),r=(e=>e.reduce((function(e,t){return e+t.shipping_rates.length}),0))(e),1===o?(0,Ct.speak)((0,c.sprintf)(/* translators: %d number of shipping options found. */
(0,c._n)("%d shipping option was found.","%d shipping options were found.",r,"woo-gutenberg-products-block"),r)):(0,Ct.speak)((0,c.sprintf)(/* translators: %d number of shipping packages packages. */
(0,c._n)("Shipping option searched for %d package.","Shipping options searched for %d packages.",o,"woo-gutenberg-products-block"),o)+" "+(0,c.sprintf)(/* translators: %d number of shipping options available. */
(0,c._n)("%d shipping option was found","%d shipping options were found",r,"woo-gutenberg-products-block"),r)))}),[t,e]);const{extensions:u,receiveCart:d,...p}=Ne(),m={className:o,collapsible:n,showItems:s,noResultsMessage:a,renderOption:l,extensions:u,cart:p,components:{ShippingRatesControlPackage:lc},context:i},{isEditor:g}=D(),{hasSelectedLocalPickup:_,selectedRates:b}=Ve(),h=Pe(b)?Object.values(b):[],k=h.every((e=>e===h[0]));return(0,r.createElement)(Vo,{isLoading:t,screenReaderLabel:(0,c.__)("Loading shipping rates…","woo-gutenberg-products-block"),showSpinner:!0},_&&"woocommerce/cart"===i&&e.length>1&&!k&&!g&&(0,r.createElement)(Gr,{className:"wc-block-components-notice",isDismissible:!1,status:"warning"},(0,c.__)("Multiple shipments must have the same pickup location","woo-gutenberg-products-block")),(0,r.createElement)(lt.ExperimentalOrderShippingPackages.Slot,{...m}),(0,r.createElement)(lt.ExperimentalOrderShippingPackages,null,(0,r.createElement)(ic,{packages:e,noResultsMessage:a,renderOption:l})))},dc=({hasRates:e,shippingRates:t,isLoadingRates:o,isAddressComplete:n})=>{const s=e?(0,c.__)("Shipping options","woo-gutenberg-products-block"):(0,c.__)("Choose a shipping option","woo-gutenberg-products-block");return(0,r.createElement)("fieldset",{className:"wc-block-components-totals-shipping__fieldset"},(0,r.createElement)("legend",{className:"screen-reader-text"},s),(0,r.createElement)(uc,{className:"wc-block-components-totals-shipping__options",noResultsMessage:(0,r.createElement)(r.Fragment,null,n&&(0,r.createElement)(Gr,{isDismissible:!1,className:"wc-block-components-shipping-rates-control__no-results-notice",status:"warning"},(0,c.__)("There are no shipping options available. Please check your shipping address.","woo-gutenberg-products-block"))),shippingRates:t,isLoadingRates:o,context:"woocommerce/cart"}))};o(5092);const pc=({currency:e,values:t,showCalculator:o=!0,showRateSelector:n=!0,isCheckout:a=!1,className:l})=>{const[i,u]=(0,r.useState)(!1),{shippingAddress:d,cartHasCalculatedShipping:p,shippingRates:g,isLoadingRates:_}=Ne(),b=(e=>(0,m.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(e.total_shipping,10)+parseInt(e.total_shipping_tax,10):parseInt(e.total_shipping,10))(t),h=g.some((e=>e.shipping_rates.length))||b>0,k=o&&i,E=(0,M.useSelect)((e=>e(V.CHECKOUT_STORE_KEY).prefersCollection())),w=g.flatMap((e=>e.shipping_rates.filter((e=>E&&Te(e)&&e.selected||!E&&e.selected)).flatMap((e=>e.name)))),y=_e(d),v=((e,t,o)=>!e||!t&&o.some((e=>!e.shipping_rates.some((e=>!Ie(e.method_id))))))(h,E,g);return(0,r.createElement)("div",{className:s()("wc-block-components-totals-shipping",l)},(0,r.createElement)(lt.TotalsItem,{label:(0,c.__)("Shipping","woo-gutenberg-products-block"),value:!v&&p?b:(!y||a)&&(0,r.createElement)($r,{showCalculator:o,isCheckout:a,isShippingCalculatorOpen:i,setIsShippingCalculatorOpen:u}),description:!v&&p||y&&!a?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Sr,{selectedShippingRates:w}),(0,r.createElement)(jr,{shippingAddress:d,showCalculator:o,isShippingCalculatorOpen:i,setIsShippingCalculatorOpen:u})):null,currency:e}),k&&(0,r.createElement)(Fr,{onUpdate:()=>{u(!1)},onCancel:()=>{u(!1)}}),n&&p&&!k&&(0,r.createElement)(dc,{hasRates:h,shippingRates:g,isLoadingRates:_,isAddressComplete:y}))},mc=()=>{const{extensions:e,receiveCart:t,...o}=Ne(),c={extensions:e,cart:o,context:"woocommerce/cart"};return(0,r.createElement)(lt.ExperimentalOrderMeta.Slot,{...c})};(0,d.registerBlockType)("woocommerce/cart-order-summary-block",{icon:{src:(0,r.createElement)(u.Z,{icon:hr,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e})=>{const t=(0,a.useBlockProps)(),{cartTotals:o}=Ne(),n=(0,Tt.getCurrencyFromPriceResponse)(o),s=_t(lt.innerBlockAreas.CART_ORDER_SUMMARY),l=[["woocommerce/cart-order-summary-heading-block",{content:(0,c.__)("Cart totals","woo-gutenberg-products-block")},[]],["woocommerce/cart-order-summary-coupon-form-block",{},[]],["woocommerce/cart-order-summary-subtotal-block",{},[]],["woocommerce/cart-order-summary-fee-block",{},[]],["woocommerce/cart-order-summary-discount-block",{},[]],["woocommerce/cart-order-summary-shipping-block",{},[]],["woocommerce/cart-order-summary-taxes-block",{},[]]];return bt({clientId:e,registeredBlocks:s,defaultTemplate:l}),(0,r.createElement)("div",{...t},(0,r.createElement)(a.InnerBlocks,{allowedBlocks:s,template:l}),(0,r.createElement)("div",{className:"wc-block-components-totals-wrapper"},(0,r.createElement)(Cr,{currency:n,values:o})),(0,r.createElement)(mc,null))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()},(0,r.createElement)(a.InnerBlocks.Content,null))});const gc=({className:e=""})=>{const{cartTotals:t}=Ne(),o=(0,Tt.getCurrencyFromPriceResponse)(t);return(0,r.createElement)(lt.TotalsWrapper,{className:e},(0,r.createElement)(lt.Subtotal,{currency:o,values:t}))};(0,d.registerBlockType)("woocommerce/cart-order-summary-subtotal-block",{icon:{src:(0,r.createElement)(u.Z,{icon:hr,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,a.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)(gc,{className:t}))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()})});const _c=({className:e})=>{const{cartFees:t,cartTotals:o}=Ne(),c=(0,Tt.getCurrencyFromPriceResponse)(o);return(0,r.createElement)(lt.TotalsWrapper,{className:e},(0,r.createElement)(lt.TotalsFees,{currency:c,cartFees:t}))};(0,d.registerBlockType)("woocommerce/cart-order-summary-fee-block",{icon:{src:(0,r.createElement)(u.Z,{icon:hr,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,a.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)(_c,{className:t}))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()})});const bc=()=>{const{extensions:e,receiveCart:t,...o}=Ne(),c={extensions:e,cart:o,context:"woocommerce/cart"};return(0,r.createElement)(lt.ExperimentalDiscountsMeta.Slot,{...c})},hc=({className:e})=>{const{cartTotals:t,cartCoupons:o}=Ne(),{removeCoupon:c,isRemovingCoupon:n}=Go("wc/cart"),s=(0,Tt.getCurrencyFromPriceResponse)(t);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(lt.TotalsWrapper,{className:e},(0,r.createElement)(fr,{cartCoupons:o,currency:s,isRemovingCoupon:n,removeCoupon:c,values:t})),(0,r.createElement)(bc,null))};(0,d.registerBlockType)("woocommerce/cart-order-summary-discount-block",{icon:{src:(0,r.createElement)(u.Z,{icon:hr,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,a.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)(hc,{className:t}))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()})});const kc=({className:e,isShippingCalculatorEnabled:t})=>{const{cartTotals:o,cartNeedsShipping:c}=Ne();if(!c)return null;const n=(0,Tt.getCurrencyFromPriceResponse)(o);return(0,r.createElement)(lt.TotalsWrapper,{className:e},(0,r.createElement)(pc,{showCalculator:t,showRateSelector:!0,values:o,currency:n}))},Ec={isShippingCalculatorEnabled:{type:"boolean",default:(0,m.getSetting)("isShippingCalculatorEnabled",!0)},lock:{type:"object",default:{move:!1,remove:!0}}};(0,d.registerBlockType)("woocommerce/cart-order-summary-shipping-block",{icon:{src:(0,r.createElement)(u.Z,{icon:hr,className:"wc-block-editor-components-block-icon"})},attributes:Ec,edit:({attributes:e,setAttributes:t})=>{const{isShippingCalculatorEnabled:o,className:n}=e,s=(0,m.getSetting)("shippingEnabled",!0),l=(0,a.useBlockProps)();return(0,r.createElement)("div",{...l},(0,r.createElement)(a.InspectorControls,null,!!s&&(0,r.createElement)(ro.PanelBody,{title:(0,c.__)("Shipping rates","woo-gutenberg-products-block")},(0,r.createElement)(ro.ToggleControl,{label:(0,c.__)("Shipping calculator","woo-gutenberg-products-block"),help:(0,c.__)("Allow customers to estimate shipping by entering their address.","woo-gutenberg-products-block"),checked:o,onChange:()=>t({isShippingCalculatorEnabled:!o})}))),(0,r.createElement)(ft,null,(0,r.createElement)(kc,{className:n,isShippingCalculatorEnabled:o})))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()})});var wc=o(7625);const yc=({className:e})=>{const t=(0,m.getSetting)("couponsEnabled",!0),{applyCoupon:o,isApplyingCoupon:c}=Go("wc/cart");return t?(0,r.createElement)(lt.TotalsWrapper,{className:e},(0,r.createElement)(kr,{onSubmit:o,isLoading:c})):null};(0,d.registerBlockType)("woocommerce/cart-order-summary-coupon-form-block",{icon:{src:(0,r.createElement)(u.Z,{icon:wc.Z,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,a.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)(ft,null,(0,r.createElement)(yc,{className:t})))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()})});const vc=({className:e,showRateAfterTaxName:t})=>{const{cartTotals:o}=Ne();if((0,m.getSetting)("displayCartPricesIncludingTax",!1)||parseInt(o.total_tax,10)<=0)return null;const c=(0,Tt.getCurrencyFromPriceResponse)(o);return(0,r.createElement)(lt.TotalsWrapper,{className:e},(0,r.createElement)(lt.TotalsTaxes,{showRateAfterTaxName:t,currency:c,values:o}))},fc={showRateAfterTaxName:{type:"boolean",default:(0,m.getSetting)("displayCartPricesIncludingTax",!1)},lock:{type:"object",default:{remove:!0,move:!1}}};(0,d.registerBlockType)("woocommerce/cart-order-summary-taxes-block",{icon:{src:(0,r.createElement)(u.Z,{icon:hr,className:"wc-block-editor-components-block-icon"})},attributes:fc,edit:({attributes:e,setAttributes:t})=>{const{className:o,showRateAfterTaxName:n}=e,s=(0,a.useBlockProps)(),l=(0,m.getSetting)("taxesEnabled"),i=(0,m.getSetting)("displayItemizedTaxes",!1),u=(0,m.getSetting)("displayCartPricesIncludingTax",!1);return(0,r.createElement)("div",{...s},(0,r.createElement)(a.InspectorControls,null,l&&i&&!u&&(0,r.createElement)(ro.PanelBody,{title:(0,c.__)("Taxes","woo-gutenberg-products-block")},(0,r.createElement)(ro.ToggleControl,{label:(0,c.__)("Show rate after tax name","woo-gutenberg-products-block"),help:(0,c.__)("Show the percentage rate alongside each tax line in the summary.","woo-gutenberg-products-block"),checked:n,onChange:()=>t({showRateAfterTaxName:!n})}))),(0,r.createElement)(vc,{className:o,showRateAfterTaxName:n}))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()})}),o(3867),(0,d.registerBlockType)("woocommerce/cart-order-summary-heading-block",{icon:{src:(0,r.createElement)(u.Z,{icon:hr,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e,setAttributes:t})=>{const{content:o="",className:c=""}=e,n=(0,a.useBlockProps)();return(0,r.createElement)("div",{...n},(0,r.createElement)("span",{className:s()(c,"wc-block-cart__totals-title")},(0,r.createElement)(a.PlainText,{className:"",value:o,onChange:e=>t({content:e}),style:{backgroundColor:"transparent"}})))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save()})}),o(8811);const Cc=(e,t=!0)=>{t?window.document.body.classList.add(e):window.document.body.classList.remove(e)},Sc=({attributes:e,setAttributes:t})=>{const{hasDarkControls:o}=e;return(0,r.createElement)(a.InspectorControls,null,(0,r.createElement)(ro.PanelBody,{title:(0,c.__)("Style","woo-gutenberg-products-block")},(0,r.createElement)(ro.ToggleControl,{label:(0,c.__)("Dark mode inputs","woo-gutenberg-products-block"),help:(0,c.__)("Inputs styled specifically for use on dark background colors.","woo-gutenberg-products-block"),checked:o,onChange:()=>t({hasDarkControls:!o})})))};o(2);const Nc=(e,t)=>{const[o,c]=(0,r.useState)((()=>{const o=window.localStorage.getItem(e);if(o)try{return JSON.parse(o)}catch{console.error(`Value for key '${e}' could not be retrieved from localStorage because it can't be parsed.`)}return t}));return(0,r.useEffect)((()=>{try{window.localStorage.setItem(e,JSON.stringify(o))}catch{console.error(`Value for key '${e}' could not be saved in localStorage because it can't be converted into a string.`)}}),[e,o]),[o,c]},Pc=[],xc=({block:e})=>{const[t,o]=(e=>{const[t,o]=Nc("wc-blocks_dismissed_sidebar_compatibility_notices",Pc),[c,n]=(0,r.useState)(!1),s=t.includes(e);return(0,r.useEffect)((()=>{n(!s)}),[s]),[c,()=>{const r=new Set(t);r.add(e),o([...r])}]})(e),n=(0,r.createInterpolateElement)((0,c.__)("The Cart & Checkout Blocks are built to optimize for faster checkout. To make sure this feature is right for your store, <a>review the list of compatible extensions</a>.","woo-gutenberg-products-block"),{a:(0,r.createElement)(ro.ExternalLink,{href:"https://woocommerce.com/document/cart-checkout-blocks-support-status/#section-3"})});return(0,r.createElement)(ro.Notice,{onRemove:o,className:s()(["wc-blocks-sidebar-compatibility-notice",{"is-hidden":!t}])},n)};function Rc(){const e=(0,c.__)("Your store does not have any payment methods that support the Checkout block. Once you have configured a compatible payment method it will be displayed here.","woo-gutenberg-products-block");return(0,r.createElement)(ro.Notice,{className:"wc-blocks-no-payment-methods-notice",status:"warning",spokenMessage:e,isDismissible:!1},(0,r.createElement)("div",{className:"wc-blocks-no-payment-methods-notice__content"},e," ",(0,r.createElement)(ro.ExternalLink,{href:`${m.ADMIN_URL}admin.php?page=wc-settings&tab=checkout`},(0,c.__)("Configure Payment Methods","woo-gutenberg-products-block"))))}o(9446);const Tc=window.wp.editor,Ic=window.wp.coreData;function Ac({block:e}){const t="checkout"===e?E:w,o="checkout"===e?"woocommerce_checkout_page_id":"woocommerce_cart_page_id",n="checkout"===e?(0,c.__)("If you would like to use this block as your default checkout, update your page settings","woo-gutenberg-products-block"):(0,c.__)("If you would like to use this block as your default cart, update your page settings","woo-gutenberg-products-block"),{saveEntityRecord:s}=(0,M.useDispatch)(Ic.store),{editPost:a,savePost:l}=(0,M.useDispatch)(Tc.store),{slug:i,isLoadingPage:u,postPublished:d,currentPostId:p}=(0,M.useSelect)((o=>{var r;const{getEntityRecord:c,isResolving:n}=o(Ic.store),{isCurrentPostPublished:s,getCurrentPostId:a}=o(Tc.store);return{slug:(null===(r=c("postType","page",t))||void 0===r?void 0:r.slug)||e,isLoadingPage:n("getEntityRecord",["postType","page",t]),postPublished:s(),currentPostId:a()}}),[]),[m,g]=(0,r.useState)("pristine"),_=(0,r.useCallback)((()=>{g("updating"),Promise.resolve().then((()=>tt()({path:`/wc/v3/settings/advanced/${o}`,method:"GET"}))).catch((e=>{"rest_setting_setting_invalid"===e.code&&g("error")})).then((()=>{if(!d)return a({status:"publish"}),l()})).then((()=>tt()({path:`/wc/v3/settings/advanced/${o}`,method:"POST",data:{value:p.toString()}}))).then((()=>{if(0!==t)return s("postType","page",{id:t,slug:`${i}-2`})})).then((()=>a({slug:i}))).then((()=>l())).then((()=>g("updated")))}),[d,a,l,o,p,t,s,i]);return"string"==typeof pagenow&&"site-editor"===pagenow||p===t||"dismissed"===m?null:(0,r.createElement)(ro.Notice,{className:"wc-default-page-notice",status:"updated"===m?"success":"warning",onRemove:()=>g("dismissed"),spokenMessage:"updated"===m?(0,c.__)("Page settings updated","woo-gutenberg-products-block"):n},"updated"===m?(0,c.__)("Page settings updated","woo-gutenberg-products-block"):(0,r.createElement)(r.Fragment,null,(0,r.createElement)("p",null,n),(0,r.createElement)(ro.Button,{onClick:_,variant:"secondary",isBusy:"updating"===m,disabled:u,isSmall:!0},(0,c.__)("Update your page settings","woo-gutenberg-products-block"))))}o(27);const Bc={warning:"#F0B849",error:"#CC1818",success:"#46B450",info:"#0073AA"},Mc=({status:e="warning",...t})=>(0,r.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",...t},(0,r.createElement)("path",{d:"M12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20Z",stroke:Bc[e],strokeWidth:"1.5"}),(0,r.createElement)("path",{d:"M13 7H11V13H13V7Z",fill:Bc[e]}),(0,r.createElement)("path",{d:"M13 15H11V17H13V15Z",fill:Bc[e]})),Oc=[];function Dc({toggleDismissedStatus:e,block:t}){const[o,n,s,a]=(e=>{const[t,o]=Nc("wc-blocks_dismissed_incompatible_payment_gateways_notices",Oc),[c,n]=(0,r.useState)(!1),{incompatiblePaymentMethods:s}=(0,M.useSelect)((e=>{const{getIncompatiblePaymentMethods:t}=e(Jo);return{incompatiblePaymentMethods:t()}}),[]),a=Object.keys(s),l=a.length,i=t.some((t=>{return Object.keys(t).includes(e)&&(o=t[e],r=a,o.length===r.length&&new Set([...o,...r]).size===o.length);var o,r})),u=0===l||i;return(0,r.useEffect)((()=>{n(!u),u||i||o((t=>t.reduce(((t,o)=>(Object.keys(o).includes(e)||t.push(o),t)),[])))}),[u,i,o,e]),[c,()=>{const r=new Set(t);r.add({[e]:a}),o([...r])},s,l]})(t);if((0,r.useEffect)((()=>{e(!o)}),[o,e]),!o)return null;const l=(0,r.createInterpolateElement)((0,c._n)("The following extension is incompatible with the block-based checkout. <a>Learn more</a>","The following extensions are incompatible with the block-based checkout. <a>Learn more</a>",a,"woo-gutenberg-products-block"),{a:(0,r.createElement)(ro.ExternalLink,{href:"https://woocommerce.com/document/cart-checkout-blocks-support-status/"})});return(0,r.createElement)(ro.Notice,{className:"wc-blocks-incompatible-extensions-notice",status:"warning",onRemove:n,spokenMessage:l},(0,r.createElement)("div",{className:"wc-blocks-incompatible-extensions-notice__content"},(0,r.createElement)(u.Z,{className:"wc-blocks-incompatible-extensions-notice__warning-icon",icon:(0,r.createElement)(Mc,null)}),(0,r.createElement)("div",null,(0,r.createElement)("p",null,l),(0,r.createElement)("ul",null,Object.entries(s).map((([e,t])=>(0,r.createElement)("li",{key:e,className:"wc-blocks-incompatible-extensions-notice__element"},t)))))))}o(4813);var Lc=o(7286),Fc=o(6755);o(4662);const Vc=({text:e,title:t=(0,c.__)("Feedback?","woo-gutenberg-products-block"),url:o="https://ideas.woocommerce.com/forums/133476-woocommerce?category_id=384565"})=>{const[n,s]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{s(!0)}),[]),(0,r.createElement)(r.Fragment,null,n&&(0,r.createElement)("div",{className:"wc-block-feedback-prompt"},(0,r.createElement)(u.Z,{icon:Lc.Z}),(0,r.createElement)("h2",{className:"wc-block-feedback-prompt__title"},t),(0,r.createElement)("p",{className:"wc-block-feedback-prompt__text"},e),(0,r.createElement)("a",{href:o,className:"wc-block-feedback-prompt__link",rel:"noreferrer noopener",target:"_blank"},(0,c.__)("Give us your feedback.","woo-gutenberg-products-block"),(0,r.createElement)(u.Z,{icon:Fc.Z,size:16}))))},$c=()=>(0,r.createElement)(Vc,{text:(0,c.__)("We are currently working on improving our cart and checkout blocks to provide merchants with the tools and customization options they need.","woo-gutenberg-products-block"),url:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/issues/new?template=--cart-checkout-feedback.md"}),Uc=(0,ut.createHigherOrderComponent)((e=>t=>{const{clientId:o,name:c,isSelected:n}=t,[s,l]=(0,r.useState)(!0),{isCart:i,isCheckout:u,isPaymentMethodsBlock:d,hasPaymentMethods:p}=(0,M.useSelect)((e=>{const{getBlockParentsByBlockName:t,getBlockName:r}=e(a.store),c=t(o,["woocommerce/cart","woocommerce/checkout"]).map(r),n=r(o);return{isCart:c.includes("woocommerce/cart")||"woocommerce/cart"===n,isCheckout:c.includes("woocommerce/checkout")||"woocommerce/checkout"===n,isPaymentMethodsBlock:"woocommerce/checkout-payment-block"===n,hasPaymentMethods:e(V.PAYMENT_STORE_KEY).paymentMethodsInitialized()&&Object.keys(e(V.PAYMENT_STORE_KEY).getAvailablePaymentMethods()).length>0}}));return c.startsWith("woocommerce/")&&n&&(i||u)?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(a.InspectorControls,null,(0,r.createElement)(Dc,{toggleDismissedStatus:e=>{l(e)},block:u?"woocommerce/checkout":"woocommerce/cart"}),(0,r.createElement)(Ac,{block:u?"checkout":"cart"}),s?(0,r.createElement)(xc,{block:u?"checkout":"cart"}):null,d&&!p&&(0,r.createElement)(Rc,null),(0,r.createElement)($c,null)),(0,r.createElement)(e,{key:"edit",...t})):(0,r.createElement)(e,{key:"edit",...t})}),"withSidebarNotices");(0,Le.hasFilter)("editor.BlockEdit","woocommerce/add/sidebar-compatibility-notice")||(0,Le.addFilter)("editor.BlockEdit","woocommerce/add/sidebar-compatibility-notice",Uc,11);const Yc=(0,r.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,r.createElement)("path",{d:"M12 6a9.77 9.77 0 0 1 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5A9.77 9.77 0 0 1 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5a2.5 2.5 0 0 1 0 5 2.5 2.5 0 0 1 0-5m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"})),jc=(e,t,o=!0)=>{const{updateBlockAttributes:r,selectBlock:c}=(0,M.dispatch)("core/block-editor");var n,s;r(e,{currentView:t}),o&&c((null===(n=(0,M.select)("core/block-editor").getBlock(e))||void 0===n||null===(s=n.innerBlocks.find((e=>e.name===t)))||void 0===s?void 0:s.clientId)||e)},zc={views:[],currentView:"",viewClientId:""},Kc=(e,t=10,o=0)=>{const r=o+1;if(r>t)return zc;const{getBlockAttributes:c,getBlockRootClientId:n}=(0,M.select)("core/block-editor"),s=n(e);if(null===s||""===s)return zc;const a=c(s);return a?void 0!==a.editorViews?{views:a.editorViews,currentView:a.currentView||a.editorViews[0].view,viewClientId:s}:Kc(s,t,r):zc},Hc=({currentView:e,views:t,clientId:o})=>{const{getBlockName:n,getSelectedBlockClientId:s,getBlockParentsByBlockName:l}=(0,M.useSelect)((e=>{const t=e("core/block-editor");return{getBlockName:t.getBlockName,getSelectedBlockClientId:t.getSelectedBlockClientId,getBlockParentsByBlockName:t.getBlockParentsByBlockName}}),[]),i=s(),d=((e,t)=>t.find((t=>t.view===e)))(e,t)||t[0],p=d.label;return(0,r.useLayoutEffect)((()=>{const r=i?n(i):null;if(!r||e===r)return;const c=t.map((e=>e.view));if(c.includes(r))return void jc(o,r);const s=l(i,c),a=1===s.length?n(s[0]):null;a&&e!==a&&jc(o,a,!1)}),[o,e,n,l,i,t]),(0,r.createElement)(a.BlockControls,null,(0,r.createElement)(ro.ToolbarGroup,null,(0,r.createElement)(ro.ToolbarDropdownMenu,{label:(0,c.__)("Switch view","woo-gutenberg-products-block"),text:p,icon:(0,r.createElement)(u.Z,{icon:Yc,style:{marginRight:"8px"}}),controls:t.map((t=>({...t,title:(0,r.createElement)("span",{style:{marginLeft:"8px"}},t.label),isActive:t.view===e,onClick:()=>{jc(o,t.view)}})))})))};(0,Le.hasFilter)("editor.BlockEdit","woocommerce/with-view-switcher")||(0,Le.addFilter)("editor.BlockEdit","woocommerce/with-view-switcher",(e=>t=>{const{clientId:o}=t,{views:c,currentView:n,viewClientId:s}=(0,M.useSelect)((e=>{const t=e("core/block-editor").getBlockAttributes(o);return null!=t&&t.editorViews?{views:t.editorViews,currentView:t.currentView,viewClientId:o}:Kc(o)}));return 0===c.length?(0,r.createElement)(e,{...t}):(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Hc,{currentView:n,views:c,clientId:s}),(0,r.createElement)(e,{...t}))}),11),(0,Le.hasFilter)("blocks.registerBlockType","core/lock/addAttribute")||(0,M.subscribe)((()=>{var e,t,o,r;const c=(0,M.select)(a.store);if(!c)return;const n=c.getSelectedBlock();n&&(Cc("wc-lock-selected-block--remove",!(null==n||null===(e=n.attributes)||void 0===e||null===(t=e.lock)||void 0===t||!t.remove)),Cc("wc-lock-selected-block--move",!(null==n||null===(o=n.attributes)||void 0===o||null===(r=o.lock)||void 0===r||!r.move)))}));const qc=["woocommerce/filled-cart-block","woocommerce/empty-cart-block"];o(6375);const Zc={isPreview:{type:"boolean",default:!1},currentView:{type:"string",default:"woocommerce/filled-cart-block",source:"readonly"},editorViews:{type:"object",default:[{view:"woocommerce/filled-cart-block",label:(0,c.__)("Filled Cart","woo-gutenberg-products-block"),icon:(0,r.createElement)(u.Z,{icon:it})},{view:"woocommerce/empty-cart-block",label:(0,c.__)("Empty Cart","woo-gutenberg-products-block"),icon:(0,r.createElement)(u.Z,{icon:pr})}]},hasDarkControls:{type:"boolean",default:(0,m.getSetting)("hasDarkEditorStyleSupport",!1)},isShippingCalculatorEnabled:{type:"boolean",default:(0,m.getSetting)("isShippingCalculatorEnabled",!0)},checkoutPageId:{type:"number",default:0},showRateAfterTaxName:{type:"boolean",default:!0},align:{type:"string",default:"wide"}},Wc={title:(0,c.__)("Cart","woo-gutenberg-products-block"),icon:{src:(0,r.createElement)(u.Z,{icon:i,className:"wc-block-editor-components-block-icon"})},category:"woocommerce",keywords:[(0,c.__)("WooCommerce","woo-gutenberg-products-block")],description:(0,c.__)("Shopping cart.","woo-gutenberg-products-block"),supports:{align:["wide"],html:!1,multiple:!1},example:{attributes:{isPreview:!0},viewportWidth:800},attributes:Zc,edit:({className:e,attributes:t,setAttributes:o})=>{const{hasDarkControls:n,currentView:l,isPreview:i=!1}=t,u=((e={})=>{const t=(0,r.useRef)(),o=(0,a.useBlockProps)({ref:t,...e});return(({ref:e})=>{const t=(0,Le.hasFilter)("blocks.registerBlockType","core/lock/addAttribute"),o=e.current;(0,r.useEffect)((()=>{if(o&&!t)return o.addEventListener("keydown",e,{capture:!0,passive:!1}),()=>{o.removeEventListener("keydown",e,{capture:!0})};function e(e){const{keyCode:t,target:o}=e;if(!(o instanceof HTMLElement))return;if(t!==St.BACKSPACE&&t!==St.DELETE)return;if((0,wt.isTextField)(o))return;const r=o;if(void 0===r.dataset.block)return;const c=(e=>{var t,o,r,c,n;if(!e)return!1;const{getBlock:s}=(0,M.select)(a.store),l=s(e);if("boolean"==typeof(null==l||null===(t=l.attributes)||void 0===t||null===(o=t.lock)||void 0===o?void 0:o.remove))return l.attributes.lock.remove;const i=(0,d.getBlockType)(l.name);var u,p,m;return"boolean"==typeof(null==i||null===(r=i.attributes)||void 0===r||null===(c=r.lock)||void 0===c||null===(n=c.default)||void 0===n?void 0:n.remove)&&(null==i||null===(u=i.attributes)||void 0===u||null===(p=u.lock)||void 0===p||null===(m=p.default)||void 0===m?void 0:m.remove)})(r.dataset.block);c&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}}),[o,t])})({ref:t}),o})({className:s()(e,"wp-block-woocommerce-cart",{"is-editor-preview":i})});return(0,r.createElement)("div",{...u},(0,r.createElement)(a.InspectorControls,null,(0,r.createElement)(Sc,{attributes:t,setAttributes:o})),(0,r.createElement)(B,{header:(0,c.__)("Cart Block Error","woo-gutenberg-products-block"),text:(0,c.__)("There was an error whilst rendering the cart block. If this problem continues, try re-creating the block.","woo-gutenberg-products-block"),showErrorMessage:!0,errorMessagePrefix:(0,c.__)("Error message:","woo-gutenberg-products-block")},(0,r.createElement)(L,{previewData:{previewCart:De},currentView:l,isPreview:i},(0,r.createElement)(ht.Provider,{value:{hasDarkControls:n}},(0,r.createElement)(lt.SlotFillProvider,null,(0,r.createElement)(at,null,(0,r.createElement)(a.InnerBlocks,{allowedBlocks:qc,template:[["woocommerce/filled-cart-block",{},[]],["woocommerce/empty-cart-block",{},[]]],templateLock:"insert"})))))))},save:()=>(0,r.createElement)("div",{...a.useBlockProps.save({className:"is-loading"})},(0,r.createElement)(a.InnerBlocks.Content,null)),deprecated:[{attributes:Zc,save:({attributes:e})=>(0,r.createElement)("div",{className:s()("is-loading",e.className)},(0,r.createElement)(a.InnerBlocks.Content,null)),migrate:(e,t)=>{const{checkoutPageId:o,align:r}=e;return[e,[(0,d.createBlock)("woocommerce/filled-cart-block",{align:r},[(0,d.createBlock)("woocommerce/cart-items-block"),(0,d.createBlock)("woocommerce/cart-totals-block",{},[(0,d.createBlock)("woocommerce/cart-order-summary-block",{}),(0,d.createBlock)("woocommerce/cart-express-payment-block"),(0,d.createBlock)("woocommerce/proceed-to-checkout-block",{checkoutPageId:o}),(0,d.createBlock)("woocommerce/cart-accepted-payment-methods-block")])]),(0,d.createBlock)("woocommerce/empty-cart-block",{align:r},t)]]},isEligible:(e,t)=>!t.find((e=>"woocommerce/filled-cart-block"===e.name))}]};(0,d.registerBlockType)("woocommerce/cart",Wc)},1464:()=>{},8854:()=>{},402:()=>{},1314:()=>{},5160:()=>{},4578:()=>{},5482:()=>{},6294:()=>{},9086:()=>{},4948:()=>{},6315:()=>{},7984:()=>{},9889:()=>{},7866:()=>{},6125:()=>{},5454:()=>{},5154:()=>{},6305:()=>{},5092:()=>{},6232:()=>{},5821:()=>{},7775:()=>{},5476:()=>{},6575:()=>{},1365:()=>{},5641:()=>{},5138:()=>{},4667:()=>{},7546:()=>{},6430:()=>{},5589:()=>{},8410:()=>{},6620:()=>{},8811:()=>{},7995:()=>{},8584:()=>{},4235:()=>{},3867:()=>{},8438:()=>{},549:()=>{},7463:()=>{},8526:()=>{},6375:()=>{},27:()=>{},4662:()=>{},4813:()=>{},9446:()=>{},2:()=>{},9196:e=>{"use strict";e.exports=window.React},2819:e=>{"use strict";e.exports=window.lodash},5158:e=>{"use strict";e.exports=window.wp.a11y},4333:e=>{"use strict";e.exports=window.wp.compose},7180:e=>{"use strict";e.exports=window.wp.deprecated},5904:e=>{"use strict";e.exports=window.wp.dom},9307:e=>{"use strict";e.exports=window.wp.element},5736:e=>{"use strict";e.exports=window.wp.i18n},9127:e=>{"use strict";e.exports=window.wp.isShallowEqual},9630:e=>{"use strict";e.exports=window.wp.keycodes},444:e=>{"use strict";e.exports=window.wp.primitives},2560:e=>{"use strict";e.exports=window.wp.warning}},o={};function r(e){var c=o[e];if(void 0!==c)return c.exports;var n=o[e]={exports:{}};return t[e].call(n.exports,n,n.exports,r),n.exports}r.m=t,e=[],r.O=(t,o,c,n)=>{if(!o){var s=1/0;for(u=0;u<e.length;u++){for(var[o,c,n]=e[u],a=!0,l=0;l<o.length;l++)(!1&n||s>=n)&&Object.keys(r.O).every((e=>r.O[e](o[l])))?o.splice(l--,1):(a=!1,n<s&&(s=n));if(a){e.splice(u--,1);var i=c();void 0!==i&&(t=i)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,c,n]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.j=511,(()=>{var e={511:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var c,n,[s,a,l]=o,i=0;if(s.some((t=>0!==e[t]))){for(c in a)r.o(a,c)&&(r.m[c]=a[c]);if(l)var u=l(r)}for(t&&t(o);i<s.length;i++)n=s[i],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(u)},o=self.webpackChunkwebpackWcBlocksJsonp=self.webpackChunkwebpackWcBlocksJsonp||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var c=r.O(void 0,[2869],(()=>r(1807)));c=r.O(c),((this.wc=this.wc||{}).blocks=this.wc.blocks||{}).cart=c})();