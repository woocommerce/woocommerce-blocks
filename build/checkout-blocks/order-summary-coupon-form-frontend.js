(window.webpackWcBlocksJsonp=window.webpackWcBlocksJsonp||[]).push([[37],{136:function(e,t,n){"use strict";var c=n(0);n(195),t.a=()=>Object(c.createElement)("span",{className:"wc-block-components-spinner","aria-hidden":"true"})},138:function(e,t,n){"use strict";var c=n(0),o=n(1),a=n(5),r=n.n(a),s=(n(197),n(136));t.a=e=>{let{children:t,className:n,screenReaderLabel:a,showSpinner:l=!1,isLoading:i=!0}=e;return Object(c.createElement)("div",{className:r()(n,{"wc-block-components-loading-mask":i})},i&&l&&Object(c.createElement)(s.a,null),Object(c.createElement)("div",{className:r()({"wc-block-components-loading-mask__children":i}),"aria-hidden":i},t),i&&Object(c.createElement)("span",{className:"screen-reader-text"},a||Object(o.__)("Loading…","woo-gutenberg-products-block")))}},195:function(e,t){},197:function(e,t){},26:function(e,t,n){"use strict";var c=n(0),o=n(5),a=n.n(o);t.a=e=>{let t,{label:n,screenReaderLabel:o,wrapperElement:r,wrapperProps:s={}}=e;const l=null!=n,i=null!=o;return!l&&i?(t=r||"span",s={...s,className:a()(s.className,"screen-reader-text")},Object(c.createElement)(t,s,o)):(t=r||c.Fragment,l&&i&&n!==o?Object(c.createElement)(t,s,Object(c.createElement)("span",{"aria-hidden":"true"},n),Object(c.createElement)("span",{className:"screen-reader-text"},o)):Object(c.createElement)(t,s,n))}},261:function(e,t){},262:function(e,t){},263:function(e,t,n){"use strict";var c=n(12),o=n.n(c),a=n(0),r=n(43),s=n(5),l=n.n(s),i=n(136);n(264),t.a=e=>{let{className:t,showSpinner:n=!1,children:c,variant:s="contained",...u}=e;const b=l()("wc-block-components-button",t,s,{"wc-block-components-button--loading":n});return Object(a.createElement)(r.a,o()({className:b},u),n&&Object(a.createElement)(i.a,null),Object(a.createElement)("span",{className:"wc-block-components-button__text"},c))}},264:function(e,t){},270:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(1),o=n(8),a=n(6),r=n(18),s=n(33),l=n(198);const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const{cartCoupons:t,cartIsLoading:n}=Object(s.a)(),{createErrorNotice:i}=Object(o.useDispatch)("core/notices"),{createNotice:u}=Object(o.useDispatch)("core/notices"),{setValidationErrors:b}=Object(l.b)(),p=Object(o.useSelect)((t,n)=>{let{dispatch:o}=n;const s=t(a.CART_STORE_KEY),l=s.isApplyingCoupon(),p=s.isRemovingCoupon(),{applyCoupon:d,removeCoupon:m,receiveApplyingCoupon:O}=o(a.CART_STORE_KEY);return{applyCoupon:t=>{d(t).then(n=>{!0===n&&u("info",Object(c.sprintf)(
/* translators: %s coupon code. */
Object(c.__)('Coupon code "%s" has been applied to your cart.',"woo-gutenberg-products-block"),t),{id:"coupon-form",type:"snackbar",context:e})}).catch(e=>{b({coupon:{message:Object(r.decodeEntities)(e.message),hidden:!1}}),O("")})},removeCoupon:t=>{m(t).then(n=>{!0===n&&u("info",Object(c.sprintf)(
/* translators: %s coupon code. */
Object(c.__)('Coupon code "%s" has been removed from your cart.',"woo-gutenberg-products-block"),t),{id:"coupon-form",type:"snackbar",context:e})}).catch(t=>{i(t.message,{id:"coupon-form",context:e}),O("")})},isApplyingCoupon:l,isRemovingCoupon:p}},[i,u]);return{appliedCoupons:t,isLoading:n,...p}}},273:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(0),o=n(198);n(261);const a=e=>{let{errorMessage:t="",propertyName:n="",elementId:a=""}=e;const{getValidationError:r,getValidationErrorId:s}=Object(o.b)();if(!t||"string"!=typeof t){const e=r(n)||{};if(!e.message||e.hidden)return null;t=e.message}return Object(c.createElement)("div",{className:"wc-block-components-validation-error",role:"alert"},Object(c.createElement)("p",{id:s(a)},t))}},297:function(e,t,n){"use strict";var c=n(12),o=n.n(c),a=n(0),r=n(1),s=n(3),l=n(5),i=n.n(l),u=n(198),b=n(273),p=n(11),d=n(52),m=n(26);n(262);var O=Object(s.forwardRef)((e,t)=>{let{className:n,id:c,type:r="text",ariaLabel:s,ariaDescribedBy:l,label:u,screenReaderLabel:b,disabled:p,help:d,autoCapitalize:O="off",autoComplete:j="off",value:g="",onChange:f,required:E=!1,onBlur:v=(()=>{}),feedback:h,...w}=e;const[_,k]=Object(a.useState)(!1);return Object(a.createElement)("div",{className:i()("wc-block-components-text-input",n,{"is-active":_||g})},Object(a.createElement)("input",o()({type:r,id:c,value:g,ref:t,autoCapitalize:O,autoComplete:j,onChange:e=>{f(e.target.value)},onFocus:()=>k(!0),onBlur:e=>{v(e.target.value),k(!1)},"aria-label":s||u,disabled:p,"aria-describedby":d&&!l?c+"__help":l,required:E},w)),Object(a.createElement)(m.a,{label:u,screenReaderLabel:b||u,wrapperElement:"label",wrapperProps:{htmlFor:c},htmlFor:c}),!!d&&Object(a.createElement)("p",{id:c+"__help",className:"wc-block-components-text-input__help"},d),h)});t.a=Object(p.withInstanceId)(e=>{let{className:t,instanceId:n,id:c,ariaDescribedBy:l,errorId:p,focusOnMount:m=!1,onChange:j,showError:g=!0,errorMessage:f="",value:E="",...v}=e;const[h,w]=Object(s.useState)(!0),_=Object(s.useRef)(null),{getValidationError:k,hideValidationError:C,setValidationErrors:N,clearValidationError:y,getValidationErrorId:I}=Object(u.b)(),R=void 0!==c?c:"textinput-"+n,L=void 0!==p?p:R,S=Object(s.useCallback)((function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=_.current||null;if(!t)return;t.value=t.value.trim();const n=t.checkValidity();n?y(L):N({[L]:{message:t.validationMessage||Object(r.__)("Invalid value.","woo-gutenberg-products-block"),hidden:e}})}),[y,L,N]);Object(s.useEffect)(()=>{var e;h&&m&&(null===(e=_.current)||void 0===e||e.focus()),w(!1)},[m,h,w]),Object(s.useEffect)(()=>{var e,t;(null===(e=_.current)||void 0===e||null===(t=e.ownerDocument)||void 0===t?void 0:t.activeElement)!==_.current&&S(!0)},[E,S]),Object(s.useEffect)(()=>()=>{y(L)},[y,L]);const x=k(L)||{};Object(d.a)(f)&&""!==f&&(x.message=f);const V=x.message&&!x.hidden,B=g&&V&&I(L)?I(L):l;return Object(a.createElement)(O,o()({className:i()(t,{"has-error":V}),"aria-invalid":!0===V,id:R,onBlur:()=>{S(!1)},feedback:g&&Object(a.createElement)(b.a,{errorMessage:f,propertyName:L}),ref:_,onChange:e=>{C(L),j(e)},ariaDescribedBy:B,value:E},v))})},311:function(e,t){},380:function(e,t,n){"use strict";var c=n(0),o=n(1),a=n(263),r=n(297),s=n(26),l=n(138),i=n(11),u=n(198),b=n(273),p=n(10);n(311),t.a=Object(i.withInstanceId)(e=>{let{instanceId:t,isLoading:n=!1,initialOpen:i=!1,onSubmit:d=(()=>{})}=e;const[m,O]=Object(c.useState)(""),j=Object(c.useRef)(!1),{getValidationError:g,getValidationErrorId:f}=Object(u.b)(),E=g("coupon");Object(c.useEffect)(()=>{j.current!==n&&(n||!m||E||O(""),j.current=n)},[n,m,E]);const v="wc-block-components-totals-coupon__input-"+t;return Object(c.createElement)(p.Panel,{className:"wc-block-components-totals-coupon",hasBorder:!1,initialOpen:i,title:Object(c.createElement)(s.a,{label:Object(o.__)("Coupon code","woo-gutenberg-products-block"),screenReaderLabel:Object(o.__)("Apply a coupon code","woo-gutenberg-products-block"),htmlFor:v})},Object(c.createElement)(l.a,{screenReaderLabel:Object(o.__)("Applying coupon…","woo-gutenberg-products-block"),isLoading:n,showSpinner:!1},Object(c.createElement)("div",{className:"wc-block-components-totals-coupon__content"},Object(c.createElement)("form",{className:"wc-block-components-totals-coupon__form"},Object(c.createElement)(r.a,{id:v,errorId:"coupon",className:"wc-block-components-totals-coupon__input",label:Object(o.__)("Enter code","woo-gutenberg-products-block"),value:m,ariaDescribedBy:f(v),onChange:e=>{O(e)},focusOnMount:!0,showError:!1}),Object(c.createElement)(a.a,{className:"wc-block-components-totals-coupon__button",disabled:n||!m,showSpinner:n,onClick:e=>{e.preventDefault(),d(m)},type:"submit"},Object(o.__)("Apply","woo-gutenberg-products-block"))),Object(c.createElement)(b.a,{propertyName:"coupon",elementId:v}))))})},465:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(380),a=n(270),r=n(2),s=n(10);t.default=e=>{let{className:t=""}=e;const n=Object(r.getSetting)("couponsEnabled",!0),{applyCoupon:l,isApplyingCoupon:i}=Object(a.a)("wc/checkout");return n?Object(c.createElement)(s.TotalsWrapper,{className:t},Object(c.createElement)(o.a,{onSubmit:l,isLoading:i})):null}}}]);