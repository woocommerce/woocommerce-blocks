this.wc=this.wc||{},this.wc.blocks=this.wc.blocks||{},this.wc.blocks["product-collection"]=function(e){function t(t){for(var o,a,l=t[0],s=t[1],u=t[2],b=0,d=[];b<l.length;b++)a=l[b],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(i&&i(t);d.length;)d.shift()();return n.push.apply(n,u||[]),c()}function c(){for(var e,t=0;t<n.length;t++){for(var c=n[t],o=!0,l=1;l<c.length;l++){var s=c[l];0!==r[s]&&(o=!1)}o&&(n.splice(t--,1),e=a(a.s=c[0]))}return e}var o={},r={26:0},n=[];function a(t){if(o[t])return o[t].exports;var c=o[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,a),c.l=!0,c.exports}a.m=e,a.c=o,a.d=function(e,t,c){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(c,o,function(t){return e[t]}.bind(null,o));return c},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var l=window.webpackWcBlocksJsonp=window.webpackWcBlocksJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var i=s;return n.push([546,0]),c()}({0:function(e,t){e.exports=window.wp.element},1:function(e,t){e.exports=window.wp.i18n},10:function(e,t){e.exports=window.wp.primitives},101:function(e,t,c){"use strict";c.d(t,"a",(function(){return k}));var o=c(7),r=c.n(o),n=c(0),a=c(1),l=c(2),s=c(70),u=c(608),i=c(4),b=c.n(i),d=c(12),m=c(17),p=c(36),g=c(607),O=c(11);c(57);const j=e=>{let{id:t,label:c,popoverContents:o,remove:r,screenReaderLabel:u,className:i=""}=e;const[m,p]=Object(n.useState)(!1),f=Object(d.useInstanceId)(j);if(u=u||c,!c)return null;c=Object(O.decodeEntities)(c);const h=b()("woocommerce-tag",i,{"has-remove":!!r}),w="woocommerce-tag__label-"+f,_=Object(n.createElement)(n.Fragment,null,Object(n.createElement)("span",{className:"screen-reader-text"},u),Object(n.createElement)("span",{"aria-hidden":"true"},c));return Object(n.createElement)("span",{className:h},o?Object(n.createElement)(l.Button,{className:"woocommerce-tag__text",id:w,onClick:()=>p(!0)},_):Object(n.createElement)("span",{className:"woocommerce-tag__text",id:w},_),o&&m&&Object(n.createElement)(l.Popover,{onClose:()=>p(!1)},o),r&&Object(n.createElement)(l.Button,{className:"woocommerce-tag__remove",onClick:r(t),label:Object(a.sprintf)(// Translators: %s label.
Object(a.__)("Remove %s","woo-gutenberg-products-block"),c),"aria-describedby":w},Object(n.createElement)(s.a,{icon:g.a,size:20,className:"clear-icon"})))};var f=j;c(56);const h=e=>Object(n.createElement)(p.b,e),w=e=>{const{list:t,selected:c,renderItem:o,depth:a=0,onSelect:l,instanceId:s,isSingle:u,search:i,useExpandedPanelId:b}=e,[d]=b;return t?Object(n.createElement)(n.Fragment,null,t.map(t=>{var m,p;const g=null!==(m=t.children)&&void 0!==m&&m.length&&!u?t.children.every(e=>{let{id:t}=e;return c.find(e=>e.id===t)}):!!c.find(e=>{let{id:c}=e;return c===t.id}),O=(null===(p=t.children)||void 0===p?void 0:p.length)&&d===t.id;return Object(n.createElement)(n.Fragment,{key:t.id},Object(n.createElement)("li",null,o({item:t,isSelected:g,onSelect:l,isSingle:u,selected:c,search:i,depth:a,useExpandedPanelId:b,controlId:s})),O?Object(n.createElement)(w,r()({},e,{list:t.children,depth:a+1})):null)})):null},_=e=>{let{isLoading:t,isSingle:c,selected:o,messages:r,onChange:s,onRemove:u}=e;if(t||c||!o)return null;const i=o.length;return Object(n.createElement)("div",{className:"woocommerce-search-list__selected"},Object(n.createElement)("div",{className:"woocommerce-search-list__selected-header"},Object(n.createElement)("strong",null,r.selected(i)),i>0?Object(n.createElement)(l.Button,{isLink:!0,isDestructive:!0,onClick:()=>s([]),"aria-label":r.clear},Object(a.__)("Clear all","woo-gutenberg-products-block")):null),i>0?Object(n.createElement)("ul",null,o.map((e,t)=>Object(n.createElement)("li",{key:t},Object(n.createElement)(f,{label:e.name,id:e.id,remove:u})))):null)},y=e=>{let{filteredList:t,search:c,onSelect:o,instanceId:r,useExpandedPanelId:l,...i}=e;const{messages:b,renderItem:d,selected:m,isSingle:p}=i,g=d||h;return 0===t.length?Object(n.createElement)("div",{className:"woocommerce-search-list__list is-not-found"},Object(n.createElement)("span",{className:"woocommerce-search-list__not-found-icon"},Object(n.createElement)(s.a,{icon:u.a})),Object(n.createElement)("span",{className:"woocommerce-search-list__not-found-text"},c?Object(a.sprintf)(b.noResults,c):b.noItems)):Object(n.createElement)("ul",{className:"woocommerce-search-list__list"},Object(n.createElement)(w,{useExpandedPanelId:l,list:t,selected:m,renderItem:g,onSelect:o,instanceId:r,isSingle:p,search:c}))},k=e=>{const{className:t="",isCompact:c,isHierarchical:o,isLoading:s,isSingle:u,list:i,messages:p=m.a,onChange:g,onSearch:O,selected:j,type:f="text",debouncedSpeak:h}=e,[w,E]=Object(n.useState)(""),v=Object(n.useState)(-1),S=Object(d.useInstanceId)(k),x=Object(n.useMemo)(()=>({...m.a,...p}),[p]),C=Object(n.useMemo)(()=>Object(m.c)(i,w,o),[i,w,o]);Object(n.useEffect)(()=>{h&&h(x.updated)},[h,x]),Object(n.useEffect)(()=>{"function"==typeof O&&O(w)},[w,O]);const N=Object(n.useCallback)(e=>()=>{u&&g([]);const t=j.findIndex(t=>{let{id:c}=t;return c===e});g([...j.slice(0,t),...j.slice(t+1)])},[u,j,g]),A=Object(n.useCallback)(e=>()=>{Array.isArray(e)?g(e):-1===j.findIndex(t=>{let{id:c}=t;return c===e.id})?g(u?[e]:[...j,e]):N(e.id)()},[u,N,g,j]),P=Object(n.useCallback)(e=>{const[t]=j.filter(t=>!e.find(e=>t.id===e.id));N(t.id)()},[N,j]);return Object(n.createElement)("div",{className:b()("woocommerce-search-list",t,{"is-compact":c,"is-loading":s,"is-token":"token"===f})},"text"===f&&Object(n.createElement)(_,r()({},e,{onRemove:N,messages:x})),Object(n.createElement)("div",{className:"woocommerce-search-list__search"},"text"===f?Object(n.createElement)(l.TextControl,{label:x.search,type:"search",value:w,onChange:e=>E(e)}):Object(n.createElement)(l.FormTokenField,{disabled:s,label:x.search,onChange:P,onInputChange:e=>E(e),suggestions:[],__experimentalValidateInput:()=>!1,value:s?[Object(a.__)("Loading…","woo-gutenberg-products-block")]:j.map(e=>({...e,value:e.name})),__experimentalShowHowTo:!1})),s?Object(n.createElement)("div",{className:"woocommerce-search-list__list"},Object(n.createElement)(l.Spinner,null)):Object(n.createElement)(y,r()({},e,{search:w,filteredList:C,messages:x,onSelect:A,instanceId:S,useExpandedPanelId:v})))};Object(l.withSpokenMessages)(k)},102:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var o=c(0);function r(e,t){const c=Object(o.useRef)();return Object(o.useEffect)(()=>{c.current===e||t&&!t(e,c.current)||(c.current=e)},[e,t]),c.current}},11:function(e,t){e.exports=window.wp.htmlEntities},12:function(e,t){e.exports=window.wp.compose},141:function(e,t,c){"use strict";c.d(t,"a",(function(){return u})),c.d(t,"c",(function(){return i})),c.d(t,"b",(function(){return b}));var o=c(0),r=c(1),n=c(70),a=c(277),l=c(216);c(197);const s=e=>{let{text:t,title:c=Object(r.__)("Feedback?","woo-gutenberg-products-block"),url:s="https://ideas.woocommerce.com/forums/133476-woocommerce?category_id=384565"}=e;const[u,i]=Object(o.useState)(!1);return Object(o.useEffect)(()=>{i(!0)},[]),Object(o.createElement)(o.Fragment,null,u&&Object(o.createElement)("div",{className:"wc-block-feedback-prompt"},Object(o.createElement)(n.a,{icon:a.a}),Object(o.createElement)("h2",{className:"wc-block-feedback-prompt__title"},c),Object(o.createElement)("p",{className:"wc-block-feedback-prompt__text"},t),Object(o.createElement)("a",{href:s,className:"wc-block-feedback-prompt__link",rel:"noreferrer noopener",target:"_blank"},Object(r.__)("Give us your feedback.","woo-gutenberg-products-block"),Object(o.createElement)(n.a,{icon:l.a,size:16}))))},u=()=>Object(o.createElement)(s,{text:Object(r.__)("We are currently working on improving our cart and checkout blocks to provide merchants with the tools and customization options they need.","woo-gutenberg-products-block"),url:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/issues/new?template=--cart-checkout-feedback.md"}),i=()=>Object(o.createElement)(s,{text:Object(r.__)("Thanks for trying out the Products block! Help us make it better by sharing your feedback.","woo-gutenberg-products-block"),title:Object(r.__)("Share your feedback!","woo-gutenberg-products-block"),url:"https://airtable.com/shrFX5FAqmCY6hVYI"}),b=()=>Object(o.createElement)(s,{text:Object(r.__)("Thanks for trying out the Product Collection block! Help us make it better by sharing your feedback.","woo-gutenberg-products-block"),title:Object(r.__)("Share your feedback!","woo-gutenberg-products-block"),url:"https://airtable.com/shrqsMSDPvAKoY99u"})},144:function(e,t,c){"use strict";c.d(t,"b",(function(){return r})),c.d(t,"c",(function(){return n})),c.d(t,"a",(function(){return l}));var o=c(21);const r=e=>Object(o.c)(e,"count")&&Object(o.c)(e,"description")&&Object(o.c)(e,"id")&&Object(o.c)(e,"name")&&Object(o.c)(e,"parent")&&Object(o.c)(e,"slug")&&"number"==typeof e.count&&"string"==typeof e.description&&"number"==typeof e.id&&"string"==typeof e.name&&"number"==typeof e.parent&&"string"==typeof e.slug,n=e=>Array.isArray(e)&&e.every(r),a=e=>Object(o.c)(e,"attribute")&&Object(o.c)(e,"operator")&&Object(o.c)(e,"slug")&&"string"==typeof e.attribute&&"string"==typeof e.operator&&Array.isArray(e.slug)&&e.slug.every(e=>"string"==typeof e),l=e=>Array.isArray(e)&&e.every(a)},149:function(e,t,c){"use strict";var o=c(7),r=c.n(o),n=c(0),a=c(4),l=c.n(a),s=c(1),u=c(36),i=c(101),b=c(2),d=c(12),m=c(22),p=c(29),g=c(35),O=c(74),j=c(160);c(238),t.a=Object(d.withInstanceId)(e=>{let{onChange:t,onOperatorChange:c,instanceId:o,isCompact:a=!1,messages:d={},operator:f="any",selected:h,type:w="text"}=e;const{errorLoadingAttributes:_,isLoadingAttributes:y,productsAttributes:k}=function(e){const[t,c]=Object(n.useState)(null),[o,r]=Object(n.useState)(!1),[a,l]=Object(n.useState)([]),s=Object(n.useRef)(!1);return Object(n.useEffect)(()=>{if(!o&&!s.current)return async function(){r(!0);try{const e=await Object(m.b)(),t=[];for(const c of e){const e=await Object(m.i)(c.id);t.push({...c,parent:0,terms:e.map(e=>({...e,attr_slug:c.taxonomy,parent:c.id}))})}l(t),s.current=!0}catch(e){e instanceof Error&&c(await Object(p.a)(e))}finally{r(!1)}}(),()=>{s.current=!0}},[o,!0]),{errorLoadingAttributes:t,isLoadingAttributes:o,productsAttributes:a}}(),E=k.reduce((e,t)=>{const{terms:c,...o}=t;return[...e,Object(j.a)(o),...c.map(j.a)]},[]);return d={clear:Object(s.__)("Clear all product attributes","woo-gutenberg-products-block"),noItems:Object(s.__)("Your store doesn't have any product attributes.","woo-gutenberg-products-block"),search:Object(s.__)("Search for product attributes","woo-gutenberg-products-block"),selected:e=>Object(s.sprintf)(
/* translators: %d is the count of attributes selected. */
Object(s._n)("%d attribute selected","%d attributes selected",e,"woo-gutenberg-products-block"),e),updated:Object(s.__)("Product attribute search results updated.","woo-gutenberg-products-block"),...d},_?Object(n.createElement)(g.a,{error:_}):Object(n.createElement)(n.Fragment,null,Object(n.createElement)(i.a,{className:"woocommerce-product-attributes",isCompact:a,isHierarchical:!0,isLoading:y,isSingle:!1,list:E,messages:d,onChange:t,renderItem:e=>{const{item:t,search:c,depth:a=0}=e,i=["woocommerce-product-attributes__item","woocommerce-search-list__item",{"is-searching":c.length>0,"is-skip-level":0===a&&0!==t.parent}];if(!t.breadcrumbs.length)return Object(n.createElement)(O.a,r()({},e,{className:l()(i),item:t,isLoading:y,disabled:0===t.count,name:"attributes-"+o,countLabel:Object(s.sprintf)(
/* translators: %d is the count of terms. */
Object(s._n)("%d term","%d terms",t.count,"woo-gutenberg-products-block"),t.count),"aria-label":Object(s.sprintf)(
/* translators: %1$s is the item name, %2$d is the count of terms for the item. */
Object(s._n)("%1$s, has %2$d term","%1$s, has %2$d terms",t.count,"woo-gutenberg-products-block"),t.name,t.count)}));const b=`${t.breadcrumbs[0]}: ${t.name}`;return Object(n.createElement)(u.a,r()({},e,{name:"terms-"+o,className:l()(...i,"has-count"),countLabel:Object(s.sprintf)(
/* translators: %d is the count of products. */
Object(s._n)("%d product","%d products",t.count,"woo-gutenberg-products-block"),t.count),"aria-label":Object(s.sprintf)(
/* translators: %1$s is the attribute name, %2$d is the count of products for that attribute. */
Object(s._n)("%1$s, has %2$d product","%1$s, has %2$d products",t.count,"woo-gutenberg-products-block"),b,t.count)}))},selected:h.map(e=>{let{id:t}=e;return E.find(e=>e.id===t)}).filter(Boolean),type:w}),!!c&&Object(n.createElement)("div",{hidden:h.length<2},Object(n.createElement)(b.SelectControl,{className:"woocommerce-product-attributes__operator",label:Object(s.__)("Display products matching","woo-gutenberg-products-block"),help:Object(s.__)("Pick at least two attributes to use this setting.","woo-gutenberg-products-block"),value:f,onChange:c,options:[{label:Object(s.__)("Any selected attributes","woo-gutenberg-products-block"),value:"any"},{label:Object(s.__)("All selected attributes","woo-gutenberg-products-block"),value:"all"}]})))})},15:function(e,t){e.exports=window.wp.apiFetch},153:function(e,t,c){"use strict";c.d(t,"c",(function(){return u})),c.d(t,"b",(function(){return i})),c.d(t,"a",(function(){return b})),c.d(t,"d",(function(){return d}));var o=c(3),r=c(6),n=c(83);const a=e=>"core/query"===e.name&&"woocommerce/product-query"===e.attributes.namespace,l=e=>"woocommerce/product-collection"===e.name,s=(e,t)=>{let c=[];return e.forEach(e=>{t(e)&&(c=[...c,e.clientId]),c=[...c,...s(e.innerBlocks,t)]}),c},u=e=>s(e,a),i=e=>s(e,l),b=(e,t)=>{const c=Object(r.select)("core/block-editor").getBlockRootClientId(e)||void 0;return Object(r.select)("core/block-editor").canInsertBlockType(t,c)},d=Object(o.getSettingWithCoercion)("post_template_has_support_for_grid_view",!1,n.a)},159:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var o=c(21);const r=e=>{if(Object(o.b)(e)){const t=e.getEditedPostType();return"wp_template"===t||"wp_template_part"===t}return!1}},16:function(e,t){e.exports=window.wp.url},160:function(e,t,c){"use strict";c.d(t,"a",(function(){return l})),c.d(t,"b",(function(){return s})),c.d(t,"c",(function(){return u})),c.d(t,"d",(function(){return i}));var o=c(3),r=c(144),n=c(6);const a=Object(o.getSetting)("attributes",[]).reduce((e,t)=>{const c=(o=t)&&o.attribute_name?{id:parseInt(o.attribute_id,10),name:o.attribute_name,taxonomy:"pa_"+o.attribute_name,label:o.attribute_label}:null;var o;return c&&c.id&&e.push(c),e},[]),l=e=>{const{count:t,id:c,name:o,parent:n}=e;return{count:t,id:c,name:o,parent:n,breadcrumbs:[],children:[],value:Object(r.b)(e)?e.attr_slug:""}},s=e=>{if(e)return a.find(t=>t.id===e)},u=e=>{if(e)return a.find(t=>t.taxonomy===e)},i=(e,t,c,o)=>{const r=Object(n.select)("core/block-editor"),a=Object(n.dispatch)("core/block-editor"),l=r.getBlockParents(e);let s="";l.forEach(e=>{const t=r.getBlock(e).innerBlocks.find(e=>e.name===o);t&&(s=t.clientId)}),a.updateBlockAttributes(s,{[t]:c})}},17:function(e,t,c){"use strict";c.d(t,"a",(function(){return a})),c.d(t,"c",(function(){return s})),c.d(t,"d",(function(){return u})),c.d(t,"b",(function(){return i}));var o=c(0),r=c(1),n=c(59);const a={clear:Object(r.__)("Clear all selected items","woo-gutenberg-products-block"),noItems:Object(r.__)("No items found.","woo-gutenberg-products-block"),
/* Translators: %s search term */
noResults:Object(r.__)("No results for %s","woo-gutenberg-products-block"),search:Object(r.__)("Search for items","woo-gutenberg-products-block"),selected:e=>Object(r.sprintf)(
/* translators: Number of items selected from list. */
Object(r._n)("%d item selected","%d items selected",e,"woo-gutenberg-products-block"),e),updated:Object(r.__)("Search results updated.","woo-gutenberg-products-block")},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const c=e.reduce((e,t)=>{const c=t.parent||0;return e[c]||(e[c]=[]),e[c].push(t),e},{}),o=Object(n.a)(t,"id"),r=["0"],a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.parent)return e.name?[e.name]:[];const t=a(o[e.parent]);return[...t,e.name]},l=e=>e.map(e=>{const t=c[e.id];return r.push(""+e.id),{...e,breadcrumbs:a(o[e.parent]),children:t&&t.length?l(t):[]}}),s=l(c[0]||[]);return Object.entries(c).forEach(e=>{let[t,c]=e;r.includes(t)||s.push(...l(c||[]))}),s},s=(e,t,c)=>{if(!t)return c?l(e):e;const o=new RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"i"),r=e.map(e=>!!o.test(e.name)&&e).filter(Boolean);return c?l(r,e):r},u=(e,t)=>{if(!t)return e;const c=new RegExp(`(${t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"ig");return e.split(c).map((e,t)=>c.test(e)?Object(o.createElement)("strong",{key:t},e):Object(o.createElement)(o.Fragment,{key:t},e))},i=e=>1===e.length?e.slice(0,1).toString():2===e.length?e.slice(0,1).toString()+" › "+e.slice(-1).toString():e.slice(0,1).toString()+" … "+e.slice(-1).toString()},18:function(e,t,c){"use strict";c.d(t,"p",(function(){return n})),c.d(t,"n",(function(){return a})),c.d(t,"m",(function(){return l})),c.d(t,"o",(function(){return s})),c.d(t,"k",(function(){return u})),c.d(t,"e",(function(){return i})),c.d(t,"h",(function(){return b})),c.d(t,"l",(function(){return d})),c.d(t,"c",(function(){return m})),c.d(t,"d",(function(){return p})),c.d(t,"g",(function(){return g})),c.d(t,"a",(function(){return f})),c.d(t,"b",(function(){return h})),c.d(t,"i",(function(){return w})),c.d(t,"j",(function(){return _})),c.d(t,"f",(function(){return y}));var o,r=c(3);const n=Object(r.getSetting)("wcBlocksConfig",{buildPhase:1,pluginUrl:"",productCount:0,defaultAvatar:"",restApiRoutes:{},wordCountType:"words"}),a=n.pluginUrl+"images/",l=n.pluginUrl+"build/",s=n.buildPhase,u=null===(o=r.STORE_PAGES.shop)||void 0===o?void 0:o.permalink,i=r.STORE_PAGES.checkout.id,b=(r.STORE_PAGES.checkout.permalink,r.STORE_PAGES.privacy.permalink),d=(r.STORE_PAGES.privacy.title,r.STORE_PAGES.terms.permalink),m=(r.STORE_PAGES.terms.title,r.STORE_PAGES.cart.id),p=r.STORE_PAGES.cart.permalink,g=(r.STORE_PAGES.myaccount.permalink?r.STORE_PAGES.myaccount.permalink:Object(r.getSetting)("wpLoginUrl","/wp-login.php"),Object(r.getSetting)("localPickupEnabled",!1)),O=Object(r.getSetting)("countries",{}),j=Object(r.getSetting)("countryData",{}),f=Object.fromEntries(Object.keys(j).filter(e=>!0===j[e].allowBilling).map(e=>[e,O[e]||""])),h=Object.fromEntries(Object.keys(j).filter(e=>!0===j[e].allowBilling).map(e=>[e,j[e].states||[]])),w=Object.fromEntries(Object.keys(j).filter(e=>!0===j[e].allowShipping).map(e=>[e,O[e]||""])),_=Object.fromEntries(Object.keys(j).filter(e=>!0===j[e].allowShipping).map(e=>[e,j[e].states||[]])),y=Object.fromEntries(Object.keys(j).map(e=>[e,j[e].locale||[]]))},197:function(e,t){},2:function(e,t){e.exports=window.wp.components},21:function(e,t,c){"use strict";c.d(t,"b",(function(){return r})),c.d(t,"c",(function(){return n})),c.d(t,"a",(function(){return a}));var o=c(40);const r=e=>!Object(o.a)(e)&&e instanceof Object&&e.constructor===Object;function n(e,t){return r(e)&&t in e}const a=e=>0===Object.keys(e).length},212:function(e,t,c){"use strict";function o(e,t){const{[t]:c,...o}=e;return o}c.d(t,"a",(function(){return o}))},22:function(e,t,c){"use strict";c.d(t,"h",(function(){return u})),c.d(t,"e",(function(){return i})),c.d(t,"b",(function(){return b})),c.d(t,"i",(function(){return d})),c.d(t,"f",(function(){return m})),c.d(t,"c",(function(){return p})),c.d(t,"d",(function(){return g})),c.d(t,"g",(function(){return O})),c.d(t,"a",(function(){return j}));var o=c(16),r=c(15),n=c.n(r),a=c(3),l=c(18);const s=(e,t)=>{const c=new Map;return e.filter(e=>{const o=t(e);return!c.has(o)&&(c.set(o,e),!0)})},u=e=>{let{selected:t=[],search:c="",queryArgs:r={}}=e;const a=(e=>{let{selected:t=[],search:c="",queryArgs:r={}}=e;const n=l.p.productCount>100,a={per_page:n?100:0,catalog_visibility:"any",search:c,orderby:"title",order:"asc"},s=[Object(o.addQueryArgs)("/wc/store/v1/products",{...a,...r})];return n&&t.length&&s.push(Object(o.addQueryArgs)("/wc/store/v1/products",{catalog_visibility:"any",include:t,per_page:0})),s})({selected:t,search:c,queryArgs:r});return Promise.all(a.map(e=>n()({path:e}))).then(e=>{const t=e.flat();return s(t,e=>e.id).map(e=>({...e,parent:0}))}).catch(e=>{throw e})},i=e=>n()({path:"/wc/store/v1/products/"+e}),b=()=>n()({path:"wc/store/v1/products/attributes"}),d=e=>n()({path:`wc/store/v1/products/attributes/${e}/terms`}),m=e=>{let{selected:t=[],search:c}=e;const r=(e=>{let{selected:t=[],search:c}=e;const r=Object(a.getSetting)("limitTags",!1),n=[Object(o.addQueryArgs)("wc/store/v1/products/tags",{per_page:r?100:0,orderby:r?"count":"name",order:r?"desc":"asc",search:c})];return r&&t.length&&n.push(Object(o.addQueryArgs)("wc/store/v1/products/tags",{include:t})),n})({selected:t,search:c});return Promise.all(r.map(e=>n()({path:e}))).then(e=>{const t=e.flat();return s(t,e=>e.id)})},p=e=>n()({path:Object(o.addQueryArgs)("wc/store/v1/products/categories",{per_page:0,...e})}),g=e=>n()({path:"wc/store/v1/products/categories/"+e}),O=e=>n()({path:Object(o.addQueryArgs)("wc/store/v1/products",{per_page:0,type:"variation",parent:e})}),j=(e,t)=>{if(!e.title.raw)return e.slug;const c=1===t.filter(t=>t.title.raw===e.title.raw).length;return e.title.raw+(c?"":" - "+e.slug)}},238:function(e,t){},29:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));const o=async e=>{if("function"==typeof e.json)try{const t=await e.json();return{message:t.message,type:t.type||"api"}}catch(e){return{message:e.message,type:"general"}}return{message:e.message,type:e.type||"general"}}},3:function(e,t){e.exports=window.wc.wcSettings},32:function(e,t){e.exports=window.wp.escapeHtml},35:function(e,t,c){"use strict";var o=c(0),r=c(1),n=c(32);t.a=e=>{let{error:t}=e;return Object(o.createElement)("div",{className:"wc-block-error-message"},(e=>{let{message:t,type:c}=e;return t?"general"===c?Object(o.createElement)("span",null,Object(r.__)("The following error was returned","woo-gutenberg-products-block"),Object(o.createElement)("br",null),Object(o.createElement)("code",null,Object(n.escapeHTML)(t))):"api"===c?Object(o.createElement)("span",null,Object(r.__)("The following error was returned from the API","woo-gutenberg-products-block"),Object(o.createElement)("br",null),Object(o.createElement)("code",null,Object(n.escapeHTML)(t))):t:Object(r.__)("An error has prevented the block from being updated.","woo-gutenberg-products-block")})(t))}},36:function(e,t,c){"use strict";c.d(t,"a",(function(){return p}));var o=c(7),r=c.n(o),n=c(0),a=c(4),l=c.n(a),s=c(2);function u(e,t,c){const o=new Set(t.map(e=>e[c]));return e.filter(e=>!o.has(e[c]))}var i=c(11),b=c(17);const d=e=>{let{label:t}=e;return Object(n.createElement)("span",{className:"woocommerce-search-list__item-count"},t)},m=e=>{const{item:t,search:c}=e,o=t.breadcrumbs&&t.breadcrumbs.length;return Object(n.createElement)("span",{className:"woocommerce-search-list__item-label"},o?Object(n.createElement)("span",{className:"woocommerce-search-list__item-prefix"},Object(b.b)(t.breadcrumbs)):null,Object(n.createElement)("span",{className:"woocommerce-search-list__item-name"},Object(b.d)(Object(i.decodeEntities)(t.name),c)))},p=e=>{var t,c;let{countLabel:o,className:a,depth:p=0,controlId:g="",item:O,isSelected:j,isSingle:f,onSelect:h,search:w="",selected:_,useExpandedPanelId:y,...k}=e;const[E,v]=y,S=null!=o&&void 0!==O.count&&null!==O.count,x=!(null===(t=O.breadcrumbs)||void 0===t||!t.length),C=!(null===(c=O.children)||void 0===c||!c.length),N=E===O.id,A=l()(["woocommerce-search-list__item","depth-"+p,a],{"has-breadcrumbs":x,"has-children":C,"has-count":S,"is-expanded":N,"is-radio-button":f}),P=k.name||"search-list-item-"+g,I=`${P}-${O.id}`,T=Object(n.useCallback)(()=>{v(N?-1:Number(O.id))},[N,O.id,v]);return C?Object(n.createElement)("div",{className:A,onClick:T,onKeyDown:e=>"Enter"===e.key||" "===e.key?T():null,role:"treeitem",tabIndex:0},f?Object(n.createElement)(n.Fragment,null,Object(n.createElement)("input",r()({type:"radio",id:I,name:P,value:O.value,onChange:h(O),onClick:e=>e.stopPropagation(),checked:j,className:"woocommerce-search-list__item-input"},k)),Object(n.createElement)(m,{item:O,search:w}),S?Object(n.createElement)(d,{label:o||O.count}):null):Object(n.createElement)(n.Fragment,null,Object(n.createElement)(s.CheckboxControl,r()({className:"woocommerce-search-list__item-input",checked:j},!j&&O.children.some(e=>_.find(t=>t.id===e.id))?{indeterminate:!0}:{},{label:Object(b.d)(Object(i.decodeEntities)(O.name),w),onChange:()=>{j?h(u(_,O.children,"id"))():h(function(e,t,c){const o=u(t,e,"id");return[...e,...o]}(_,O.children))()},onClick:e=>e.stopPropagation()})),S?Object(n.createElement)(d,{label:o||O.count}):null)):Object(n.createElement)("label",{htmlFor:I,className:A},f?Object(n.createElement)(n.Fragment,null,Object(n.createElement)("input",r()({type:"radio",id:I,name:P,value:O.value,onChange:h(O),checked:j,className:"woocommerce-search-list__item-input"},k)),Object(n.createElement)(m,{item:O,search:w})):Object(n.createElement)(s.CheckboxControl,r()({id:I,name:P,className:"woocommerce-search-list__item-input",value:Object(i.decodeEntities)(O.value),label:Object(b.d)(Object(i.decodeEntities)(O.name),w),onChange:h(O),checked:j},k)),S?Object(n.createElement)(d,{label:o||O.count}):null)};t.b=p},387:function(e){e.exports=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-collection","version":"1.0.0","title":"Product Collection","description":"Display a collection of products from your store.","category":"woocommerce","keywords":["WooCommerce","Products (Beta)"],"textdomain":"woo-gutenberg-products-block","attributes":{"queryId":{"type":"number"},"query":{"type":"object"},"tagName":{"type":"string"},"displayLayout":{"type":"object"},"displayUpgradeNotice":{"type":"boolean","default":false}},"providesContext":{"queryId":"queryId","query":"query","displayLayout":"displayLayout"},"supports":{"align":["wide","full"],"anchor":true,"html":false,"__experimentalLayout":true}}')},40:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));const o=e=>null===e},43:function(e,t){e.exports=window.wp.hooks},5:function(e,t){e.exports=window.wp.blockEditor},546:function(e,t,c){e.exports=c(554)},547:function(e,t){},554:function(e,t,c){"use strict";c.r(t);var o=c(8),r=c(84),n=c(387),a=c(0),l=c(5),s=c(12),u=c(61),i=c(2),b=c(169),d=c(66);const m="woocommerce/product-collection/product-title";!function(e,t){let{blockDescription:c,blockIcon:r,blockTitle:n,variationName:a}=t;Object(o.registerBlockVariation)("core/post-title",{description:c,name:a,title:n,isActive:e=>e.__woocommerceNamespace===a,icon:{src:r},attributes:{__woocommerceNamespace:a},scope:["block","inserter"]})}(0,{blockDescription:d.a,blockIcon:Object(a.createElement)(i.Icon,{icon:b.a}),blockTitle:d.c,variationName:m});var p=c(7),g=c.n(p),O=c(1),j=c(43),f=c(141),h=c(6);function w(e,t){const{query:c}=e.attributes;e.setAttributes({query:{...c,...t}})}function _(){const e=Object(h.select)("core/edit-site"),t=null==e?void 0:e.getEditedPostId();return!!t&&["woocommerce/woocommerce//archive-product","woocommerce/woocommerce//taxonomy-product_cat","woocommerce/woocommerce//taxonomy-product_tag","woocommerce/woocommerce//taxonomy-product_attribute","woocommerce/woocommerce//product-search-results"].includes(t)}var y=c(3),k=c(212);const E=Object(y.getSetting)("stockStatusOptions",[]),v=Object(y.getSetting)("hideOutOfStockItems",!1),S=()=>v?Object.keys(Object(k.a)(E,"outofstock")):Object.keys(E),x={perPage:9,pages:0,offset:0,postType:"product",order:"asc",orderBy:"title",author:"",search:"",exclude:[],sticky:"",inherit:null,taxQuery:{},parents:[],isProductCollectionBlock:!0,woocommerceOnSale:!1,woocommerceStockStatus:S(),woocommerceAttributes:[],woocommerceHandPickedProducts:[]},C={query:x,tagName:"div",displayLayout:{type:"flex",columns:3}},N=e=>({...e,orderBy:x.orderBy,order:x.order,inherit:x.inherit}),A=()=>C.displayLayout,P={woocommerceOnSale:x.woocommerceOnSale,woocommerceStockStatus:S(),woocommerceAttributes:[],taxQuery:x.taxQuery,woocommerceHandPickedProducts:[]},I=e=>{let{notice:t}=e;const[c,o]=t.split("Product Collection");return Object(a.createElement)(a.Fragment,null,c,Object(a.createElement)("strong",null,"Product Collection"),o)};var T=e=>{const{displayUpgradeNotice:t}=e.attributes,c=Object(O.__)("Products (Beta) block was upgraded to Product Collection, an updated version with new features and simplified settings.","woo-gutenberg-products-block"),o=Object(O.__)("Revert to Products (Beta)","woo-gutenberg-products-block");return t?Object(a.createElement)(i.Notice,{onRemove:()=>{e.setAttributes({displayUpgradeNotice:!1})}},Object(a.createElement)(I,{notice:c}),Object(a.createElement)("br",null),Object(a.createElement)("br",null),Object(a.createElement)(i.Button,{variant:"link",onClick:()=>{e.revertMigration()}},o)):null},B=e=>{const{type:t,columns:c}=e.displayLayout,o="flex"===t,r=A();return o?Object(a.createElement)(i.__experimentalToolsPanelItem,{label:Object(O.__)("Columns","woo-gutenberg-products-block"),hasValue:()=>(null==r?void 0:r.columns)!==c||(null==r?void 0:r.type)!==t,isShownByDefault:!0,onDeselect:()=>{e.setAttributes({displayLayout:r})}},Object(a.createElement)(i.RangeControl,{label:Object(O.__)("Columns","woo-gutenberg-products-block"),value:c,onChange:t=>e.setAttributes({displayLayout:{...e.displayLayout,columns:t}}),min:2,max:Math.max(6,c)})):null},L=c(159),q=c(102);const R=Object(O.__)("Inherit query from template","woo-gutenberg-products-block");var M=e=>{let{setQueryAttribute:t,query:c}=e;const o=null==c?void 0:c.inherit,r=Object(h.select)("core/edit-site"),n=Object(q.a)(c,e=>!1===(null==e?void 0:e.inherit)),l=Object(a.useMemo)(()=>_(),[]);return Object(L.a)(r)?Object(a.createElement)(i.__experimentalToolsPanelItem,{label:R,hasValue:()=>o!==l,isShownByDefault:!0,onDeselect:()=>{t({inherit:null})}},Object(a.createElement)(i.ToggleControl,{className:"wc-block-product-collection__inherit-query-control",label:R,help:Object(O.__)("Toggle to use the global query context that is set with the current template, such as an archive or search. Disable to customize the settings independently.","woo-gutenberg-products-block"),checked:!!o,onChange:e=>{t(e?{...x,inherit:e}:{...x,...n,inherit:e})}})):null};const F=[{label:Object(O.__)("A → Z","woo-gutenberg-products-block"),value:"title/asc"},{label:Object(O.__)("Z → A","woo-gutenberg-products-block"),value:"title/desc"},{label:Object(O.__)("Newest to oldest","woo-gutenberg-products-block"),value:"date/desc"},{label:Object(O.__)("Oldest to newest","woo-gutenberg-products-block"),value:"date/asc"},{value:"popularity/desc",label:Object(O.__)("Best Selling","woo-gutenberg-products-block")},{value:"rating/desc",label:Object(O.__)("Top Rated","woo-gutenberg-products-block")}];var D=e=>{const{query:t,setQueryAttribute:c}=e,{order:o,orderBy:r}=t,n=N(t);return Object(a.createElement)(i.__experimentalToolsPanelItem,{label:Object(O.__)("Order by","woo-gutenberg-products-block"),hasValue:()=>o!==(null==n?void 0:n.order)||r!==(null==n?void 0:n.orderBy),isShownByDefault:!0,onDeselect:()=>{c(n)}},Object(a.createElement)(i.SelectControl,{value:`${r}/${o}`,options:F,label:Object(O.__)("Order by","woo-gutenberg-products-block"),onChange:e=>{const[t,o]=e.split("/");c({order:o,orderBy:t})}}))},Q=e=>{const{query:t,setQueryAttribute:c}=e;return Object(a.createElement)(i.__experimentalToolsPanelItem,{label:Object(O.__)("On Sale","woo-gutenberg-products-block"),hasValue:()=>!0===t.woocommerceOnSale,isShownByDefault:!0,onDeselect:()=>{c({woocommerceOnSale:!1})}},Object(a.createElement)(i.ToggleControl,{label:Object(O.__)("Show only products on sale","woo-gutenberg-products-block"),checked:t.woocommerceOnSale||!1,onChange:e=>{c({woocommerceOnSale:e})}}))},V=c(113),H=c.n(V);function $(e){var t;const c="string"==typeof e?e:e.value;return null===(t=Object.entries(E).find(e=>{let[,t]=e;return t===c}))||void 0===t?void 0:t[0]}var G=e=>{var t;const{query:c,setQueryAttribute:o}=e;return Object(a.createElement)(i.__experimentalToolsPanelItem,{label:Object(O.__)("Stock status","woo-gutenberg-products-block"),hasValue:()=>!H()(c.woocommerceStockStatus,S()),onDeselect:()=>{o({woocommerceStockStatus:S()})},isShownByDefault:!0},Object(a.createElement)(i.FormTokenField,{label:Object(O.__)("Stock status","woo-gutenberg-products-block"),onChange:e=>{const t=e.map($).filter(Boolean);o({woocommerceStockStatus:t})},suggestions:Object.values(E),validateInput:e=>Object.values(E).includes(e),value:(null==c||null===(t=c.woocommerceStockStatus)||void 0===t?void 0:t.map(e=>E[e]))||[],__experimentalExpandOnFocus:!0,__experimentalShowHowTo:!1}))},z=e=>{const{query:t,setQueryAttribute:c}=e,[o,r]=Object(a.useState)(t.search),n=Object(s.useDebounce)(()=>{t.search!==o&&c({search:o})},250);return Object(a.useEffect)(()=>(n(),n.cancel),[o,n]),Object(a.createElement)(i.__experimentalToolsPanelItem,{hasValue:()=>!!o,label:Object(O.__)("Keyword","woo-gutenberg-products-block"),onDeselect:()=>r(""),resetAllFilter:()=>r("")},Object(a.createElement)(i.TextControl,{label:Object(O.__)("Keyword","woo-gutenberg-products-block"),value:o,onChange:r}))},U=c(149);const W=y.ADMIN_URL+"edit.php?post_type=product&page=product_attributes";var Z=e=>{let{query:t,setQueryAttribute:c}=e;const o=t.woocommerceAttributes||[],r=null==o?void 0:o.map(e=>{let{termId:t}=e;return{id:t}});return Object(a.createElement)(i.__experimentalToolsPanelItem,{label:Object(O.__)("Product Attributes","woo-gutenberg-products-block"),hasValue:()=>!(null==o||!o.length)},Object(a.createElement)(U.a,{messages:{search:Object(O.__)("Attributes","woo-gutenberg-products-block")},selected:r||[],onChange:e=>{const t=e.map(e=>{let{id:t,value:c}=e;return{termId:t,taxonomy:c}});c({woocommerceAttributes:t})},operator:"any",isCompact:!0,type:"token"}),Object(a.createElement)(i.ExternalLink,{className:"wc-block-editor-product-collection-panel__manage-attributes-link",href:W},Object(O.__)("Manage attributes","woo-gutenberg-products-block")))},K=c(69);const Y=[],J={order:"asc",_fields:"id,name,slug",context:"view"},X=(e,t)=>(null==e?void 0:e.id)||t.get(e)||t.get(e.toLocaleLowerCase()),ee=(e,t,c)=>1===c.get(e)?e:`${e} - ${t}`;var te=e=>{let{taxonomy:t,termIds:c,onChange:o}=e;const[r,n]=Object(a.useState)(void 0),l=Object(a.useRef)(Y),u=Object(a.useRef)(Y),b=Object(s.useDebounce)(n,250),{termIdToNameMap:d,termNameToIdMap:m,isResolving:p}=(e=>{const{records:t,isResolving:c}=Object(K.useEntityRecords)("taxonomy",e.slug,{...J});return Object(a.useMemo)(()=>{const e=new Map,o=new Map;if(!t)return{termIdToNameMap:e,termNameToIdMap:o,isResolving:c};const r=(e=>e.reduce((e,t)=>{const c=t.name;return e.has(c)?e.set(c,e.get(c)+1):e.set(c,1),e},new Map))(t);for(const c of t){const t=c.id,n=c.name,a=ee(n,c.slug,r);e.set(t,a),o.set(a,t),o.set(a.toLocaleLowerCase(),t)}return{termIdToNameMap:e,termNameToIdMap:o,isResolving:c}},[t,c])})(t),{records:g,hasResolved:O}=Object(K.useEntityRecords)("taxonomy",t.slug,{...J,search:r,orderby:"name",exclude:c,per_page:20},{enabled:void 0!==r});l.current=Object(a.useMemo)(()=>O?g.map(e=>d.get(e.id)||e.name):l.current,[O,g,d]);const{records:j,hasResolved:f}=Object(K.useEntityRecords)("taxonomy",t.slug,{...J,include:c},{enabled:(null==c?void 0:c.length)>0});return u.current=Object(a.useMemo)(()=>!1===f?u.current:j&&c.length?j.map(e=>{let{id:t,name:c}=e;return{id:t,value:d.get(t)||c}}):Y,[j,f,d,c]),Object(a.createElement)("div",{className:"wc-block-editor-product-collection-inspector__taxonomy-control"},Object(a.createElement)(i.FormTokenField,{label:t.name,value:u.current,onInputChange:b,suggestions:l.current,onChange:e=>{const t=[];for(const c of e){const e=X(c,m);e&&t.push(e)}o(t)},disabled:p,__experimentalShowHowTo:!1}))},ce=function(e){let{setQueryAttribute:t,query:c}=e;const{taxQuery:o}=c,r=Object(h.useSelect)(e=>{const{getTaxonomies:t}=e(K.store);return t({type:"product",per_page:-1,context:"view"})},[]);return r&&0!==r.length?Object(a.createElement)(i.__experimentalToolsPanelItem,{label:Object(O.__)("Taxonomies","woo-gutenberg-products-block"),hasValue:()=>Object.values(o||{}).some(e=>!!e.length),onDeselect:()=>t({taxQuery:{}})},r.map(e=>{const c=(null==o?void 0:o[e.slug])||[];return Object(a.createElement)(te,{key:e.slug,taxonomy:e,termIds:c,onChange:c=>t({taxQuery:{...o,[e.slug]:c}})})})):null},oe=c(22),re=e=>{let{query:t,setQueryAttribute:c}=e;const o=t.woocommerceHandPickedProducts,{productsMap:r,productsList:n}=function(){const[e,t]=Object(a.useState)(new Map),[c,o]=Object(a.useState)([]);return Object(a.useEffect)(()=>{Object(oe.h)({selected:[]}).then(e=>{const c=new Map;e.forEach(e=>{c.set(e.id,e),c.set(e.name,e)}),o(e),t(c)})},[]),{productsMap:e,productsList:c}}(),l=Object(a.useCallback)(e=>{const t=e.reduce((e,t)=>{const c=r.get(t)||r.get(Number(t));return c&&e.add(String(c.id)),e},new Set);c({woocommerceHandPickedProducts:Array.from(t)})},[c,r]),s=Object(a.useMemo)(()=>n.filter(e=>!(null!=o&&o.includes(String(e.id)))).map(e=>e.name),[n,o]);return Object(a.createElement)(i.__experimentalToolsPanelItem,{label:Object(O.__)("Hand-picked Products","woo-gutenberg-products-block"),hasValue:()=>!(null==o||!o.length),onDeselect:()=>{c({woocommerceHandPickedProducts:[]})}},Object(a.createElement)(i.FormTokenField,{disabled:!r.size,displayTransform:e=>{const t=Number(e);if(Number.isNaN(t))return e;const c=r.get(t);return(null==c?void 0:c.name)||""},label:Object(O.__)("Pick some products","woo-gutenberg-products-block"),onChange:l,suggestions:s,__experimentalValidateInput:e=>r.has(e),value:r.size?o||[]:[Object(O.__)("Loading…","woo-gutenberg-products-block")]}))};const ne={who:"authors",per_page:-1,_fields:"id,name",context:"view"};var ae=function(e){let{query:t,setQueryAttribute:c}=e;const o=t.author,{records:r,error:n}=Object(K.useEntityRecords)("root","user",ne);if(n)return Object(a.createElement)(i.__experimentalToolsPanelItem,{label:Object(O.__)("Authors","woo-gutenberg-products-block"),hasValue:()=>!0},Object(a.createElement)(i.FormTokenField,{label:Object(O.__)("Authors","woo-gutenberg-products-block"),value:[Object(O.__)("Error occurred while loading authors.","woo-gutenberg-products-block")],disabled:!0}));if(!r)return null;const l=(e=>{const t=new Map,c=new Map,o=[];return e.forEach(e=>{t.set(Number(e.id),e),c.set(e.name,e),o.push(e.name)}),{authors:e,mapById:t,mapByName:c,names:o}})(r),s=o?o.split(",").map(e=>{const t=l.mapById.get(Number(e));return t?{id:t.id,value:t.name}:null}).filter(Boolean):[];return Object(a.createElement)(i.__experimentalToolsPanelItem,{hasValue:()=>!!o,label:Object(O.__)("Authors","woo-gutenberg-products-block"),onDeselect:()=>c({author:""})},Object(a.createElement)(i.FormTokenField,{label:Object(O.__)("Authors","woo-gutenberg-products-block"),value:s,suggestions:l.names,onChange:e=>{const t=Array.from(e.reduce((e,t)=>{const c=((e,t)=>{var c;const o=(null==t?void 0:t.id)||(null===(c=e.get(t))||void 0===c?void 0:c.id);if(o)return o})(l.mapByName,t);return c&&e.add(c),e},new Set));c({author:t.join(",")})}}))},le=c(639),se=c(606),ue=e=>{const{type:t,columns:c}=e.displayLayout,o=t=>{e.setAttributes({displayLayout:t})},r=[{icon:le.a,title:Object(O.__)("List view","woo-gutenberg-products-block"),onClick:()=>o({type:"list",columns:c}),isActive:"list"===t},{icon:se.a,title:Object(O.__)("Grid view","woo-gutenberg-products-block"),onClick:()=>o({type:"flex",columns:c}),isActive:"flex"===t}];return Object(a.createElement)(i.ToolbarGroup,{controls:r})},ie=c(153);const be=e=>{const{query:t,...c}=e,{woocommerceAttributes:o,woocommerceStockStatus:r,woocommerceOnSale:n,woocommerceHandPickedProducts:a,taxQuery:l,parents:s,isProductCollectionBlock:u,...i}=t,b={...i};return a&&(b.include=a),n&&(b.__woocommerceOnSale=n),{...c,namespace:"woocommerce/product-query",query:{__woocommerceAttributes:o||[],__woocommerceStockStatus:r||[],...b}}},de=e=>"flex"===e?"grid":"list"===e?"default":"grid",me=e=>{const{type:t,columns:c}=e;return{type:de(t),columnCount:c}},pe=(e,t)=>e.map(e=>{const{name:c,attributes:r}=e,n=pe(e.innerBlocks);return(e=>{let{name:t}=e;return"woocommerce/product-template"===t})(e)?((e,t,c)=>Object(o.createBlock)("core/post-template",{className:"products-block-post-template",layout:ie.d?me(c):void 0,__woocommerceNamespace:"woocommerce/product-query/product-template",...e.attributes},t))(e,n,t):(e=>{let{name:t,attributes:c}=e;return"core/post-title"===t&&"woocommerce/product-collection/product-title"===c.__woocommerceNamespace})(e)?((e,t)=>{const{__woocommerceNamespace:c,...r}=e.attributes;return Object(o.createBlock)("core/post-title",{__woocommerceNamespace:"woocommerce/product-collection/product-title",...r},t)})(e,n):(e=>{let{name:t,attributes:c}=e;return"core/post-excerpt"===t&&"woocommerce/product-collection/product-summary"===c.__woocommerceNamespace})(e)?((e,t)=>{const{__woocommerceNamespace:c,...r}=e.attributes;return Object(o.createBlock)("core/post-excerpt",{__woocommerceNamespace:"woocommerce/product-collection/product-summary",...r},t)})(e,n):Object(o.createBlock)(c,r,n)}),ge=e=>{const t=Object(h.select)("core/block-editor").getBlock(e),c=Object(ie.a)(e,"core/query");if(t&&c){const{attributes:c={},innerBlocks:r=[]}=t,{displayLayout:n,...a}=c,l=ie.d?be(a):be(c),s=pe(r,n),u=Object(o.createBlock)("core/query",l,s);return Object(h.dispatch)("core/block-editor").replaceBlock(e,u),!0}return!1},Oe=()=>{const e=Object(h.select)("core/block-editor").getBlocks();Object(ie.b)(e).map(ge)};var je=e=>{const t=e.attributes.query,c=!1===(null==t?void 0:t.inherit),o=Object(a.useMemo)(()=>w.bind(null,e),[e]),r={setAttributes:e.setAttributes,displayLayout:e.attributes.displayLayout},n={setQueryAttribute:o,query:t};return Object(a.createElement)(l.InspectorControls,null,Object(a.createElement)(l.BlockControls,null,Object(a.createElement)(ue,r)),Object(a.createElement)(i.__experimentalToolsPanel,{label:Object(O.__)("Settings","woo-gutenberg-products-block"),resetAll:()=>{const t=(c=e.attributes,{displayLayout:A(),query:N(c.query)});var c;e.setAttributes(t)}},Object(a.createElement)(B,r),Object(a.createElement)(M,n),c?Object(a.createElement)(D,n):null),c?Object(a.createElement)(i.__experimentalToolsPanel,{label:Object(O.__)("Filters","woo-gutenberg-products-block"),resetAll:t=>{w(e,P),t.forEach(e=>e())},className:"wc-block-editor-product-collection-inspector-toolspanel__filters"},Object(a.createElement)(Q,n),Object(a.createElement)(G,n),Object(a.createElement)(re,n),Object(a.createElement)(z,n),Object(a.createElement)(Z,n),Object(a.createElement)(ce,n),Object(a.createElement)(ae,n)):null,Object(a.createElement)(f.b,null))};Object(j.addFilter)("editor.BlockEdit","woocommerce/product-collection",e=>t=>{const{displayUpgradeNotice:c}=t.attributes;return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(l.InspectorControls,null,c&&Object(a.createElement)(T,g()({},t,{revertMigration:Oe}))),Object(a.createElement)(e,t))}),c(547);var fe=c(646);const he=e=>{let{onToggle:t}=e;return Object(a.createElement)(i.ToolbarButton,{icon:fe.a,label:Object(O.__)("Display settings","woo-gutenberg-products-block"),onClick:t})};var we=e=>{let{query:t,setQueryAttribute:c}=e;const o=e=>{const t=Number(e);!isNaN(t)&&t>=1&&t<=100&&c({perPage:t})},r=e=>{const t=Number(e);!isNaN(t)&&t>=0&&t<=100&&c({offset:t})},n=e=>{const t=Number(e);!isNaN(t)&&t>=0&&c({pages:t})},l={__unstableInputWidth:"60px",labelPosition:"edge",step:"1",isDragEnabled:!1};return Object(a.createElement)(i.ToolbarGroup,null,Object(a.createElement)(i.Dropdown,{contentClassName:"wc-block-editor-product-collection__display-settings",renderToggle:e=>{let{onToggle:t}=e;return Object(a.createElement)(he,{onToggle:t})},renderContent:()=>Object(a.createElement)(a.Fragment,null,Object(a.createElement)(i.__experimentalNumberControl,g()({},l,{label:Object(O.__)("Items per Page","woo-gutenberg-products-block"),min:1,max:100,onChange:o,value:t.perPage})),Object(a.createElement)(i.__experimentalNumberControl,g()({},l,{label:Object(O.__)("Offset","woo-gutenberg-products-block"),min:0,max:100,onChange:r,value:t.offset})),Object(a.createElement)(i.BaseControl,{help:Object(O.__)("Limit the pages you want to show, even if the query has more results. To show all pages use 0 (zero).","woo-gutenberg-products-block"),id:"woocommerce-products-block__display-settings-pages"},Object(a.createElement)(i.__experimentalNumberControl,g()({},l,{label:Object(O.__)("Max page to show","woo-gutenberg-products-block"),min:0,onChange:n,value:t.pages}))))}))};function _e(e){const t=e.attributes.query,c=Object(a.useMemo)(()=>w.bind(null,e),[e]);return Object(a.createElement)(l.BlockControls,null,!t.inherit&&Object(a.createElement)(we,{query:t,setQueryAttribute:c}))}const ye=[["woocommerce/product-template",{},[["woocommerce/product-image",{imageSizing:u.a.THUMBNAIL}],["core/post-title",{textAlign:"center",level:3,fontSize:"medium",style:{spacing:{margin:{bottom:"0.75rem",top:"0"}}},isLink:!0,__woocommerceNamespace:m}],["woocommerce/product-price",{textAlign:"center",fontSize:"small"}],["woocommerce/product-button",{textAlign:"center",fontSize:"small"}]]],["core/query-pagination",{layout:{type:"flex",justifyContent:"center"}}],["core/query-no-results"]],ke=e=>{var t;const{attributes:c,setAttributes:o}=e,{queryId:r}=c,n=Object(l.useBlockProps)(),u=Object(l.useInnerBlocksProps)(n,{template:ye}),i=Object(s.useInstanceId)(ke);return Object(a.useEffect)(()=>{Number.isFinite(r)||o({queryId:Number(i)})},[r,i,o]),Object(a.useEffect)(()=>{o({...C,query:{...C.query,inherit:_()},...c})},[o]),"boolean"!=typeof(null==c||null===(t=c.query)||void 0===t?void 0:t.inherit)?null:Object(a.createElement)("div",n,Object(a.createElement)(je,e),Object(a.createElement)(_e,e),Object(a.createElement)("div",u))};var Ee=ke;Object(r.a)()&&Object(o.registerBlockType)(n,{icon:()=>Object(a.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(a.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 11H5C4.72386 11 4.5 11.2239 4.5 11.5V17.5C4.5 17.7761 4.72386 18 5 18H19C19.2761 18 19.5 17.7761 19.5 17.5V11.5C19.5 11.2239 19.2761 11 19 11ZM5 9.5H19C20.1046 9.5 21 10.3954 21 11.5V17.5C21 18.6046 20.1046 19.5 19 19.5H5C3.89543 19.5 3 18.6046 3 17.5V11.5C3 10.3954 3.89543 9.5 5 9.5Z",fill:"currentColor"}),Object(a.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 7.5C18 7.77614 17.7761 8 17.5 8L6.5 8C6.22386 8 6 7.77614 6 7.5V7.5C6 7.22386 6.22386 7 6.5 7L17.5 7C17.7761 7 18 7.22386 18 7.5V7.5Z",fill:"currentColor"}),Object(a.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 5C16 5.27614 15.7761 5.5 15.5 5.5L8.5 5.5C8.22386 5.5 8 5.27614 8 5V5C8 4.72386 8.22386 4.5 8.5 4.5L15.5 4.5C15.7761 4.5 16 4.72386 16 5V5Z",fill:"currentColor"})),edit:Ee,save:function(e){let{attributes:{tagName:t="div"}}=e;const c=l.useBlockProps.save(),o=l.useInnerBlocksProps.save(c);return Object(a.createElement)(t,o)}})},56:function(e,t){},57:function(e,t){},59:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));const o=(e,t)=>e.reduce((e,c)=>(e[String(t?c[t]:c)]=c,e),{})},6:function(e,t){e.exports=window.wp.data},61:function(e,t,c){"use strict";let o;c.d(t,"a",(function(){return o})),function(e){e.SINGLE="single",e.THUMBNAIL="thumbnail"}(o||(o={}))},66:function(e,t,c){"use strict";c.d(t,"c",(function(){return l})),c.d(t,"b",(function(){return s})),c.d(t,"a",(function(){return u}));var o=c(0),r=c(1),n=c(70),a=c(169);const l=Object(r.__)("Product Title","woo-gutenberg-products-block"),s=Object(o.createElement)(n.a,{icon:a.a,className:"wc-block-editor-components-block-icon"}),u=Object(r.__)("Display the title of a product.","woo-gutenberg-products-block")},69:function(e,t){e.exports=window.wp.coreData},74:function(e,t,c){"use strict";var o=c(7),r=c.n(o),n=c(0),a=c(2),l=c(36),s=c(4),u=c.n(s);t.a=e=>{let{className:t,item:c,isSelected:o,isLoading:s,onSelect:i,disabled:b,...d}=e;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(l.a,r()({},d,{key:c.id,className:t,isSelected:o,item:c,onSelect:i,disabled:b})),o&&s&&Object(n.createElement)("div",{key:"loading",className:u()("woocommerce-search-list__item","woocommerce-product-attributes__item","depth-1","is-loading","is-not-active")},Object(n.createElement)(a.Spinner,null)))}},8:function(e,t){e.exports=window.wp.blocks},83:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));const o=e=>"boolean"==typeof e},84:function(e,t,c){"use strict";c.d(t,"c",(function(){return n})),c.d(t,"a",(function(){return a})),c.d(t,"b",(function(){return l}));var o=c(8),r=c(18);const n=(e,t)=>{if(r.o>2)return Object(o.registerBlockType)(e,t)},a=()=>r.o>2,l=()=>r.o>1}});