this.wc=this.wc||{},this.wc.blocks=this.wc.blocks||{},this.wc.blocks["product-query"]=function(e){function t(t){for(var r,a,s=t[0],l=t[1],i=t[2],d=0,b=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&b.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);b.length;)b.shift()();return n.push.apply(n,i||[]),c()}function c(){for(var e,t=0;t<n.length;t++){for(var c=n[t],r=!0,s=1;s<c.length;s++){var l=c[s];0!==o[l]&&(r=!1)}r&&(n.splice(t--,1),e=a(a.s=c[0]))}return e}var r={},o={31:0},n=[];function a(t){if(r[t])return r[t].exports;var c=r[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,a),c.l=!0,c.exports}a.m=e,a.c=r,a.d=function(e,t,c){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(c,r,function(t){return e[t]}.bind(null,r));return c},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackWcBlocksJsonp=window.webpackWcBlocksJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var u=l;return n.push([494,0]),c()}({0:function(e,t){e.exports=window.wp.element},1:function(e,t){e.exports=window.wp.i18n},10:function(e,t){e.exports=window.wp.primitives},11:function(e,t){e.exports=window.wp.compose},111:function(e,t,c){"use strict";c.d(t,"a",(function(){return l})),c.d(t,"b",(function(){return i}));var r=c(0),o=c(2),n=c(1),a=c(333),s=c(71);const l="core/post-template",i="woocommerce/product-query/product-template";Object(s.a)(l,{blockDescription:Object(n.__)("Contains the block elements used to render a product, like its name, featured image, rating, and more.","woo-gutenberg-products-block"),blockIcon:Object(r.createElement)(o.Icon,{icon:a.a}),blockTitle:Object(n.__)("Product template","woo-gutenberg-products-block"),variationName:i})},14:function(e,t){e.exports=window.wp.apiFetch},140:function(e,t,c){"use strict";c.d(t,"b",(function(){return o})),c.d(t,"c",(function(){return n})),c.d(t,"a",(function(){return s}));var r=c(20);const o=e=>Object(r.c)(e,"count")&&Object(r.c)(e,"description")&&Object(r.c)(e,"id")&&Object(r.c)(e,"name")&&Object(r.c)(e,"parent")&&Object(r.c)(e,"slug")&&"number"==typeof e.count&&"string"==typeof e.description&&"number"==typeof e.id&&"string"==typeof e.name&&"number"==typeof e.parent&&"string"==typeof e.slug,n=e=>Array.isArray(e)&&e.every(o),a=e=>Object(r.c)(e,"attribute")&&Object(r.c)(e,"operator")&&Object(r.c)(e,"slug")&&"string"==typeof e.attribute&&"string"==typeof e.operator&&Array.isArray(e.slug)&&e.slug.every(e=>"string"==typeof e),s=e=>Array.isArray(e)&&e.every(a)},145:function(e,t,c){"use strict";var r=c(6),o=c.n(r),n=c(0),a=c(4),s=c.n(a),l=c(1),i=c(37),u=c(97),d=c(2),b=c(11),m=c(24),p=c(30),g=c(35),f=c(68),O=c(154);c(230),t.a=Object(b.withInstanceId)(e=>{let{onChange:t,onOperatorChange:c,instanceId:r,isCompact:a=!1,messages:b={},operator:j="any",selected:_,type:h="text"}=e;const{errorLoadingAttributes:w,isLoadingAttributes:k,productsAttributes:y}=function(e){const[t,c]=Object(n.useState)(null),[r,o]=Object(n.useState)(!1),[a,s]=Object(n.useState)([]),l=Object(n.useRef)(!1);return Object(n.useEffect)(()=>{if(!r&&!l.current)return async function(){o(!0);try{const e=await Object(m.b)(),t=[];for(const c of e){const e=await Object(m.i)(c.id);t.push({...c,parent:0,terms:e.map(e=>({...e,attr_slug:c.taxonomy,parent:c.id}))})}s(t),l.current=!0}catch(e){e instanceof Error&&c(await Object(p.a)(e))}finally{o(!1)}}(),()=>{l.current=!0}},[r,!0]),{errorLoadingAttributes:t,isLoadingAttributes:r,productsAttributes:a}}(),v=y.reduce((e,t)=>{const{terms:c,...r}=t;return[...e,Object(O.a)(r),...c.map(O.a)]},[]);return b={clear:Object(l.__)("Clear all product attributes","woo-gutenberg-products-block"),noItems:Object(l.__)("Your store doesn't have any product attributes.","woo-gutenberg-products-block"),search:Object(l.__)("Search for product attributes","woo-gutenberg-products-block"),selected:e=>Object(l.sprintf)(
/* translators: %d is the count of attributes selected. */
Object(l._n)("%d attribute selected","%d attributes selected",e,"woo-gutenberg-products-block"),e),updated:Object(l.__)("Product attribute search results updated.","woo-gutenberg-products-block"),...b},w?Object(n.createElement)(g.a,{error:w}):Object(n.createElement)(n.Fragment,null,Object(n.createElement)(u.a,{className:"woocommerce-product-attributes",isCompact:a,isHierarchical:!0,isLoading:k,isSingle:!1,list:v,messages:b,onChange:t,renderItem:e=>{const{item:t,search:c,depth:a=0}=e,u=["woocommerce-product-attributes__item","woocommerce-search-list__item",{"is-searching":c.length>0,"is-skip-level":0===a&&0!==t.parent}];if(!t.breadcrumbs.length)return Object(n.createElement)(f.a,o()({},e,{className:s()(u),item:t,isLoading:k,disabled:0===t.count,name:"attributes-"+r,countLabel:Object(l.sprintf)(
/* translators: %d is the count of terms. */
Object(l._n)("%d term","%d terms",t.count,"woo-gutenberg-products-block"),t.count),"aria-label":Object(l.sprintf)(
/* translators: %1$s is the item name, %2$d is the count of terms for the item. */
Object(l._n)("%1$s, has %2$d term","%1$s, has %2$d terms",t.count,"woo-gutenberg-products-block"),t.name,t.count)}));const d=`${t.breadcrumbs[0]}: ${t.name}`;return Object(n.createElement)(i.a,o()({},e,{name:"terms-"+r,className:s()(...u,"has-count"),countLabel:Object(l.sprintf)(
/* translators: %d is the count of products. */
Object(l._n)("%d product","%d products",t.count,"woo-gutenberg-products-block"),t.count),"aria-label":Object(l.sprintf)(
/* translators: %1$s is the attribute name, %2$d is the count of products for that attribute. */
Object(l._n)("%1$s, has %2$d product","%1$s, has %2$d products",t.count,"woo-gutenberg-products-block"),d,t.count)}))},selected:_.map(e=>{let{id:t}=e;return v.find(e=>e.id===t)}).filter(Boolean),type:h}),!!c&&Object(n.createElement)("div",{hidden:_.length<2},Object(n.createElement)(d.SelectControl,{className:"woocommerce-product-attributes__operator",label:Object(l.__)("Display products matching","woo-gutenberg-products-block"),help:Object(l.__)("Pick at least two attributes to use this setting.","woo-gutenberg-products-block"),value:j,onChange:c,options:[{label:Object(l.__)("Any selected attributes","woo-gutenberg-products-block"),value:"any"},{label:Object(l.__)("All selected attributes","woo-gutenberg-products-block"),value:"all"}]})))})},15:function(e,t){e.exports=window.wp.url},154:function(e,t,c){"use strict";c.d(t,"a",(function(){return s})),c.d(t,"b",(function(){return l})),c.d(t,"c",(function(){return i})),c.d(t,"d",(function(){return u}));var r=c(3),o=c(140),n=c(7);const a=Object(r.getSetting)("attributes",[]).reduce((e,t)=>{const c=(r=t)&&r.attribute_name?{id:parseInt(r.attribute_id,10),name:r.attribute_name,taxonomy:"pa_"+r.attribute_name,label:r.attribute_label}:null;var r;return c&&c.id&&e.push(c),e},[]),s=e=>{const{count:t,id:c,name:r,parent:n}=e;return{count:t,id:c,name:r,parent:n,breadcrumbs:[],children:[],value:Object(o.b)(e)?e.attr_slug:""}},l=e=>{if(e)return a.find(t=>t.id===e)},i=e=>{if(e)return a.find(t=>t.taxonomy===e)},u=(e,t,c,r)=>{const o=Object(n.select)("core/block-editor"),a=Object(n.dispatch)("core/block-editor"),s=o.getBlockParents(e);let l="";s.forEach(e=>{const t=o.getBlock(e).innerBlocks.find(e=>e.name===r);t&&(l=t.clientId)}),a.updateBlockAttributes(l,{[t]:c})}},16:function(e,t){e.exports=window.wp.htmlEntities},17:function(e,t,c){"use strict";c.d(t,"a",(function(){return a})),c.d(t,"c",(function(){return l})),c.d(t,"d",(function(){return i})),c.d(t,"b",(function(){return u}));var r=c(0),o=c(1),n=c(55);const a={clear:Object(o.__)("Clear all selected items","woo-gutenberg-products-block"),noItems:Object(o.__)("No items found.","woo-gutenberg-products-block"),
/* Translators: %s search term */
noResults:Object(o.__)("No results for %s","woo-gutenberg-products-block"),search:Object(o.__)("Search for items","woo-gutenberg-products-block"),selected:e=>Object(o.sprintf)(
/* translators: Number of items selected from list. */
Object(o._n)("%d item selected","%d items selected",e,"woo-gutenberg-products-block"),e),updated:Object(o.__)("Search results updated.","woo-gutenberg-products-block")},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const c=e.reduce((e,t)=>{const c=t.parent||0;return e[c]||(e[c]=[]),e[c].push(t),e},{}),r=Object(n.a)(t,"id"),o=["0"],a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.parent)return e.name?[e.name]:[];const t=a(r[e.parent]);return[...t,e.name]},s=e=>e.map(e=>{const t=c[e.id];return o.push(""+e.id),{...e,breadcrumbs:a(r[e.parent]),children:t&&t.length?s(t):[]}}),l=s(c[0]||[]);return Object.entries(c).forEach(e=>{let[t,c]=e;o.includes(t)||l.push(...s(c||[]))}),l},l=(e,t,c)=>{if(!t)return c?s(e):e;const r=new RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"i"),o=e.map(e=>!!r.test(e.name)&&e).filter(Boolean);return c?s(o,e):o},i=(e,t)=>{if(!t)return e;const c=new RegExp(`(${t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"ig");return e.split(c).map((e,t)=>c.test(e)?Object(r.createElement)("strong",{key:t},e):Object(r.createElement)(r.Fragment,{key:t},e))},u=e=>1===e.length?e.slice(0,1).toString():2===e.length?e.slice(0,1).toString()+" › "+e.slice(-1).toString():e.slice(0,1).toString()+" … "+e.slice(-1).toString()},172:function(e,t,c){"use strict";c.d(t,"a",(function(){return i})),c.d(t,"b",(function(){return u}));var r=c(0),o=c(1),n=c(74),a=c(334),s=c(251);c(228);const l=e=>{let{text:t,title:c=Object(o.__)("Feedback?","woo-gutenberg-products-block"),url:l="https://ideas.woocommerce.com/forums/133476-woocommerce?category_id=384565"}=e;const[i,u]=Object(r.useState)(!1);return Object(r.useEffect)(()=>{u(!0)},[]),i&&Object(r.createElement)("div",{className:"wc-block-feedback-prompt"},Object(r.createElement)(n.a,{icon:a.a}),Object(r.createElement)("h2",{className:"wc-block-feedback-prompt__title"},c),Object(r.createElement)("p",{className:"wc-block-feedback-prompt__text"},t),Object(r.createElement)("a",{href:l,className:"wc-block-feedback-prompt__link",rel:"noreferrer noopener",target:"_blank"},Object(o.__)("Give us your feedback.","woo-gutenberg-products-block"),Object(r.createElement)(n.a,{icon:s.a,size:16})))},i=()=>Object(r.createElement)(l,{text:Object(o.__)("We are currently working on improving our cart and checkout blocks to provide merchants with the tools and customization options they need.","woo-gutenberg-products-block"),url:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/issues/new?template=--cart-checkout-feedback.md"}),u=()=>Object(r.createElement)(l,{text:Object(o.__)("Thanks for trying out the Products block! Help us make it better by sharing your feedback.","woo-gutenberg-products-block"),title:Object(o.__)("Share your feedback!","woo-gutenberg-products-block"),url:"https://airtable.com/shrFX5FAqmCY6hVYI"})},173:function(e,t,c){"use strict";c.d(t,"a",(function(){return l})),c.d(t,"b",(function(){return i}));var r=c(0),o=c(2),n=c(79),a=c(193),s=c(71);const l="core/post-excerpt",i="woocommerce/product-query/product-summary";Object(s.a)(l,{blockDescription:n.a,blockIcon:Object(r.createElement)(o.Icon,{icon:a.a}),blockTitle:n.c,variationName:i})},18:function(e,t,c){"use strict";c.d(t,"p",(function(){return n})),c.d(t,"n",(function(){return a})),c.d(t,"m",(function(){return s})),c.d(t,"o",(function(){return l})),c.d(t,"k",(function(){return i})),c.d(t,"e",(function(){return u})),c.d(t,"h",(function(){return d})),c.d(t,"l",(function(){return b})),c.d(t,"c",(function(){return m})),c.d(t,"d",(function(){return p})),c.d(t,"g",(function(){return g})),c.d(t,"a",(function(){return j})),c.d(t,"b",(function(){return _})),c.d(t,"i",(function(){return h})),c.d(t,"j",(function(){return w})),c.d(t,"f",(function(){return k}));var r,o=c(3);const n=Object(o.getSetting)("wcBlocksConfig",{buildPhase:1,pluginUrl:"",productCount:0,defaultAvatar:"",restApiRoutes:{},wordCountType:"words"}),a=n.pluginUrl+"images/",s=n.pluginUrl+"build/",l=n.buildPhase,i=null===(r=o.STORE_PAGES.shop)||void 0===r?void 0:r.permalink,u=o.STORE_PAGES.checkout.id,d=(o.STORE_PAGES.checkout.permalink,o.STORE_PAGES.privacy.permalink),b=(o.STORE_PAGES.privacy.title,o.STORE_PAGES.terms.permalink),m=(o.STORE_PAGES.terms.title,o.STORE_PAGES.cart.id),p=o.STORE_PAGES.cart.permalink,g=(o.STORE_PAGES.myaccount.permalink?o.STORE_PAGES.myaccount.permalink:Object(o.getSetting)("wpLoginUrl","/wp-login.php"),Object(o.getSetting)("localPickupEnabled",!1)),f=Object(o.getSetting)("countries",{}),O=Object(o.getSetting)("countryData",{}),j=Object.fromEntries(Object.keys(O).filter(e=>!0===O[e].allowBilling).map(e=>[e,f[e]||""])),_=Object.fromEntries(Object.keys(O).filter(e=>!0===O[e].allowBilling).map(e=>[e,O[e].states||[]])),h=Object.fromEntries(Object.keys(O).filter(e=>!0===O[e].allowShipping).map(e=>[e,f[e]||""])),w=Object.fromEntries(Object.keys(O).filter(e=>!0===O[e].allowShipping).map(e=>[e,O[e].states||[]])),k=Object.fromEntries(Object.keys(O).map(e=>[e,O[e].locale||[]]))},188:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var r=c(20);const o=e=>{if(Object(r.b)(e)){const t=e.getEditedPostType();return"wp_template"===t||"wp_template_part"===t}return!1}},198:function(e,t,c){"use strict";c.d(t,"a",(function(){return b}));var r=c(0),o=c(8),n=c(2),a=c(1),s=c(207),l=c(3),i=c(7),u=c(188),d=c(43);const b="woocommerce/product-query",m=["woocommerce/woocommerce//archive-product","woocommerce/woocommerce//taxonomy-product_cat","woocommerce/woocommerce//taxonomy-product_tag","woocommerce/woocommerce//taxonomy-product_attribute","woocommerce/woocommerce//product-search-results"],p=e=>{Object(o.registerBlockVariation)(d.f,{description:Object(a.__)("A block that displays a selection of products in your store.","woo-gutenberg-products-block"),name:b,
/* translators: “Products“ is the name of the block. */
title:Object(a.__)("Products (Beta)","woo-gutenberg-products-block"),isActive:e=>e.namespace===b,icon:Object(r.createElement)(n.Icon,{icon:s.a,className:"wc-block-editor-components-block-icon wc-block-editor-components-block-icon--stacks"}),attributes:{...e,namespace:b},allowedControls:d.b,innerBlocks:d.d,scope:["inserter"]})};if(Object(l.isWpVersion)("6.1",">=")){let e;Object(i.subscribe)(()=>{const t=e,c=Object(i.select)("core/edit-site");if(e=null==c?void 0:c.getEditedPostId(),t!==e&&Object(u.a)(c)){const t={...d.e,query:{...d.e.query,inherit:m.includes(e)}};Object(o.unregisterBlockVariation)(d.f,b),p(t)}},"core/edit-site");let t=!1;Object(i.subscribe)(()=>{t||(t=!0,p(d.e))},"core/edit-post")}},2:function(e,t){e.exports=window.wp.components},20:function(e,t,c){"use strict";c.d(t,"b",(function(){return r})),c.d(t,"c",(function(){return o})),c.d(t,"a",(function(){return n}));const r=e=>!(e=>null===e)(e)&&e instanceof Object&&e.constructor===Object;function o(e,t){return r(e)&&t in e}const n=e=>0===Object.keys(e).length},203:function(e,t,c){"use strict";function r(e,t){const{[t]:c,...r}=e;return r}c.d(t,"a",(function(){return r}))},207:function(e,t,c){"use strict";var r=c(0),o=c(10);const n=Object(r.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/SVG",viewBox:"0 0 24 24"},Object(r.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 19.375L4.5 7.625C4.5 7.55596 4.55596 7.5 4.625 7.5L16.375 7.5C16.444 7.5 16.5 7.55596 16.5 7.625L16.5 19.375C16.5 19.444 16.444 19.5 16.375 19.5L4.625 19.5C4.55596 19.5 4.5 19.444 4.5 19.375ZM4.625 21C3.72754 21 3 20.2725 3 19.375L3 7.625C3 6.72754 3.72754 6 4.625 6L16.375 6C17.2725 6 18 6.72754 18 7.625L18 19.375C18 20.2725 17.2725 21 16.375 21L4.625 21ZM19 3.75L8 3.75L8 2.25L19 2.25C20.5183 2.25 21.75 3.4796 21.75 4.99891L21.75 18L20.25 18L20.25 4.99891C20.25 4.30909 19.6909 3.75 19 3.75Z"}));t.a=n},228:function(e,t){},230:function(e,t){},24:function(e,t,c){"use strict";c.d(t,"h",(function(){return i})),c.d(t,"e",(function(){return u})),c.d(t,"b",(function(){return d})),c.d(t,"i",(function(){return b})),c.d(t,"f",(function(){return m})),c.d(t,"c",(function(){return p})),c.d(t,"d",(function(){return g})),c.d(t,"g",(function(){return f})),c.d(t,"a",(function(){return O}));var r=c(15),o=c(14),n=c.n(o),a=c(3),s=c(18);const l=(e,t)=>{const c=new Map;return e.filter(e=>{const r=t(e);return!c.has(r)&&(c.set(r,e),!0)})},i=e=>{let{selected:t=[],search:c="",queryArgs:o={}}=e;const a=(e=>{let{selected:t=[],search:c="",queryArgs:o={}}=e;const n=s.p.productCount>100,a={per_page:n?100:0,catalog_visibility:"any",search:c,orderby:"title",order:"asc"},l=[Object(r.addQueryArgs)("/wc/store/v1/products",{...a,...o})];return n&&t.length&&l.push(Object(r.addQueryArgs)("/wc/store/v1/products",{catalog_visibility:"any",include:t,per_page:0})),l})({selected:t,search:c,queryArgs:o});return Promise.all(a.map(e=>n()({path:e}))).then(e=>{const t=e.flat();return l(t,e=>e.id).map(e=>({...e,parent:0}))}).catch(e=>{throw e})},u=e=>n()({path:"/wc/store/v1/products/"+e}),d=()=>n()({path:"wc/store/v1/products/attributes"}),b=e=>n()({path:`wc/store/v1/products/attributes/${e}/terms`}),m=e=>{let{selected:t=[],search:c}=e;const o=(e=>{let{selected:t=[],search:c}=e;const o=Object(a.getSetting)("limitTags",!1),n=[Object(r.addQueryArgs)("wc/store/v1/products/tags",{per_page:o?100:0,orderby:o?"count":"name",order:o?"desc":"asc",search:c})];return o&&t.length&&n.push(Object(r.addQueryArgs)("wc/store/v1/products/tags",{include:t})),n})({selected:t,search:c});return Promise.all(o.map(e=>n()({path:e}))).then(e=>{const t=e.flat();return l(t,e=>e.id)})},p=e=>n()({path:Object(r.addQueryArgs)("wc/store/v1/products/categories",{per_page:0,...e})}),g=e=>n()({path:"wc/store/v1/products/categories/"+e}),f=e=>n()({path:Object(r.addQueryArgs)("wc/store/v1/products",{per_page:0,type:"variation",parent:e})}),O=(e,t)=>{if(!e.title.raw)return e.slug;const c=1===t.filter(t=>t.title.raw===e.title.raw).length;return e.title.raw+(c?"":" - "+e.slug)}},3:function(e,t){e.exports=window.wc.wcSettings},30:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));const r=async e=>{if("function"==typeof e.json)try{const t=await e.json();return{message:t.message,type:t.type||"api"}}catch(e){return{message:e.message,type:"general"}}return{message:e.message,type:e.type||"general"}}},311:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var r=c(8),o=c(7);const n=new Set,a=e=>{let{blockName:t,blockMetadata:c,blockSettings:a,isVariationBlock:s=!1,variationName:l}=e,i="";Object(o.subscribe)(()=>{var e;const n=i,u=Object(o.select)("core/edit-site");var d;d=null==u?void 0:u.getEditedPostId(),i=null==d?void 0:d.split("//")[1];const b=n!==i,m=Boolean(i);if(!b||!m||!t)return;let p=Boolean(Object(r.getBlockType)(t));var g,f;p&&(null!==(e=i)&&void 0!==e&&e.includes("single-product")||null!=n&&n.includes("single-product"))&&(s&&l?Object(r.unregisterBlockVariation)(t,l):Object(r.unregisterBlockType)(t),p=!1),p||(s?Object(r.registerBlockVariation)(t,{...a,ancestor:null!==(g=i)&&void 0!==g&&g.includes("single-product")||null==a?void 0:a.ancestor}):Object(r.registerBlockType)(c,{...a,ancestor:null!==(f=i)&&void 0!==f&&f.includes("single-product")||null==a?void 0:a.ancestor}))},"core/edit-site"),Object(o.subscribe)(()=>{(Boolean(l)?n.has(l):n.has(t))||(s?(n.add(l),Object(r.registerBlockVariation)(t,a)):(n.add(t),Object(r.registerBlockType)(c,a)))},"core/edit-post")}},33:function(e,t){e.exports=window.wp.escapeHtml},349:function(e,t,c){"use strict";c.d(t,"a",(function(){return b})),c.d(t,"b",(function(){return m}));var r=c(0),o=c(2),n=c(1),a=c(207),s=c(311),l=c(43),i=c(111),u=c(82);const d="woocommerce/related-products",b={namespace:d,allowedControls:[],displayLayout:{type:"flex",columns:5},query:{perPage:5,pages:0,offset:0,postType:"product",order:"asc",orderBy:"title",author:"",search:"",exclude:[],sticky:"",inherit:!1},lock:{remove:!0,move:!0}},m=[["core/heading",{level:2,content:Object(n.__)("Related products","woo-gutenberg-products-block")}],["core/post-template",{__woocommerceNamespace:i.b},[["woocommerce/product-image",{productId:0,imageSizing:"cropped"}],["core/post-title",{textAlign:"center",level:3,fontSize:"medium",isLink:!0,__woocommerceNamespace:u.b},[]],["woocommerce/product-price",{textAlign:"center",fontSize:"small",style:{spacing:{margin:{bottom:"1rem"}}}},[]],["woocommerce/product-button",{textAlign:"center",fontSize:"small",style:{spacing:{margin:{bottom:"1rem"}}}},[]]]]];Object(s.a)({blockName:l.f,blockMetadata:{},blockSettings:{description:Object(n.__)("Display related products.","woo-gutenberg-products-block"),name:"Related Products Controls",title:Object(n.__)("Related Products Controls","woo-gutenberg-products-block"),isActive:e=>e.namespace===d,icon:Object(r.createElement)(o.Icon,{icon:a.a,className:"wc-block-editor-components-block-icon wc-block-editor-components-block-icon--stacks"}),attributes:b,allowedControls:[],innerBlocks:m,scope:["block"]},isVariationBlock:!0,variationName:d})},35:function(e,t,c){"use strict";var r=c(0),o=c(1),n=c(33);t.a=e=>{let{error:t}=e;return Object(r.createElement)("div",{className:"wc-block-error-message"},(e=>{let{message:t,type:c}=e;return t?"general"===c?Object(r.createElement)("span",null,Object(o.__)("The following error was returned","woo-gutenberg-products-block"),Object(r.createElement)("br",null),Object(r.createElement)("code",null,Object(n.escapeHTML)(t))):"api"===c?Object(r.createElement)("span",null,Object(o.__)("The following error was returned from the API","woo-gutenberg-products-block"),Object(r.createElement)("br",null),Object(r.createElement)("code",null,Object(n.escapeHTML)(t))):t:Object(o.__)("An error has prevented the block from being updated.","woo-gutenberg-products-block")})(t))}},37:function(e,t,c){"use strict";c.d(t,"a",(function(){return p}));var r=c(6),o=c.n(r),n=c(0),a=c(4),s=c.n(a),l=c(2);function i(e,t,c){const r=new Set(t.map(e=>e[c]));return e.filter(e=>!r.has(e[c]))}var u=c(16),d=c(17);const b=e=>{let{label:t}=e;return Object(n.createElement)("span",{className:"woocommerce-search-list__item-count"},t)},m=e=>{const{item:t,search:c}=e,r=t.breadcrumbs&&t.breadcrumbs.length;return Object(n.createElement)("span",{className:"woocommerce-search-list__item-label"},r?Object(n.createElement)("span",{className:"woocommerce-search-list__item-prefix"},Object(d.b)(t.breadcrumbs)):null,Object(n.createElement)("span",{className:"woocommerce-search-list__item-name"},Object(d.d)(Object(u.decodeEntities)(t.name),c)))},p=e=>{var t,c;let{countLabel:r,className:a,depth:u=0,controlId:p="",item:g,isSelected:f,isSingle:O,onSelect:j,search:_="",selected:h,useExpandedPanelId:w,...k}=e;const[y,v]=w,E=null!=r&&void 0!==g.count&&null!==g.count,S=!(null===(t=g.breadcrumbs)||void 0===t||!t.length),x=!(null===(c=g.children)||void 0===c||!c.length),N=y===g.id,C=s()(["woocommerce-search-list__item","depth-"+u,a],{"has-breadcrumbs":S,"has-children":x,"has-count":E,"is-expanded":N,"is-radio-button":O}),A=k.name||"search-list-item-"+p,I=`${A}-${g.id}`,P=Object(n.useCallback)(()=>{v(N?-1:Number(g.id))},[N,g.id,v]);return x?Object(n.createElement)("div",{className:C,onClick:P,onKeyDown:e=>"Enter"===e.key||" "===e.key?P():null,role:"treeitem",tabIndex:0},O?Object(n.createElement)(n.Fragment,null,Object(n.createElement)("input",o()({type:"radio",id:I,name:A,value:g.value,onChange:j(g),onClick:e=>e.stopPropagation(),checked:f,className:"woocommerce-search-list__item-input"},k)),Object(n.createElement)(m,{item:g,search:_}),E?Object(n.createElement)(b,{label:r||g.count}):null):Object(n.createElement)(n.Fragment,null,Object(n.createElement)(l.CheckboxControl,o()({className:"woocommerce-search-list__item-input",checked:f},!f&&g.children.some(e=>h.find(t=>t.id===e.id))?{indeterminate:!0}:{},{label:Object(d.d)(g.name,_),onChange:()=>{f?j(i(h,g.children,"id"))():j(function(e,t,c){const r=i(t,e,"id");return[...e,...r]}(h,g.children))()},onClick:e=>e.stopPropagation()})),E?Object(n.createElement)(b,{label:r||g.count}):null)):Object(n.createElement)("label",{htmlFor:I,className:C},O?Object(n.createElement)("input",o()({type:"radio",id:I,name:A,value:g.value,onChange:j(g),checked:f,className:"woocommerce-search-list__item-input"},k)):Object(n.createElement)("input",o()({type:"checkbox",id:I,name:A,value:g.value,onChange:j(g),checked:f,className:"woocommerce-search-list__item-input"},k)),Object(n.createElement)(m,{item:g,search:_}),E?Object(n.createElement)(b,{label:r||g.count}):null)};t.b=p},43:function(e,t,c){"use strict";c.d(t,"c",(function(){return l})),c.d(t,"f",(function(){return i})),c.d(t,"a",(function(){return u})),c.d(t,"b",(function(){return d})),c.d(t,"g",(function(){return b})),c.d(t,"e",(function(){return p})),c.d(t,"d",(function(){return g}));var r=c(3),o=c(203),n=c(82),a=c(111),s=c(57);const l="/wp-admin/edit.php?post_type=product&page=product_attributes",i="core/query",u=["attributes","presets","productSelector","onSale","stockStatus","wooInherit"],d=["taxQuery","search",...u],b=Object(r.getSetting)("stockStatusOptions",[]),m=Object(r.getSetting)("hideOutOfStockItems",!1),p={allowedControls:d,displayLayout:{type:"flex",columns:3},query:{perPage:9,pages:0,offset:0,postType:"product",order:"asc",orderBy:"title",author:"",search:"",exclude:[],sticky:"",inherit:!1,__woocommerceAttributes:[],__woocommerceStockStatus:m?Object.keys(Object(o.a)(b,"outofstock")):Object.keys(b)}},g=[["core/post-template",{__woocommerceNamespace:a.b,className:"products-block-post-template"},[["woocommerce/product-image",{imageSizing:s.a.THUMBNAIL}],["core/post-title",{textAlign:"center",level:3,fontSize:"medium",style:{spacing:{margin:{bottom:"0.75rem",top:"0"}}},isLink:!0,__woocommerceNamespace:n.b}],["woocommerce/product-price",{textAlign:"center",fontSize:"small"}],["woocommerce/product-button",{textAlign:"center",fontSize:"small"}]]],["core/query-pagination",{layout:{type:"flex",justifyContent:"center"}}],["core/query-no-results"]]},47:function(e,t){e.exports=window.wp.hooks},494:function(e,t,c){e.exports=c(528)},495:function(e,t){},496:function(e,t){},5:function(e,t){e.exports=window.wp.blockEditor},528:function(e,t,c){"use strict";c.r(t);var r=c(47),o=c(3),n=c(82),a=c(173),s=c(111),l=c(6),i=c.n(l),u=c(0),d=c(1),b=c(5),m=c(7),p=c(172),g=c(98),f=c(2),O=c(8),j=c(188),_=c(43);let h;function w(e,t){const{query:c}=e.attributes;e.setAttributes({query:{...c,...t}})}!function(e){e.PRODUCT_QUERY="woocommerce/product-query",e.RELATED_PRODUCTS="woocommerce/related-products"}(h||(h={}));var k=c(145);const y=[{key:"title/asc",name:Object(d.__)("Sorted by title","woo-gutenberg-products-block")},{key:"date/desc",name:Object(d.__)("Newest","woo-gutenberg-products-block")},{key:"popularity/desc",name:Object(d.__)("Best Selling","woo-gutenberg-products-block")},{key:"rating/desc",name:Object(d.__)("Top Rated","woo-gutenberg-products-block")}];function v(e){const{query:t}=e.attributes;return Object(u.createElement)(f.PanelBody,{className:"woocommerce-product-query-panel__sort",title:Object(d.__)("Popular Filters","woo-gutenberg-products-block"),initialOpen:!0},Object(u.createElement)("p",null,Object(d.__)("Arrange products by popular pre-sets.","woo-gutenberg-products-block")),Object(u.createElement)(f.CustomSelectControl,{hideLabelFromVision:!0,label:Object(d.__)("Choose among these pre-sets","woo-gutenberg-products-block"),onChange:t=>{var c,r,o;if(null===(c=t.selectedItem)||void 0===c||!c.key)return;const[n,a]=null===(r=t.selectedItem)||void 0===r||null===(o=r.key)||void 0===o?void 0:o.split("/");w(e,{order:a,orderBy:n})},options:y,value:y.find(e=>e.key===`${t.orderBy}/${t.order}`)}))}var E=c(24),S=c(203);c(495);const x=_.a.map(e=>`__woocommerce${e[0].toUpperCase()}${e.slice(1)}`);function N(e){var t;const c="string"==typeof e?e:e.value;return null===(t=Object.entries(_.g).find(e=>{let[,t]=e;return t===c}))||void 0===t?void 0:t[0]}const C={attributes:e=>{const{query:t}=e.attributes,[c,r]=Object(u.useState)([]);return Object(u.useEffect)(()=>{t.__woocommerceAttributes&&r(t.__woocommerceAttributes.map(e=>{let{termId:t}=e;return{id:t}}))},[t.__woocommerceAttributes]),Object(u.createElement)(f.__experimentalToolsPanelItem,{label:Object(d.__)("Product Attributes","woo-gutenberg-products-block"),hasValue:()=>{var e;return null===(e=t.__woocommerceAttributes)||void 0===e?void 0:e.length}},Object(u.createElement)(k.a,{messages:{search:Object(d.__)("Attributes","woo-gutenberg-products-block")},selected:c,onChange:t=>{const c=t.map(e=>{let{id:t,value:c}=e;return{termId:t,taxonomy:c}});w(e,{__woocommerceAttributes:c})},operator:"any",isCompact:!0,type:"token"}),Object(u.createElement)(f.ExternalLink,{className:"woocommerce-product-query-panel__external-link",href:_.c},Object(d.__)("Manage attributes","woo-gutenberg-products-block")))},onSale:e=>{const{query:t}=e.attributes;return Object(u.createElement)(f.__experimentalToolsPanelItem,{label:Object(d.__)("Sale status","woo-gutenberg-products-block"),hasValue:()=>t.__woocommerceOnSale},Object(u.createElement)(f.ToggleControl,{label:Object(d.__)("Show only products on sale","woo-gutenberg-products-block"),checked:t.__woocommerceOnSale||!1,onChange:t=>{w(e,{__woocommerceOnSale:t})}}))},productSelector:e=>{const{query:t}=e.attributes,c=function(){const[e,t]=Object(u.useState)([]);return Object(u.useEffect)(()=>{Object(E.h)({selected:[]}).then(e=>{t(e)})},[]),e}();return Object(u.createElement)(f.__experimentalToolsPanelItem,{label:Object(d.__)("Hand-picked Products","woo-gutenberg-products-block"),hasValue:()=>{var e;return null===(e=t.include)||void 0===e?void 0:e.length}},Object(u.createElement)(f.FormTokenField,{disabled:!c.length,displayTransform:e=>{var t;return Number.isNaN(Number(e))?e:(null===(t=c.find(t=>t.id===Number(e)))||void 0===t?void 0:t.name)||""},label:Object(d.__)("Pick some products","woo-gutenberg-products-block"),onChange:t=>{const r=t.map(e=>{var t;return null===(t=c.find(t=>t.name===e||t.id===Number(e)))||void 0===t?void 0:t.id}).filter(Boolean).map(String);if(!r.length&&e.attributes.query.include){const t=Object(S.a)(e.attributes.query,"include");w({...e,attributes:{...e.attributes,query:t}},{})}else w(e,{include:r})},suggestions:c.map(e=>e.name),validateInput:e=>c.find(t=>t.name===e),value:c.length?(null==t?void 0:t.include)||[]:[Object(d.__)("Loading…","woo-gutenberg-products-block")],__experimentalExpandOnFocus:!0}))},stockStatus:e=>{var t;const{query:c}=e.attributes;return Object(u.createElement)(f.__experimentalToolsPanelItem,{label:Object(d.__)("Stock status","woo-gutenberg-products-block"),hasValue:()=>c.__woocommerceStockStatus},Object(u.createElement)(f.FormTokenField,{label:Object(d.__)("Stock status","woo-gutenberg-products-block"),onChange:t=>{const c=t.map(N).filter(Boolean);w(e,{__woocommerceStockStatus:c})},suggestions:Object.values(_.g),validateInput:e=>Object.values(_.g).includes(e),value:(null==c||null===(t=c.__woocommerceStockStatus)||void 0===t?void 0:t.map(e=>_.g[e]))||[],__experimentalExpandOnFocus:!0}))},wooInherit:e=>{const t=Object(g.a)(e.attributes.query,e=>!1===e.inherit);return Object(u.createElement)(f.ToggleControl,{className:"woo-inherit-query-toggle",label:Object(d.__)("Inherit query from template","woo-gutenberg-products-block"),help:Object(d.__)("Toggle to use the global query context that is set with the current template, such as variations of the product catalog or search. Disable to customize the filtering independently.","woo-gutenberg-products-block"),checked:e.attributes.query.inherit||!1,onChange:c=>{w(e,{...e.defaultWooQueryParams,inherit:c,...!1===c&&{...t}})}})}},A=e=>{const t=function(e){const t=Object(m.useSelect)("core/edit-site"),c=Object(m.useSelect)(t=>{var c;return null===(c=t(O.store).getActiveBlockVariation(_.f,e))||void 0===c?void 0:c.allowedControls},[e]);return Object(j.a)(t)?function(e){return e.query.inherit}(e)?c.filter(e=>"wooInherit"===e):c:c.filter(e=>"wooInherit"!==e)}(e.attributes),c=function(e){const t=Object(m.useSelect)(t=>{var c;return null===(c=t("core/blocks").getBlockVariations(_.f).find(t=>t.name===e))||void 0===c?void 0:c.attributes});return t?Object.assign({},...x.map(e=>({[e]:t.query[e]}))):{}}(e.attributes.namespace);return Object(u.createElement)(u.Fragment,null,Object(u.createElement)(b.InspectorControls,null,(null==t?void 0:t.includes("presets"))&&Object(u.createElement)(v,e),Object(u.createElement)(f.__experimentalToolsPanel,{className:"woocommerce-product-query-toolspanel",label:Object(d.__)("Advanced Filters","woo-gutenberg-products-block"),resetAll:()=>{w(e,c)}},Object.entries(C).map(r=>{let[o,n]=r;return null!=t&&t.includes(o)?Object(u.createElement)(n,i()({},e,{defaultWooQueryParams:c,key:o})):null}))))};Object(r.addFilter)("editor.BlockEdit",_.f,e=>t=>{return(c=t).name===_.f&&Object.values(h).includes(c.attributes.namespace)?Object(u.createElement)(u.Fragment,null,Object(u.createElement)(A,t),Object(u.createElement)(e,t),Object(u.createElement)(b.InspectorControls,null,Object(u.createElement)(p.b,null))):Object(u.createElement)(e,t);var c}),c(496),c(198),c(349);const I=[a.a,s.a,n.a];Object(o.isWpVersion)("6.1",">=")&&Object(r.addFilter)("blocks.registerBlockType","core/custom-class-name/attribute",(function(e,t){return I.includes(t)&&(e.attributes={...e.attributes,__woocommerceNamespace:{type:"string"}}),e}))},55:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));const r=(e,t)=>e.reduce((e,c)=>(e[String(t?c[t]:c)]=c,e),{})},57:function(e,t,c){"use strict";let r;c.d(t,"a",(function(){return r})),function(e){e.SINGLE="single",e.THUMBNAIL="thumbnail"}(r||(r={}))},62:function(e,t,c){"use strict";c.d(t,"c",(function(){return s})),c.d(t,"b",(function(){return l})),c.d(t,"a",(function(){return i}));var r=c(0),o=c(1),n=c(74),a=c(163);const s=Object(o.__)("Product Title","woo-gutenberg-products-block"),l=Object(r.createElement)(n.a,{icon:a.a,className:"wc-block-editor-components-block-icon"}),i=Object(o.__)("Display the title of a product.","woo-gutenberg-products-block")},68:function(e,t,c){"use strict";var r=c(6),o=c.n(r),n=c(0),a=c(2),s=c(37),l=c(4),i=c.n(l);t.a=e=>{let{className:t,item:c,isSelected:r,isLoading:l,onSelect:u,disabled:d,...b}=e;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(s.a,o()({},b,{key:c.id,className:t,isSelected:r,item:c,onSelect:u,disabled:d})),r&&l&&Object(n.createElement)("div",{key:"loading",className:i()("woocommerce-search-list__item","woocommerce-product-attributes__item","depth-1","is-loading","is-not-active")},Object(n.createElement)(a.Spinner,null)))}},7:function(e,t){e.exports=window.wp.data},71:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var r=c(8);function o(e,t){let{blockDescription:c,blockIcon:o,blockTitle:n,variationName:a}=t;Object(r.registerBlockVariation)(e,{description:c,name:a,title:n,isActive:e=>e.__woocommerceNamespace===a,icon:{src:o},attributes:{__woocommerceNamespace:a},scope:["block","inserter"]})}},79:function(e,t,c){"use strict";c.d(t,"c",(function(){return s})),c.d(t,"b",(function(){return l})),c.d(t,"a",(function(){return i}));var r=c(0),o=c(1),n=c(74),a=c(193);const s=Object(o.__)("Product Summary","woo-gutenberg-products-block"),l=Object(r.createElement)(n.a,{icon:a.a,className:"wc-block-editor-components-block-icon"}),i=Object(o.__)("Display a short description about a product.","woo-gutenberg-products-block")},8:function(e,t){e.exports=window.wp.blocks},82:function(e,t,c){"use strict";c.d(t,"a",(function(){return l})),c.d(t,"b",(function(){return i}));var r=c(0),o=c(2),n=c(62),a=c(163),s=c(71);const l="core/post-title",i="woocommerce/product-query/product-title";Object(s.a)(l,{blockDescription:n.a,blockIcon:Object(r.createElement)(o.Icon,{icon:a.a}),blockTitle:n.c,variationName:i})},97:function(e,t,c){"use strict";c.d(t,"a",(function(){return y}));var r=c(6),o=c.n(r),n=c(0),a=c(1),s=c(2),l=c(74),i=c(573),u=c(4),d=c.n(u),b=c(11),m=c(17),p=c(37),g=c(572),f=c(16);const O=e=>{let{id:t,label:c,popoverContents:r,remove:o,screenReaderLabel:i,className:u=""}=e;const[m,p]=Object(n.useState)(!1),j=Object(b.useInstanceId)(O);if(i=i||c,!c)return null;c=Object(f.decodeEntities)(c);const _=d()("woocommerce-tag",u,{"has-remove":!!o}),h="woocommerce-tag__label-"+j,w=Object(n.createElement)(n.Fragment,null,Object(n.createElement)("span",{className:"screen-reader-text"},i),Object(n.createElement)("span",{"aria-hidden":"true"},c));return Object(n.createElement)("span",{className:_},r?Object(n.createElement)(s.Button,{className:"woocommerce-tag__text",id:h,onClick:()=>p(!0)},w):Object(n.createElement)("span",{className:"woocommerce-tag__text",id:h},w),r&&m&&Object(n.createElement)(s.Popover,{onClose:()=>p(!1)},r),o&&Object(n.createElement)(s.Button,{className:"woocommerce-tag__remove",onClick:o(t),label:Object(a.sprintf)(// Translators: %s label.
Object(a.__)("Remove %s","woo-gutenberg-products-block"),c),"aria-describedby":h},Object(n.createElement)(l.a,{icon:g.a,size:20,className:"clear-icon"})))};var j=O;const _=e=>Object(n.createElement)(p.b,e),h=e=>{const{list:t,selected:c,renderItem:r,depth:a=0,onSelect:s,instanceId:l,isSingle:i,search:u,useExpandedPanelId:d}=e,[b]=d;return t?Object(n.createElement)(n.Fragment,null,t.map(t=>{var m,p;const g=null!==(m=t.children)&&void 0!==m&&m.length&&!i?t.children.every(e=>{let{id:t}=e;return c.find(e=>e.id===t)}):!!c.find(e=>{let{id:c}=e;return c===t.id}),f=(null===(p=t.children)||void 0===p?void 0:p.length)&&b===t.id;return Object(n.createElement)(n.Fragment,{key:t.id},Object(n.createElement)("li",null,r({item:t,isSelected:g,onSelect:s,isSingle:i,selected:c,search:u,depth:a,useExpandedPanelId:d,controlId:l})),f?Object(n.createElement)(h,o()({},e,{list:t.children,depth:a+1})):null)})):null},w=e=>{let{isLoading:t,isSingle:c,selected:r,messages:o,onChange:l,onRemove:i}=e;if(t||c||!r)return null;const u=r.length;return Object(n.createElement)("div",{className:"woocommerce-search-list__selected"},Object(n.createElement)("div",{className:"woocommerce-search-list__selected-header"},Object(n.createElement)("strong",null,o.selected(u)),u>0?Object(n.createElement)(s.Button,{isLink:!0,isDestructive:!0,onClick:()=>l([]),"aria-label":o.clear},Object(a.__)("Clear all","woo-gutenberg-products-block")):null),u>0?Object(n.createElement)("ul",null,r.map((e,t)=>Object(n.createElement)("li",{key:t},Object(n.createElement)(j,{label:e.name,id:e.id,remove:i})))):null)},k=e=>{let{filteredList:t,search:c,onSelect:r,instanceId:o,useExpandedPanelId:s,...u}=e;const{messages:d,renderItem:b,selected:m,isSingle:p}=u,g=b||_;return 0===t.length?Object(n.createElement)("div",{className:"woocommerce-search-list__list is-not-found"},Object(n.createElement)("span",{className:"woocommerce-search-list__not-found-icon"},Object(n.createElement)(l.a,{icon:i.a})),Object(n.createElement)("span",{className:"woocommerce-search-list__not-found-text"},c?Object(a.sprintf)(d.noResults,c):d.noItems)):Object(n.createElement)("ul",{className:"woocommerce-search-list__list"},Object(n.createElement)(h,{useExpandedPanelId:s,list:t,selected:m,renderItem:g,onSelect:r,instanceId:o,isSingle:p,search:c}))},y=e=>{const{className:t="",isCompact:c,isHierarchical:r,isLoading:l,isSingle:i,list:u,messages:p=m.a,onChange:g,onSearch:f,selected:O,type:j="text",debouncedSpeak:_}=e,[h,v]=Object(n.useState)(""),E=Object(n.useState)(-1),S=Object(b.useInstanceId)(y),x=Object(n.useMemo)(()=>({...m.a,...p}),[p]),N=Object(n.useMemo)(()=>Object(m.c)(u,h,r),[u,h,r]);Object(n.useEffect)(()=>{_&&_(x.updated)},[_,x]),Object(n.useEffect)(()=>{"function"==typeof f&&f(h)},[h,f]);const C=Object(n.useCallback)(e=>()=>{i&&g([]);const t=O.findIndex(t=>{let{id:c}=t;return c===e});g([...O.slice(0,t),...O.slice(t+1)])},[i,O,g]),A=Object(n.useCallback)(e=>()=>{Array.isArray(e)?g(e):-1===O.findIndex(t=>{let{id:c}=t;return c===e.id})?g(i?[e]:[...O,e]):C(e.id)()},[i,C,g,O]),I=Object(n.useCallback)(e=>{const[t]=O.filter(t=>!e.find(e=>t.id===e.id));C(t.id)()},[C,O]);return Object(n.createElement)("div",{className:d()("woocommerce-search-list",t,{"is-compact":c,"is-loading":l,"is-token":"token"===j})},"text"===j&&Object(n.createElement)(w,o()({},e,{onRemove:C,messages:x})),Object(n.createElement)("div",{className:"woocommerce-search-list__search"},"text"===j?Object(n.createElement)(s.TextControl,{label:x.search,type:"search",value:h,onChange:e=>v(e)}):Object(n.createElement)(s.FormTokenField,{disabled:l,label:x.search,onChange:I,onInputChange:e=>v(e),suggestions:[],__experimentalValidateInput:()=>!1,value:l?[Object(a.__)("Loading…","woo-gutenberg-products-block")]:O.map(e=>({...e,value:e.name})),__experimentalShowHowTo:!1})),l?Object(n.createElement)("div",{className:"woocommerce-search-list__list"},Object(n.createElement)(s.Spinner,null)):Object(n.createElement)(k,o()({},e,{search:h,filteredList:N,messages:x,onSelect:A,instanceId:S,useExpandedPanelId:E})))};Object(s.withSpokenMessages)(y)},98:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var r=c(0);function o(e,t){const c=Object(r.useRef)();return Object(r.useEffect)(()=>{c.current===e||t&&!t(e,c.current)||(c.current=e)},[e,t]),c.current}}});