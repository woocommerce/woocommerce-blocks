(window.webpackWcBlocksJsonp=window.webpackWcBlocksJsonp||[]).push([[7],{133:function(e,t,r){"use strict";var s=r(0);r(163),t.a=()=>Object(s.createElement)("span",{className:"wc-block-components-spinner","aria-hidden":"true"})},163:function(e,t){},166:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return u}));var s=r(0),n=r(5),c=r(10),a=r.n(c);const o=Object(s.createContext)({getValidationError:()=>"",setValidationErrors:e=>{},clearValidationError:e=>{},clearAllValidationErrors:()=>{},hideValidationError:()=>{},showValidationError:()=>{},showAllValidationErrors:()=>{},hasValidationErrors:!1,getValidationErrorId:e=>e}),i=()=>Object(s.useContext)(o),u=e=>{let{children:t}=e;const[r,c]=Object(s.useState)({}),i=Object(s.useCallback)(e=>r[e],[r]),u=Object(s.useCallback)(e=>{const t=r[e];return!t||t.hidden?"":"validate-error-"+e},[r]),l=Object(s.useCallback)(e=>{c(t=>{if(!t[e])return t;const{[e]:r,...s}=t;return s})},[]),d=Object(s.useCallback)(()=>{c({})},[]),b=Object(s.useCallback)(e=>{e&&c(t=>(e=Object(n.pickBy)(e,(e,r)=>!("string"!=typeof e.message||t.hasOwnProperty(r)&&a()(t[r],e))),0===Object.values(e).length?t:{...t,...e}))},[]),E=Object(s.useCallback)((e,t)=>{c(r=>{if(!r.hasOwnProperty(e))return r;const s={...r[e],...t};return a()(r[e],s)?r:{...r,[e]:s}})},[]),p={getValidationError:i,setValidationErrors:b,clearValidationError:l,clearAllValidationErrors:d,hideValidationError:Object(s.useCallback)(e=>{E(e,{hidden:!0})},[E]),showValidationError:Object(s.useCallback)(e=>{E(e,{hidden:!1})},[E]),showAllValidationErrors:Object(s.useCallback)(()=>{c(e=>{const t={};return Object.keys(e).forEach(r=>{e[r].hidden&&(t[r]={...e[r],hidden:!1})}),0===Object.values(t).length?e:{...e,...t}})},[]),hasValidationErrors:Object.keys(r).length>0,getValidationErrorId:u};return Object(s.createElement)(o.Provider,{value:p},t)}},173:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var s=r(90);const n=(e,t)=>function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const c=s.a.addEventCallback(e,r,n);return t(c),()=>{t(s.a.removeEventCallback(e,c.id))}}},174:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return a}));const s=(e,t)=>e[t]?Array.from(e[t].values()).sort((e,t)=>e.priority-t.priority):[];var n=r(30);const c=async(e,t,r)=>{const n=s(e,t),c=[];for(const e of n)try{const t=await Promise.resolve(e.callback(r));"object"==typeof t&&c.push(t)}catch(e){console.error(e)}return!c.length||c},a=async(e,t,r)=>{const c=[],a=s(e,t);for(const e of a)try{const t=await Promise.resolve(e.callback(r));if("object"!=typeof t||null===t)continue;if(!t.hasOwnProperty("type"))throw new Error("Returned objects from event emitter observers must return an object with a type property");if(Object(n.a)(t)||Object(n.b)(t))return c.push(t),c;c.push(t)}catch(e){return console.error(e),c.push({type:"error"}),c}return c}},19:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var s=r(0),n=r(10),c=r.n(n);function a(e){const t=Object(s.useRef)(e);return c()(e,t.current)||(t.current=e),t.current}},227:function(e,t){},232:function(e,t,r){"use strict";var s=r(11),n=r.n(s),c=r(0),a=r(56),o=r(4),i=r.n(o),u=r(133);r(235),t.a=e=>{let{className:t,showSpinner:r=!1,children:s,variant:o="contained",...l}=e;const d=i()("wc-block-components-button",t,o,{"wc-block-components-button--loading":r});return Object(c.createElement)(a.a,n()({className:d},l),r&&Object(c.createElement)(u.a,null),Object(c.createElement)("span",{className:"wc-block-components-button__text"},s))}},235:function(e,t){},240:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var s=r(0),n=(r(8),r(166));r(227);const c=e=>{let{errorMessage:t="",propertyName:r="",elementId:c=""}=e;const{getValidationError:a,getValidationErrorId:o}=Object(n.b)();if(!t||"string"!=typeof t){const e=a(r)||{};if(!e.message||e.hidden)return null;t=e.message}return Object(s.createElement)("div",{className:"wc-block-components-validation-error",role:"alert"},Object(s.createElement)("p",{id:o(c)},t))}},30:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return d}));var s=r(18);let n,c;!function(e){e.SUCCESS="success",e.FAIL="failure",e.ERROR="error"}(n||(n={})),function(e){e.PAYMENTS="wc/payment-area",e.EXPRESS_PAYMENTS="wc/express-payment-area"}(c||(c={}));const a=(e,t)=>Object(s.d)(e)&&"type"in e&&e.type===t,o=e=>a(e,n.SUCCESS),i=e=>a(e,n.ERROR),u=e=>a(e,n.FAIL),l=e=>!Object(s.d)(e)||void 0===e.retry||!0===e.retry,d=()=>({responseTypes:n,noticeContexts:c,shouldRetry:l,isSuccessResponse:o,isErrorResponse:i,isFailResponse:u})},320:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var s=r(0),n=r(9),c=r(6),a=r(21),o=r(24),i=r(34);const u=(e,t)=>{const r=e.find(e=>{let{id:r}=e;return r===t});return r?r.quantity:0},l=e=>{const{addItemToCart:t}=Object(n.useDispatch)(c.CART_STORE_KEY),{cartItems:r,cartIsLoading:l}=Object(o.a)(),{addErrorNotice:d,removeNotice:b}=Object(i.a)(),[E,p]=Object(s.useState)(!1),m=Object(s.useRef)(u(r,e));return Object(s.useEffect)(()=>{const t=u(r,e);t!==m.current&&(m.current=t)},[r,e]),{cartQuantity:Number.isFinite(m.current)?m.current:0,addingToCart:E,cartIsLoading:l,addToCart:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return p(!0),t(e,r).then(()=>{b("add-to-cart")}).catch(e=>{d(Object(a.decodeEntities)(e.message),{context:"wc/all-products",id:"add-to-cart",isDismissible:!0})}).finally(()=>{p(!1)})}}}},326:function(e,t){},328:function(e,t){},34:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var s=r(0),n=r(88);const c=()=>{const{notices:e,createNotice:t,removeNotice:r,setIsSuppressed:c}=Object(n.b)(),a=Object(s.useRef)(e);Object(s.useEffect)(()=>{a.current=e},[e]);const o=Object(s.useMemo)(()=>({hasNoticesOfType:e=>a.current.some(t=>t.type===e),removeNotices:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.current.forEach(t=>{null!==e&&t.status!==e||r(t.id)})},removeNotice:r}),[r]),i=Object(s.useMemo)(()=>({addDefaultNotice:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t("default",e,{...r})},addErrorNotice:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t("error",e,{...r})},addWarningNotice:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t("warning",e,{...r})},addInfoNotice:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t("info",e,{...r})},addSuccessNotice:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t("success",e,{...r})}}),[t]);return{notices:e,...o,...i,setIsSuppressed:c}}},386:function(e,t,r){"use strict";r.r(t);var s=r(113),n=r(0),c=(r(8),r(4)),a=r.n(c),o=r(1),i=r(19);const u=e=>e.is_purchasable||!1,l={PRISTINE:"pristine",IDLE:"idle",DISABLED:"disabled",PROCESSING:"processing",BEFORE_PROCESSING:"before_processing",AFTER_PROCESSING:"after_processing"},d={status:l.PRISTINE,hasError:!1,quantity:0,processingResponse:null,requestParams:{}},b={SET_PRISTINE:"set_pristine",SET_IDLE:"set_idle",SET_DISABLED:"set_disabled",SET_PROCESSING:"set_processing",SET_BEFORE_PROCESSING:"set_before_processing",SET_AFTER_PROCESSING:"set_after_processing",SET_PROCESSING_RESPONSE:"set_processing_response",SET_HAS_ERROR:"set_has_error",SET_NO_ERROR:"set_no_error",SET_QUANTITY:"set_quantity",SET_REQUEST_PARAMS:"set_request_params"},{SET_PRISTINE:E,SET_IDLE:p,SET_DISABLED:m,SET_PROCESSING:O,SET_BEFORE_PROCESSING:h,SET_AFTER_PROCESSING:f,SET_PROCESSING_RESPONSE:_,SET_HAS_ERROR:j,SET_NO_ERROR:g,SET_QUANTITY:S,SET_REQUEST_PARAMS:v}=b,y=()=>({type:p}),R=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=e?j:g;return{type:t}},{SET_PRISTINE:C,SET_IDLE:P,SET_DISABLED:T,SET_PROCESSING:A,SET_BEFORE_PROCESSING:N,SET_AFTER_PROCESSING:k,SET_PROCESSING_RESPONSE:w,SET_HAS_ERROR:I,SET_NO_ERROR:D,SET_QUANTITY:F,SET_REQUEST_PARAMS:V}=b,{PRISTINE:B,IDLE:q,DISABLED:L,PROCESSING:x,BEFORE_PROCESSING:G,AFTER_PROCESSING:M}=l,Q=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,{quantity:r,type:s,data:n}=arguments.length>1?arguments[1]:void 0;switch(s){case C:e=d;break;case P:e=t.status!==q?{...t,status:q}:t;break;case T:e=t.status!==L?{...t,status:L}:t;break;case F:e=r!==t.quantity?{...t,quantity:r}:t;break;case V:e={...t,requestParams:{...t.requestParams,...n}};break;case w:e={...t,processingResponse:n};break;case A:e=t.status!==x?{...t,status:x,hasError:!1}:t,e=!1===e.hasError?e:{...e,hasError:!1};break;case N:e=t.status!==G?{...t,status:G,hasError:!1}:t;break;case k:e=t.status!==M?{...t,status:M}:t;break;case I:e=t.hasError?t:{...t,hasError:!0},e=t.status===x||t.status===G?{...e,status:q}:e;break;case D:e=t.hasError?{...t,hasError:!1}:t}return e!==t&&s!==C&&e.status===B&&(e.status=q),e};var W=r(90),H=r(173);const U=e=>({onAddToCartAfterProcessingWithSuccess:Object(H.a)("add_to_cart_after_processing_with_success",e),onAddToCartProcessingWithError:Object(H.a)("add_to_cart_after_processing_with_error",e),onAddToCartBeforeProcessing:Object(H.a)("add_to_cart_before_processing",e)});var K=r(174),Y=r(166),J=r(34),X=r(30);const z=Object(n.createContext)({product:{},productType:"simple",productIsPurchasable:!0,productHasOptions:!1,supportsFormElements:!0,showFormElements:!1,quantity:0,minQuantity:1,maxQuantity:99,requestParams:{},isIdle:!1,isDisabled:!1,isProcessing:!1,isBeforeProcessing:!1,isAfterProcessing:!1,hasError:!1,eventRegistration:{onAddToCartAfterProcessingWithSuccess:e=>{},onAddToCartAfterProcessingWithError:e=>{},onAddToCartBeforeProcessing:e=>{}},dispatchActions:{resetForm:()=>{},submitForm:()=>{},setQuantity:e=>{},setHasError:e=>{},setAfterProcessing:e=>{},setRequestParams:e=>{}}}),Z=()=>Object(n.useContext)(z),$=e=>{var t,r,s,c;let{children:a,product:b,showFormElements:p}=e;const[j,g]=Object(n.useReducer)(Q,d),[C,P]=Object(n.useReducer)(W.b,{}),T=Object(i.a)(C),{addErrorNotice:A,removeNotices:N}=Object(J.a)(),{setValidationErrors:k}=Object(Y.b)(),{isSuccessResponse:w,isErrorResponse:I,isFailResponse:D}=Object(X.c)(),F=Object(n.useMemo)(()=>({onAddToCartAfterProcessingWithSuccess:U(P).onAddToCartAfterProcessingWithSuccess,onAddToCartAfterProcessingWithError:U(P).onAddToCartAfterProcessingWithError,onAddToCartBeforeProcessing:U(P).onAddToCartBeforeProcessing}),[P]),V=Object(n.useMemo)(()=>({resetForm:()=>{g({type:E})},submitForm:()=>{g({type:h})},setQuantity:e=>{g((e=>({type:S,quantity:e}))(e))},setHasError:e=>{g(R(e))},setRequestParams:e=>{g((e=>({type:v,data:e}))(e))},setAfterProcessing:e=>{g({type:_,data:e}),g({type:f})}}),[]);Object(n.useEffect)(()=>{const e=j.status,t=!b.id||!u(b);e!==l.DISABLED||t?e!==l.DISABLED&&t&&g({type:m}):g(y())},[j.status,b,g]),Object(n.useEffect)(()=>{j.status===l.BEFORE_PROCESSING&&(N("error"),Object(K.a)(T,"add_to_cart_before_processing",{}).then(e=>{!0!==e?(Array.isArray(e)&&e.forEach(e=>{let{errorMessage:t,validationErrors:r}=e;t&&A(t),r&&k(r)}),g(y())):g({type:O})}))},[j.status,k,A,N,g,T]),Object(n.useEffect)(()=>{if(j.status===l.AFTER_PROCESSING){const e={processingResponse:j.processingResponse},t=e=>{let t=!1;return e.forEach(e=>{const{message:r,messageContext:s}=e;(I(e)||D(e))&&r&&(t=!0,A(r,s?{context:s}:void 0))}),t};if(j.hasError)return void Object(K.b)(T,"add_to_cart_after_processing_with_error",e).then(r=>{if(!t(r)){var s;const t=(null===(s=e.processingResponse)||void 0===s?void 0:s.message)||Object(o.__)("Something went wrong. Please contact us to get assistance.","woo-gutenberg-products-block");A(t,{id:"add-to-cart"})}g(y())});Object(K.b)(T,"add_to_cart_after_processing_with_success",e).then(e=>{t(e)?g(R(!0)):g(y())})}},[j.status,j.hasError,j.processingResponse,V,A,I,D,w,T]);const B=(e=>["simple","variable"].includes(e.type||"simple"))(b),q={product:b,productType:b.type||"simple",productIsPurchasable:u(b),productHasOptions:b.has_options||!1,supportsFormElements:B,showFormElements:p&&B,quantity:j.quantity||(null==b||null===(t=b.add_to_cart)||void 0===t?void 0:t.minimum)||1,minQuantity:(null==b||null===(r=b.add_to_cart)||void 0===r?void 0:r.minimum)||1,maxQuantity:(null==b||null===(s=b.add_to_cart)||void 0===s?void 0:s.maximum)||99,multipleOf:(null==b||null===(c=b.add_to_cart)||void 0===c?void 0:c.multiple_of)||1,requestParams:j.requestParams,isIdle:j.status===l.IDLE,isDisabled:j.status===l.DISABLED,isProcessing:j.status===l.PROCESSING,isBeforeProcessing:j.status===l.BEFORE_PROCESSING,isAfterProcessing:j.status===l.AFTER_PROCESSING,hasError:j.hasError,eventRegistration:F,dispatchActions:V};return Object(n.createElement)(z.Provider,{value:q},a)};var ee=r(28),te=r.n(ee),re=r(21),se=r(67),ne=r(24),ce=()=>{const{dispatchActions:e,product:t,quantity:r,eventRegistration:s,hasError:c,isProcessing:a,requestParams:i}=Z(),{hasValidationErrors:u,showAllValidationErrors:l}=Object(Y.b)(),{addErrorNotice:d,removeNotice:b}=Object(J.a)(),{receiveCart:E}=Object(ne.a)(),[p,m]=Object(n.useState)(!1),O=!c&&a,h=Object(n.useCallback)(()=>!u||(l(),{type:"error"}),[u,l]);Object(n.useEffect)(()=>{const e=s.onAddToCartBeforeProcessing(h,0);return()=>{e()}},[s,h]);const f=Object(n.useCallback)(()=>{m(!0),b("add-to-cart");const s={id:t.id||0,quantity:r,...i};te()({path:"/wc/store/cart/add-item",method:"POST",data:s,cache:"no-store",parse:!1}).then(t=>{te.a.setNonce(t.headers),t.json().then((function(r){t.ok?E(r):(r.body&&r.body.message?d(Object(re.decodeEntities)(r.body.message),{id:"add-to-cart"}):d(Object(o.__)("Something went wrong. Please contact us to get assistance.","woo-gutenberg-products-block"),{id:"add-to-cart"}),e.setHasError()),Object(se.c)({preserveCartData:!0}),e.setAfterProcessing(r),m(!1)}))}).catch(t=>{t.json().then((function(t){var r;null!==(r=t.data)&&void 0!==r&&r.cart&&E(t.data.cart),e.setHasError(),e.setAfterProcessing(t),m(!1)}))})},[t,d,b,E,e,r,i]);return Object(n.useEffect)(()=>{O&&!p&&f()},[O,f,p]),null};const ae=e=>{let{children:t,product:r,showFormElements:s}=e;return Object(n.createElement)(Y.a,null,Object(n.createElement)($,{product:r,showFormElements:s},t,Object(n.createElement)(ce,null)))};var oe=r(49),ie=r(5),ue=(r(326),r(232)),le=r(100),de=r(327),be=r(33),Ee=r(320);const pe=e=>{let{className:t,href:r,text:s,onClick:c}=e;return Object(n.createElement)(ue.a,{className:t,href:r,onClick:c,rel:"nofollow"},s)},me=e=>{let{className:t,quantityInCart:r,isProcessing:s,isDisabled:c,isDone:a,onClick:i}=e;return Object(n.createElement)(ue.a,{className:t,disabled:c,showSpinner:s,onClick:i},a&&r>0?Object(o.sprintf)(
/* translators: %s number of products in cart. */
Object(o._n)("%d in cart","%d in cart",r,"woo-gutenberg-products-block"),r):Object(o.__)("Add to cart","woo-gutenberg-products-block"),!!a&&Object(n.createElement)(le.a,{icon:de.a}))};var Oe=()=>{const{showFormElements:e,productIsPurchasable:t,productHasOptions:r,product:s,productType:c,isDisabled:a,isProcessing:i,eventRegistration:u,hasError:l,dispatchActions:d}=Z(),{parentName:b}=Object(oe.useInnerBlockLayoutContext)(),{dispatchStoreEvent:E}=Object(be.a)(),{cartQuantity:p}=Object(Ee.a)(s.id||0),[m,O]=Object(n.useState)(!1),h=s.add_to_cart||{url:"",text:""};return Object(n.useEffect)(()=>{const e=u.onAddToCartAfterProcessingWithSuccess(()=>(l||O(!0),!0),0);return()=>{e()}},[u,l]),(e||!r&&"simple"===c)&&t?Object(n.createElement)(me,{className:"wc-block-components-product-add-to-cart-button",quantityInCart:p,isDisabled:a,isProcessing:i,isDone:m,onClick:()=>{d.submitForm(),E("cart-add-item",{product:s,listName:b})}}):Object(n.createElement)(pe,{className:"wc-block-components-product-add-to-cart-button",href:h.url,text:h.text||Object(o.__)("View Product","woo-gutenberg-products-block"),onClick:()=>{E("product-view-link",{product:s,listName:b})}})},he=r(52),fe=e=>{let{disabled:t,min:r,max:s,step:c=1,value:a,onChange:o}=e;const i=void 0!==s,u=Object(he.a)(e=>{let t=e;i&&(t=Math.min(t,Math.floor(s/c)*c)),t=Math.max(t,Math.ceil(r/c)*c),t=Math.floor(t/c)*c,t!==e&&o(t)},300);return Object(n.createElement)("input",{className:"wc-block-components-product-add-to-cart-quantity",type:"number",value:a,min:r,max:s,step:c,hidden:1===s,disabled:t,onChange:e=>{o(e.target.value),u(e.target.value)}})},_e=e=>{let{reason:t=Object(o.__)("Sorry, this product cannot be purchased.","woo-gutenberg-products-block")}=e;return Object(n.createElement)("div",{className:"wc-block-components-product-add-to-cart-unavailable"},t)},je=()=>{const{product:e,quantity:t,minQuantity:r,maxQuantity:s,multipleOf:c,dispatchActions:a,isDisabled:i}=Z();return e.id&&!e.is_purchasable?Object(n.createElement)(_e,null):e.id&&!e.is_in_stock?Object(n.createElement)(_e,{reason:Object(o.__)("This product is currently out of stock and cannot be purchased.","woo-gutenberg-products-block")}):Object(n.createElement)(n.Fragment,null,Object(n.createElement)(fe,{value:t,min:r,max:s,step:c,disabled:i,onChange:a.setQuantity}),Object(n.createElement)(Oe,null))},ge=(r(328),r(387)),Se=r(3),ve=r(240);const ye={value:"",label:Object(o.__)("Select an option","woo-gutenberg-products-block")};var Re=e=>{let{attributeName:t,options:r=[],value:s="",onChange:c=(()=>{}),errorMessage:i=Object(o.__)("Please select a value.","woo-gutenberg-products-block")}=e;const{getValidationError:u,setValidationErrors:l,clearValidationError:d}=Object(Y.b)(),b=t,E=u(b)||{};return Object(Se.useEffect)(()=>{s?d(b):l({[b]:{message:i,hidden:!0}})},[s,b,i,d,l]),Object(Se.useEffect)(()=>()=>{d(b)},[b,d]),Object(n.createElement)("div",{className:"wc-block-components-product-add-to-cart-attribute-picker__container"},Object(n.createElement)(ge.a,{label:Object(re.decodeEntities)(t),value:s||"",options:[ye,...r],onChange:c,required:!0,className:a()("wc-block-components-product-add-to-cart-attribute-picker__select",{"has-error":E.message&&!E.hidden})}),Object(n.createElement)(ve.a,{propertyName:b,elementId:b}))},Ce=r(18);const Pe=(e,t,r)=>{const s=Object.values(t).map(e=>{let{id:t}=e;return t});if(Object.values(r).every(e=>""===e))return s;const n=Object.keys(e);return s.filter(e=>n.every(s=>{const n=r[s]||"",c=t["id:"+e].attributes[s];return""===n||null===c||c===n}))};var Te=e=>{let{attributes:t,variationAttributes:r,setRequestParams:s}=e;const c=Object(i.a)(t),a=Object(i.a)(r),[o,u]=Object(n.useState)(0),[l,d]=Object(n.useState)({}),[b,E]=Object(n.useState)(!1),p=Object(n.useMemo)(()=>((e,t,r)=>{const s={},n=Object.keys(e),c=Object.values(r).filter(Boolean).length>0;return n.forEach(n=>{const a=e[n],o={...r,[n]:null},i=c?Pe(e,t,o):null,u=null!==i?i.map(e=>t["id:"+e].attributes[n]):null;s[n]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object.values(e).map(e=>{let{name:r,slug:s}=e;return null===t||t.includes(null)||t.includes(s)?{value:s,label:Object(re.decodeEntities)(r)}:null}).filter(Boolean)}(a.terms,u)}),s})(c,a,l),[l,c,a]);return Object(n.useEffect)(()=>{if(!b){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Object(Ce.d)(e))return{};const t=Object.keys(e),r={};return 0===t.length||t.forEach(t=>{const s=e[t],n=s.terms.filter(e=>e.default);var c;n.length>0&&(r[s.name]=null===(c=n[0])||void 0===c?void 0:c.slug)}),r}(t);e&&d({...e}),E(!0)}},[l,t,b]),Object(n.useEffect)(()=>{Object.values(l).filter(e=>""!==e).length===Object.keys(c).length?u(((e,t,r)=>Pe(e,t,r)[0]||0)(c,a,l)):o>0&&u(0)},[l,o,c,a]),Object(n.useEffect)(()=>{s({id:o,variation:Object.keys(l).map(e=>({attribute:e,value:l[e]}))})},[s,o,l]),Object(n.createElement)("div",{className:"wc-block-components-product-add-to-cart-attribute-picker"},Object.keys(c).map(e=>Object(n.createElement)(Re,{key:e,attributeName:e,options:p[e],value:l[e],onChange:t=>{d({...l,[e]:t})}})))},Ae=e=>{let{product:t,dispatchers:r}=e;const s=(e=>e?Object(ie.keyBy)(Object.values(e).filter(e=>{let{has_variations:t}=e;return t}),"name"):{})(t.attributes),c=(e=>{if(!e)return{};const t={};return e.forEach(e=>{let{id:r,attributes:s}=e;t["id:"+r]={id:r,attributes:s.reduce((e,t)=>{let{name:r,value:s}=t;return e[r]=s,e},{})}}),t})(t.variations);return 0===Object.keys(s).length||0===c.length?null:Object(n.createElement)(Te,{attributes:s,variationAttributes:c,setRequestParams:r.setRequestParams})},Ne=()=>{const{product:e,quantity:t,minQuantity:r,maxQuantity:s,multipleOf:c,dispatchActions:a,isDisabled:i}=Z();return e.id&&!e.is_purchasable?Object(n.createElement)(_e,null):e.id&&!e.is_in_stock?Object(n.createElement)(_e,{reason:Object(o.__)("This product is currently out of stock and cannot be purchased.","woo-gutenberg-products-block")}):Object(n.createElement)(n.Fragment,null,Object(n.createElement)(Ae,{product:e,dispatchers:a}),Object(n.createElement)(fe,{value:t,min:r,max:s,step:c,disabled:i,onChange:a.setQuantity}),Object(n.createElement)(Oe,null))},ke=()=>Object(n.createElement)(Oe,null),we=r(299),Ie=()=>Object(n.createElement)(we.a,{className:"wc-block-components-product-add-to-cart-group-list"},"This is a placeholder for the grouped products form element."),De=()=>Object(n.createElement)(Ie,null);const Fe=()=>{const{showFormElements:e,productType:t}=Z();return e?"variable"===t?Object(n.createElement)(Ne,null):"grouped"===t?Object(n.createElement)(De,null):"external"===t?Object(n.createElement)(ke,null):"simple"===t||"variation"===t?Object(n.createElement)(je,null):null:Object(n.createElement)(Oe,null)};var Ve=Object(s.withProductDataContext)(e=>{let{className:t,showFormElements:r}=e;const{product:s}=Object(oe.useProductDataContext)(),c=a()(t,"wc-block-components-product-add-to-cart",{"wc-block-components-product-add-to-cart--placeholder":Object(ie.isEmpty)(s)});return Object(n.createElement)(ae,{product:s,showFormElements:r},Object(n.createElement)("div",{className:c},Object(n.createElement)(Fe,null)))});t.default=Object(s.withFilteredAttributes)({showFormElements:{type:"boolean",default:!1},productId:{type:"number",default:0}})(Ve)},90:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return o}));var s=r(5);let n;!function(e){e.ADD_EVENT_CALLBACK="add_event_callback",e.REMOVE_EVENT_CALLBACK="remove_event_callback"}(n||(n={}));const c={addEventCallback:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return{id:Object(s.uniqueId)(),type:n.ADD_EVENT_CALLBACK,eventType:e,callback:t,priority:r}},removeEventCallback:(e,t)=>({id:t,type:n.REMOVE_EVENT_CALLBACK,eventType:e})},a={},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,{type:t,eventType:r,id:s,callback:c,priority:o}=arguments.length>1?arguments[1]:void 0;const i=e.hasOwnProperty(r)?new Map(e[r]):new Map;switch(t){case n.ADD_EVENT_CALLBACK:return i.set(s,{priority:o,callback:c}),{...e,[r]:i};case n.REMOVE_EVENT_CALLBACK:return i.delete(s),{...e,[r]:i}}}}}]);