(()=>{var e={4184:(e,r)=>{var t;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],r=0;r<arguments.length;r++){var t=arguments[r];if(t){var c=typeof t;if("string"===c||"number"===c)e.push(t);else if(Array.isArray(t)){if(t.length){var i=o.apply(null,t);i&&e.push(i)}}else if("object"===c)if(t.toString===Object.prototype.toString)for(var a in t)n.call(t,a)&&t[a]&&e.push(a);else e.push(t.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(t=function(){return o}.apply(r,[]))||(e.exports=t)}()},4578:()=>{},7732:()=>{},770:()=>{},994:()=>{},2145:()=>{},7476:()=>{}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var c=r[n]={exports:{}};return e[n](c,c.exports,t),c.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{"use strict";const e=window.React,r=window.wp.element;function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}const o=window.wp.i18n,c=window.wc.wcSettings;var i;const a=(0,c.getSetting)("wcBlocksConfig",{buildPhase:1,pluginUrl:"",productCount:0,defaultAvatar:"",restApiRoutes:{},wordCountType:"words"}),l=a.pluginUrl+"images/",s=(a.pluginUrl,a.buildPhase,null===(i=c.STORE_PAGES.shop)||void 0===i||i.permalink,c.STORE_PAGES.checkout.id,c.STORE_PAGES.checkout.permalink,c.STORE_PAGES.privacy.permalink,c.STORE_PAGES.privacy.title,c.STORE_PAGES.terms.permalink,c.STORE_PAGES.terms.title,c.STORE_PAGES.cart.id,c.STORE_PAGES.cart.permalink,c.STORE_PAGES.myaccount.permalink?c.STORE_PAGES.myaccount.permalink:(0,c.getSetting)("wpLoginUrl","/wp-login.php"),(0,c.getSetting)("localPickupEnabled",!1),(0,c.getSetting)("countries",{})),u=(0,c.getSetting)("countryData",{}),p=(Object.fromEntries(Object.keys(u).filter((e=>!0===u[e].allowBilling)).map((e=>[e,s[e]||""]))),Object.fromEntries(Object.keys(u).filter((e=>!0===u[e].allowBilling)).map((e=>[e,u[e].states||[]]))),Object.fromEntries(Object.keys(u).filter((e=>!0===u[e].allowShipping)).map((e=>[e,s[e]||""]))),Object.fromEntries(Object.keys(u).filter((e=>!0===u[e].allowShipping)).map((e=>[e,u[e].states||[]]))),Object.fromEntries(Object.keys(u).map((e=>[e,u[e].locale||[]]))),({imageUrl:r=`${l}/block-error.svg`,header:t=(0,o.__)("Oops!","woo-gutenberg-products-block"),text:n=(0,o.__)("There was an error loading the content.","woo-gutenberg-products-block"),errorMessage:c,errorMessagePrefix:i=(0,o.__)("Error:","woo-gutenberg-products-block"),button:a,showErrorBlock:s=!0})=>s?(0,e.createElement)("div",{className:"wc-block-error wc-block-components-error"},r&&(0,e.createElement)("img",{className:"wc-block-error__image wc-block-components-error__image",src:r,alt:""}),(0,e.createElement)("div",{className:"wc-block-error__content wc-block-components-error__content"},t&&(0,e.createElement)("p",{className:"wc-block-error__header wc-block-components-error__header"},t),n&&(0,e.createElement)("p",{className:"wc-block-error__text wc-block-components-error__text"},n),c&&(0,e.createElement)("p",{className:"wc-block-error__message wc-block-components-error__message"},i?i+" ":"",c),a&&(0,e.createElement)("p",{className:"wc-block-error__button wc-block-components-error__button"},a))):null);t(4578);class m extends r.Component{constructor(...e){var r,t,o;super(...e),r=this,o={errorMessage:"",hasError:!1},(t=function(e){var r=function(e,r){if("object"!==n(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(r)?r:String(r)}(t="state"))in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o}static getDerivedStateFromError(r){return void 0!==r.statusText&&void 0!==r.status?{errorMessage:(0,e.createElement)(e.Fragment,null,(0,e.createElement)("strong",null,r.status),":Â ",r.statusText),hasError:!0}:{errorMessage:r.message,hasError:!0}}render(){const{header:r,imageUrl:t,showErrorMessage:n=!0,showErrorBlock:o=!0,text:c,errorMessagePrefix:i,renderError:a,button:l}=this.props,{errorMessage:s,hasError:u}=this.state;return u?"function"==typeof a?a({errorMessage:s}):(0,e.createElement)(p,{showErrorBlock:o,errorMessage:n?s:null,header:r,imageUrl:t,text:c,errorMessagePrefix:i,button:l}):this.props.children}}const d=m,f=[".wp-block-woocommerce-cart"],b=({Block:t,containers:n,getProps:o=(()=>({})),getErrorBoundaryProps:c=(()=>({}))})=>{0!==n.length&&Array.prototype.forEach.call(n,((n,i)=>{const a=o(n,i),l=c(n,i),s={...n.dataset,...a.attributes||{}};(({Block:t,container:n,attributes:o={},props:c={},errorBoundaryProps:i={}})=>{(0,r.render)((0,e.createElement)(d,{...i},(0,e.createElement)(r.Suspense,{fallback:(0,e.createElement)("div",{className:"wc-block-placeholder"})},t&&(0,e.createElement)(t,{...c,attributes:o}))),n,(()=>{n.classList&&n.classList.remove("is-loading")}))})({Block:t,container:n,props:a,attributes:s,errorBoundaryProps:l})}))};function g(e,t){const n=(0,r.useRef)();return(0,r.useEffect)((()=>{n.current===e||t&&!t(e,n.current)||(n.current=e)}),[e,t]),n.current}const w=window.wc.wcBlocksData,_=window.wp.data,y=window.wp.isShallowEqual;var E=t.n(y);const h=(0,r.createContext)("page"),k=()=>(0,r.useContext)(h),v=(h.Provider,e=>{const t=k();e=e||t;const n=(0,_.useSelect)((r=>r(w.QUERY_STATE_STORE_KEY).getValueForQueryContext(e,void 0)),[e]),{setValueForQueryContext:o}=(0,_.useDispatch)(w.QUERY_STATE_STORE_KEY);return[n,(0,r.useCallback)((r=>{o(e,r)}),[e,o])]}),S=(e,t,n)=>{const o=k();n=n||o;const c=(0,_.useSelect)((r=>r(w.QUERY_STATE_STORE_KEY).getValueForQueryKey(n,e,t)),[n,e]),{setQueryValue:i}=(0,_.useDispatch)(w.QUERY_STATE_STORE_KEY);return[c,(0,r.useCallback)((r=>{i(n,e,r)}),[n,e,i])]};function x(r,t,n){var o=this,c=(0,e.useRef)(null),i=(0,e.useRef)(0),a=(0,e.useRef)(null),l=(0,e.useRef)([]),s=(0,e.useRef)(),u=(0,e.useRef)(),p=(0,e.useRef)(r),m=(0,e.useRef)(!0);(0,e.useEffect)((function(){p.current=r}),[r]);var d=!t&&0!==t&&"undefined"!=typeof window;if("function"!=typeof r)throw new TypeError("Expected a function");t=+t||0;var f=!!(n=n||{}).leading,b=!("trailing"in n)||!!n.trailing,g="maxWait"in n,w=g?Math.max(+n.maxWait||0,t):null;(0,e.useEffect)((function(){return m.current=!0,function(){m.current=!1}}),[]);var _=(0,e.useMemo)((function(){var e=function(e){var r=l.current,t=s.current;return l.current=s.current=null,i.current=e,u.current=p.current.apply(t,r)},r=function(e,r){d&&cancelAnimationFrame(a.current),a.current=d?requestAnimationFrame(e):setTimeout(e,r)},n=function(e){if(!m.current)return!1;var r=e-c.current;return!c.current||r>=t||r<0||g&&e-i.current>=w},_=function(r){return a.current=null,b&&l.current?e(r):(l.current=s.current=null,u.current)},y=function e(){var o=Date.now();if(n(o))return _(o);if(m.current){var a=t-(o-c.current),l=g?Math.min(a,w-(o-i.current)):a;r(e,l)}},E=function(){var p=Date.now(),d=n(p);if(l.current=[].slice.call(arguments),s.current=o,c.current=p,d){if(!a.current&&m.current)return i.current=c.current,r(y,t),f?e(c.current):u.current;if(g)return r(y,t),e(c.current)}return a.current||r(y,t),u.current};return E.cancel=function(){a.current&&(d?cancelAnimationFrame(a.current):clearTimeout(a.current)),i.current=0,l.current=c.current=s.current=a.current=null},E.isPending=function(){return!!a.current},E.flush=function(){return a.current?_(Date.now()):u.current},E}),[f,g,t,w,b,d]);return _}function P(e,r){return e===r}function C(e){return"function"==typeof e?function(){return e}:e}const R=e=>!(e=>null===e)(e)&&e instanceof Object&&e.constructor===Object;function A(e,r){return R(e)&&r in e}var N=function(e){return function(r,t,n){return e(r,t,n)*n}},F=function(e,r){if(e)throw Error("Invalid sort config: "+r)},O=function(e){var r=e||{},t=r.asc,n=r.desc,o=t?1:-1,c=t||n;return F(!c,"Expected `asc` or `desc` property"),F(t&&n,"Ambiguous object with `asc` and `desc` config properties"),{order:o,sortBy:c,comparer:e.comparer&&N(e.comparer)}};function T(e,r,t){if(void 0===e||!0===e)return function(e,n){return r(e,n,t)};if("string"==typeof e)return F(e.includes("."),"String syntax not allowed for nested properties."),function(n,o){return r(n[e],o[e],t)};if("function"==typeof e)return function(n,o){return r(e(n),e(o),t)};if(Array.isArray(e)){var n=function(e){return function r(t,n,o,c,i,a,l){var s,u;if("string"==typeof t)s=a[t],u=l[t];else{if("function"!=typeof t){var p=O(t);return r(p.sortBy,n,o,p.order,p.comparer||e,a,l)}s=t(a),u=t(l)}var m=i(s,u,c);return(0===m||null==s&&null==u)&&n.length>o?r(n[o],n,o+1,c,i,a,l):m}}(r);return function(o,c){return n(e[0],e,1,t,r,o,c)}}var o=O(e);return T(o.sortBy,o.comparer||r,o.order)}var B=function(e,r,t,n){return Array.isArray(r)?(Array.isArray(t)&&t.length<2&&(t=t[0]),r.sort(T(t,n,e))):r};function U(e){var r=N(e.comparer);return function(t){var n=Array.isArray(t)&&!e.inPlaceSorting?t.slice():t;return{asc:function(e){return B(1,n,e,r)},desc:function(e){return B(-1,n,e,r)},by:function(e){return B(1,n,e,r)}}}}var M=function(e,r,t){return null==e?t:null==r?-t:typeof e!=typeof r?typeof e<typeof r?-1:1:e<r?-1:e>r?1:0},L=U({comparer:M});function j(e){const t=(0,r.useRef)(e);return E()(e,t.current)||(t.current=e),t.current}U({comparer:M,inPlaceSorting:!0});const I=({queryAttribute:t,queryPrices:n,queryStock:o,queryRating:c,queryState:i,isEditor:a=!1})=>{let l=k();l=`${l}-collection-data`;const[s]=v(l),[u,p]=S("calculate_attribute_counts",[],l),[m,d]=S("calculate_price_range",null,l),[f,b]=S("calculate_stock_status_counts",null,l),[g,y]=S("calculate_rating_counts",null,l),E=j(t||{}),h=j(n),R=j(o),N=j(c);(0,r.useEffect)((()=>{"object"==typeof E&&Object.keys(E).length&&(u.find((e=>A(E,"taxonomy")&&e.taxonomy===E.taxonomy))||p([...u,E]))}),[E,u,p]),(0,r.useEffect)((()=>{m!==h&&void 0!==h&&d(h)}),[h,d,m]),(0,r.useEffect)((()=>{f!==R&&void 0!==R&&b(R)}),[R,b,f]),(0,r.useEffect)((()=>{g!==N&&void 0!==N&&y(N)}),[N,y,g]);const[F,O]=(0,r.useState)(a),[T]=(B=F,q=P,M=(0,e.useState)(C(B)),I=M[1],D=[M[0],(0,e.useCallback)((function(e){return I(C(e))}),[])],G=D[0],Q=D[1],V=x((0,e.useCallback)((function(e){return Q(e)}),[Q]),200,U),Y=(0,e.useRef)(B),q(Y.current,B)||(V(B),Y.current=B),[G,V]);var B,U,M,I,q,D,G,Q,V,Y;F||O(!0);const W=(0,r.useMemo)((()=>(e=>{const r=e;return Array.isArray(e.calculate_attribute_counts)&&(r.calculate_attribute_counts=L(e.calculate_attribute_counts.map((({taxonomy:e,queryType:r})=>({taxonomy:e,query_type:r})))).asc(["taxonomy","query_type"])),r})(s)),[s]);return(e=>{const{namespace:t,resourceName:n,resourceValues:o=[],query:c={},shouldSelect:i=!0}=e;if(!t||!n)throw new Error("The options object must have valid values for the namespace and the resource properties.");const a=(0,r.useRef)({results:[],isLoading:!0}),l=j(c),s=j(o),u=(()=>{const[,e]=(0,r.useState)();return(0,r.useCallback)((r=>{e((()=>{throw r}))}),[])})(),p=(0,_.useSelect)((e=>{if(!i)return null;const r=e(w.COLLECTIONS_STORE_KEY),o=[t,n,l,s],c=r.getCollectionError(...o);if(c){if(!(c instanceof Error))throw new Error("TypeError: `error` object is not an instance of Error constructor");u(c)}return{results:r.getCollection(...o),isLoading:!r.hasFinishedResolution("getCollection",o)}}),[t,n,s,l,i]);return null!==p&&(a.current=p),a.current})({namespace:"/wc/store/v1",resourceName:"products/collection-data",query:{...i,page:void 0,per_page:void 0,orderby:void 0,order:void 0,...W},shouldSelect:T})};var q=t(4184),D=t.n(q);const G=window.wc.blocksComponents;t(2145);const Q=(e,r,t,n=1,o=!1)=>{let[c,i]=e;const a=e=>Number.isFinite(e);return a(c)||(c=r||0),a(i)||(i=t||n),a(r)&&r>c&&(c=r),a(t)&&t<=c&&(c=t-n),a(r)&&r>=i&&(i=r+n),a(t)&&t<i&&(i=t),!o&&c>=i&&(c=i-n),o&&i<=c&&(i=c+n),[c,i]};t(994);const V=({className:r,isLoading:t,disabled:n,
/* translators: Submit button text for filters. */
label:c=(0,o.__)("Apply","woo-gutenberg-products-block"),onClick:i,screenReaderLabel:a=(0,o.__)("Apply filter","woo-gutenberg-products-block")})=>(0,e.createElement)("button",{type:"submit",className:D()("wp-block-button__link","wc-block-filter-submit-button","wc-block-components-filter-submit-button",{"is-loading":t},r),disabled:n,onClick:i},(0,e.createElement)(G.Label,{label:c,screenReaderLabel:a})),Y=({maxConstraint:e,minorUnit:r})=>({floatValue:t})=>void 0!==t&&t<=e/10**r&&t>0,W=({minConstraint:e,currentMaxValue:r,minorUnit:t})=>({floatValue:n})=>void 0!==n&&n>=e/10**t&&n<r/10**t;t(770);const K=({className:r,
/* translators: Reset button text for filters. */
label:t=(0,o.__)("Reset","woo-gutenberg-products-block"),onClick:n,screenReaderLabel:c=(0,o.__)("Reset filter","woo-gutenberg-products-block")})=>(0,e.createElement)("button",{className:D()("wc-block-components-filter-reset-button",r),onClick:n},(0,e.createElement)(G.Label,{label:t,screenReaderLabel:c})),$=({minPrice:t,maxPrice:n,minConstraint:c,maxConstraint:i,onChange:a,step:l,currency:s,showInputFields:u=!0,showFilterButton:p=!1,inlineInput:m=!0,isLoading:d=!1,isUpdating:f=!1,isEditor:b=!1,onSubmit:g=(()=>{})})=>{const w=(0,r.useRef)(null),_=(0,r.useRef)(null),y=l||10**s.minorUnit,[E,h]=(0,r.useState)(t),[k,v]=(0,r.useState)(n),S=(0,r.useRef)(null),[P,C]=(0,r.useState)(0);(0,r.useEffect)((()=>{h(t)}),[t]),(0,r.useEffect)((()=>{v(n)}),[n]),(0,r.useLayoutEffect)((()=>{var e;m&&S.current&&C(null===(e=S.current)||void 0===e?void 0:e.offsetWidth)}),[m,C]);const A=(0,r.useMemo)((()=>isFinite(c)&&isFinite(i)),[c,i]),N=(0,r.useMemo)((()=>isFinite(t)&&isFinite(n)&&A?{"--low":(t-c)/(i-c)*100+"%","--high":(n-c)/(i-c)*100+"%"}:{"--low":"0%","--high":"100%"}),[t,n,c,i,A]),F=(0,r.useCallback)((e=>{if(d||!A||!w.current||!_.current)return;const r=e.target.getBoundingClientRect(),t=e.clientX-r.left,n=w.current.offsetWidth,o=+w.current.value,c=_.current.offsetWidth,a=+_.current.value,l=n*(o/i),s=c*(a/i);Math.abs(t-l)>Math.abs(t-s)?(w.current.style.zIndex="20",_.current.style.zIndex="21"):(w.current.style.zIndex="21",_.current.style.zIndex="20")}),[d,i,A]),O=(0,r.useCallback)((e=>{const r=e.target.classList.contains("wc-block-price-filter__range-input--min"),o=+e.target.value,l=r?[Math.round(o/y)*y,n]:[t,Math.round(o/y)*y],s=Q(l,c,i,y,r);a(s)}),[a,t,n,c,i,y]),T=(0,r.useCallback)((e=>{if(e.relatedTarget&&e.relatedTarget.classList&&e.relatedTarget.classList.contains("wc-block-price-filter__amount"))return;const r=e.target.classList.contains("wc-block-price-filter__amount--min");if(E>=k){const e=Q([0,k],null,null,y,r);return a([parseInt(e[0],10),parseInt(e[1],10)])}const t=Q([E,k],null,null,y,r);a(t)}),[a,y,E,k]),B=x(g,600),U=D()("wc-block-price-filter","wc-block-components-price-slider",u&&"wc-block-price-filter--has-input-fields",u&&"wc-block-components-price-slider--has-input-fields",p&&"wc-block-price-filter--has-filter-button",p&&"wc-block-components-price-slider--has-filter-button",!A&&"is-disabled",(m||P<=300)&&"wc-block-components-price-slider--is-input-inline"),M=R(w.current)?w.current.ownerDocument.activeElement:void 0,L=M&&M===w.current?y:1,j=M&&M===_.current?y:1,I=String(E/10**s.minorUnit),q=String(k/10**s.minorUnit),$=m&&P>300,z=(0,e.createElement)("div",{className:D()("wc-block-price-filter__range-input-wrapper","wc-block-components-price-slider__range-input-wrapper",{"is-loading":d&&f}),onMouseMove:F,onFocus:F},A&&(0,e.createElement)("div",{"aria-hidden":u},(0,e.createElement)("div",{className:"wc-block-price-filter__range-input-progress wc-block-components-price-slider__range-input-progress",style:N}),(0,e.createElement)("input",{type:"range",className:"wc-block-price-filter__range-input wc-block-price-filter__range-input--min wc-block-components-price-slider__range-input wc-block-components-price-slider__range-input--min","aria-label":(0,o.__)("Filter products by minimum price","woo-gutenberg-products-block"),"aria-valuetext":I,value:Number.isFinite(t)?t:c,onChange:O,step:L,min:c,max:i,ref:w,disabled:d&&!A,tabIndex:u?-1:0}),(0,e.createElement)("input",{type:"range",className:"wc-block-price-filter__range-input wc-block-price-filter__range-input--max wc-block-components-price-slider__range-input wc-block-components-price-slider__range-input--max","aria-label":(0,o.__)("Filter products by maximum price","woo-gutenberg-products-block"),"aria-valuetext":q,value:Number.isFinite(n)?n:i,onChange:O,step:j,min:c,max:i,ref:_,disabled:d,tabIndex:u?-1:0}))),Z=e=>`wc-block-price-filter__amount wc-block-price-filter__amount--${e} wc-block-form-text-input wc-block-components-price-slider__amount wc-block-components-price-slider__amount--${e}`,J={currency:s,decimalScale:0},X={...J,displayType:"input",allowNegative:!1,disabled:d||!A,onBlur:T};return(0,e.createElement)("div",{className:U,ref:S},(!$||!u)&&z,u&&(0,e.createElement)("div",{className:"wc-block-price-filter__controls wc-block-components-price-slider__controls"},f?(0,e.createElement)("div",{className:"input-loading"}):(0,e.createElement)(G.FormattedMonetaryAmount,{...X,className:Z("min"),"aria-label":(0,o.__)("Filter products by minimum price","woo-gutenberg-products-block"),isAllowed:W({minConstraint:c,minorUnit:s.minorUnit,currentMaxValue:k}),onValueChange:e=>{e!==E&&h(e)},value:E}),$&&z,f?(0,e.createElement)("div",{className:"input-loading"}):(0,e.createElement)(G.FormattedMonetaryAmount,{...X,className:Z("max"),"aria-label":(0,o.__)("Filter products by maximum price","woo-gutenberg-products-block"),isAllowed:Y({maxConstraint:i,minorUnit:s.minorUnit}),onValueChange:e=>{e!==k&&v(e)},value:k})),!u&&!f&&Number.isFinite(t)&&Number.isFinite(n)&&(0,e.createElement)("div",{className:"wc-block-price-filter__range-text wc-block-components-price-slider__range-text"},(0,e.createElement)(G.FormattedMonetaryAmount,{...J,value:t}),(0,e.createElement)(G.FormattedMonetaryAmount,{...J,value:n})),(0,e.createElement)("div",{className:"wc-block-components-price-slider__actions"},(b||!f&&(t!==c||n!==i))&&(0,e.createElement)(K,{onClick:()=>{a([c,i]),B()},screenReaderLabel:(0,o.__)("Reset price filter","woo-gutenberg-products-block")}),p&&(0,e.createElement)(V,{className:"wc-block-price-filter__button wc-block-components-price-slider__button",isLoading:f,disabled:d||!A,onClick:g,screenReaderLabel:(0,o.__)("Apply price filter","woo-gutenberg-products-block")})))};t(7732);const z=({children:r})=>(0,e.createElement)("div",{className:"wc-block-filter-title-placeholder"},r),Z=window.wc.priceFormat,J=window.wp.url,X=e=>"boolean"==typeof e,H=(0,c.getSettingWithCoercion)("isRenderingPhpTemplate",!1,X);function ee(e){return window?(0,J.getQueryArg)(window.location.href,e):null}function re(e){H?((e=e.replace(/(?:query-(?:\d+-)?page=(\d+))|(?:page\/(\d+))/g,"")).endsWith("?")&&(e=e.slice(0,-1)),window.location.href=e):window.history.replaceState({},"",e)}const te=e=>"string"==typeof e,ne="ROUND_UP",oe="ROUND_DOWN",ce=(e,r,t)=>{const n=10*10**r;let o=null;const c=parseFloat(e);isNaN(c)||(t===ne?o=Math.ceil(c/n)*n:t===oe&&(o=Math.floor(c/n)*n));const i=g(o,Number.isFinite);return Number.isFinite(o)?o:i};t(7476);const ie=(0,r.createContext)({});function ae(e,r){return Number(e)*10**r}const le=JSON.parse('{"Y4":{"D8":{"Z":3}}}');(e=>{const r=document.body.querySelectorAll(f.join(",")),{Block:t,getProps:n,getErrorBoundaryProps:o,selector:c}=e;(({Block:e,getProps:r,getErrorBoundaryProps:t,selector:n,wrappers:o})=>{const c=document.body.querySelectorAll(n);o&&o.length>0&&Array.prototype.filter.call(c,(e=>!((e,r)=>Array.prototype.some.call(r,(r=>r.contains(e)&&!r.isSameNode(e))))(e,o))),b({Block:e,containers:c,getProps:r,getErrorBoundaryProps:t})})({Block:t,getProps:n,getErrorBoundaryProps:o,selector:c,wrappers:r}),Array.prototype.forEach.call(r,(r=>{r.addEventListener("wc-blocks_render_blocks_frontend",(()=>{(({Block:e,getProps:r,getErrorBoundaryProps:t,selector:n,wrapper:o})=>{const c=o.querySelectorAll(n);b({Block:e,containers:c,getProps:r,getErrorBoundaryProps:t})})({...e,wrapper:r})}))}))})({selector:".wp-block-woocommerce-price-filter",Block:({attributes:t,isEditor:n=!1})=>{const o=(()=>{const{wrapper:e}=(0,r.useContext)(ie);return r=>{e&&e.current&&(e.current.hidden=!r)}})(),i=(0,c.getSettingWithCoercion)("hasFilterableProducts",!1,X),a=(0,c.getSettingWithCoercion)("isRenderingPhpTemplate",!1,X),[l,s]=(0,r.useState)(!1),u=ee("min_price"),p=ee("max_price"),[m]=v(),{results:d,isLoading:f}=I({queryPrices:!0,queryState:m,isEditor:n}),b=(0,Z.getCurrencyFromPriceResponse)(A(d,"price_range")?d.price_range:void 0),[w,_]=S("min_price"),[y,E]=S("max_price"),[h,k]=(0,r.useState)(ae(u,b.minorUnit)||null),[P,C]=(0,r.useState)(ae(p,b.minorUnit)||null),{minConstraint:R,maxConstraint:N}=(({minPrice:e,maxPrice:r,minorUnit:t})=>({minConstraint:ce(e||"",t,oe),maxConstraint:ce(r||"",t,ne)}))({minPrice:A(d,"price_range")&&A(d.price_range,"min_price")&&te(d.price_range.min_price)?d.price_range.min_price:void 0,maxPrice:A(d,"price_range")&&A(d.price_range,"max_price")&&te(d.price_range.max_price)?d.price_range.max_price:void 0,minorUnit:b.minorUnit});(0,r.useEffect)((()=>{l||(_(ae(u,b.minorUnit)),E(ae(p,b.minorUnit)),s(!0))}),[b.minorUnit,l,p,u,E,_]);const[F,O]=(0,r.useState)(f),T=(0,r.useCallback)(((e,r)=>{const t=r>=Number(N)?void 0:r,n=e<=Number(R)?void 0:e;if(window){const e=function(e,r){const t={};for(const[e,n]of Object.entries(r))n?t[e]=n.toString():delete t[e];const n=(0,J.removeQueryArgs)(e,...Object.keys(r));return(0,J.addQueryArgs)(n,t)}(window.location.href,{min_price:n/10**b.minorUnit,max_price:t/10**b.minorUnit});window.location.href!==e&&re(e)}_(n),E(t)}),[R,N,_,E,b.minorUnit]),B=x(T,500),U=(0,r.useCallback)((e=>{O(!0),e[0]!==h&&k(e[0]),e[1]!==P&&C(e[1]),a&&l&&!t.showFilterButton&&B(e[0],e[1])}),[h,P,k,C,a,l,B,t.showFilterButton]);(0,r.useEffect)((()=>{t.showFilterButton||a||B(h,P)}),[h,P,t.showFilterButton,B,a]);const M=g(w),L=g(y),j=g(R),q=g(N);if((0,r.useEffect)((()=>{(!Number.isFinite(h)||w!==M&&w!==h||R!==j&&R!==h)&&k(Number.isFinite(w)?w:R),(!Number.isFinite(P)||y!==L&&y!==P||N!==q&&N!==P)&&C(Number.isFinite(y)?y:N)}),[h,P,w,y,R,N,j,q,M,L]),!i)return o(!1),null;if(!f&&(null===R||null===N||R===N))return o(!1),null;const D=`h${t.headingLevel}`;o(!0),!f&&F&&O(!1);const G=(0,e.createElement)(D,{className:"wc-block-price-filter__title"},t.heading),Q=f&&F?(0,e.createElement)(z,null,G):G;return(0,e.createElement)(e.Fragment,null,!n&&t.heading&&Q,(0,e.createElement)("div",{className:"wc-block-price-slider"},(0,e.createElement)($,{minConstraint:R,maxConstraint:N,minPrice:h,maxPrice:P,currency:b,showInputFields:t.showInputFields,inlineInput:t.inlineInput,showFilterButton:t.showFilterButton,onChange:U,onSubmit:()=>T(h,P),isLoading:f,isUpdating:F,isEditor:n})))},getProps:e=>{return{attributes:(r=e.dataset,{heading:te(null==r?void 0:r.heading)?r.heading:"",headingLevel:te(null==r?void 0:r.headingLevel)&&parseInt(r.headingLevel,10)||le.Y4.D8.Z,showFilterButton:"true"===(null==r?void 0:r.showFilterButton),showInputFields:"false"!==(null==r?void 0:r.showInputFields),inlineInput:"true"===(null==r?void 0:r.inlineInput)}),isEditor:!1};var r}})})()})();