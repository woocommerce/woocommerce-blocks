(()=>{var e={4184:(e,r)=>{var t;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],r=0;r<arguments.length;r++){var t=arguments[r];if(t){var c=typeof t;if("string"===c||"number"===c)e.push(t);else if(Array.isArray(t)){if(t.length){var i=o.apply(null,t);i&&e.push(i)}}else if("object"===c)if(t.toString===Object.prototype.toString)for(var a in t)n.call(t,a)&&t[a]&&e.push(a);else e.push(t.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(t=function(){return o}.apply(r,[]))||(e.exports=t)}()},4578:()=>{},7732:()=>{},770:()=>{},994:()=>{},2145:()=>{},7476:()=>{}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var c=r[n]={exports:{}};return e[n](c,c.exports,t),c.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{"use strict";const e=window.wp.element;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}const n=window.wp.i18n,o=window.wc.wcSettings;var c;const i=(0,o.getSetting)("wcBlocksConfig",{buildPhase:1,pluginUrl:"",productCount:0,defaultAvatar:"",restApiRoutes:{},wordCountType:"words"}),a=i.pluginUrl+"images/",l=(i.pluginUrl,i.buildPhase,null===(c=o.STORE_PAGES.shop)||void 0===c||c.permalink,o.STORE_PAGES.checkout.id,o.STORE_PAGES.checkout.permalink,o.STORE_PAGES.privacy.permalink,o.STORE_PAGES.privacy.title,o.STORE_PAGES.terms.permalink,o.STORE_PAGES.terms.title,o.STORE_PAGES.cart.id,o.STORE_PAGES.cart.permalink,o.STORE_PAGES.myaccount.permalink?o.STORE_PAGES.myaccount.permalink:(0,o.getSetting)("wpLoginUrl","/wp-login.php"),(0,o.getSetting)("localPickupEnabled",!1),(0,o.getSetting)("countries",{})),s=(0,o.getSetting)("countryData",{}),u=(Object.fromEntries(Object.keys(s).filter((e=>!0===s[e].allowBilling)).map((e=>[e,l[e]||""]))),Object.fromEntries(Object.keys(s).filter((e=>!0===s[e].allowBilling)).map((e=>[e,s[e].states||[]]))),Object.fromEntries(Object.keys(s).filter((e=>!0===s[e].allowShipping)).map((e=>[e,l[e]||""]))),Object.fromEntries(Object.keys(s).filter((e=>!0===s[e].allowShipping)).map((e=>[e,s[e].states||[]]))),Object.fromEntries(Object.keys(s).map((e=>[e,s[e].locale||[]]))),({imageUrl:r=`${a}/block-error.svg`,header:t=(0,n.__)("Oops!","woo-gutenberg-products-block"),text:o=(0,n.__)("There was an error loading the content.","woo-gutenberg-products-block"),errorMessage:c,errorMessagePrefix:i=(0,n.__)("Error:","woo-gutenberg-products-block"),button:l,showErrorBlock:s=!0})=>s?(0,e.createElement)("div",{className:"wc-block-error wc-block-components-error"},r&&(0,e.createElement)("img",{className:"wc-block-error__image wc-block-components-error__image",src:r,alt:""}),(0,e.createElement)("div",{className:"wc-block-error__content wc-block-components-error__content"},t&&(0,e.createElement)("p",{className:"wc-block-error__header wc-block-components-error__header"},t),o&&(0,e.createElement)("p",{className:"wc-block-error__text wc-block-components-error__text"},o),c&&(0,e.createElement)("p",{className:"wc-block-error__message wc-block-components-error__message"},i?i+" ":"",c),l&&(0,e.createElement)("p",{className:"wc-block-error__button wc-block-components-error__button"},l))):null);t(4578);class p extends e.Component{constructor(...e){var t,n,o;super(...e),t=this,o={errorMessage:"",hasError:!1},(n=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===r(t)?t:String(t)}(n="state"))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}static getDerivedStateFromError(r){return void 0!==r.statusText&&void 0!==r.status?{errorMessage:(0,e.createElement)(e.Fragment,null,(0,e.createElement)("strong",null,r.status),":Â ",r.statusText),hasError:!0}:{errorMessage:r.message,hasError:!0}}render(){const{header:r,imageUrl:t,showErrorMessage:n=!0,showErrorBlock:o=!0,text:c,errorMessagePrefix:i,renderError:a,button:l}=this.props,{errorMessage:s,hasError:p}=this.state;return p?"function"==typeof a?a({errorMessage:s}):(0,e.createElement)(u,{showErrorBlock:o,errorMessage:n?s:null,header:r,imageUrl:t,text:c,errorMessagePrefix:i,button:l}):this.props.children}}const m=p,d=[".wp-block-woocommerce-cart"],f=({Block:r,containers:t,getProps:n=(()=>({})),getErrorBoundaryProps:o=(()=>({}))})=>{0!==t.length&&Array.prototype.forEach.call(t,((t,c)=>{const i=n(t,c),a=o(t,c),l={...t.dataset,...i.attributes||{}};(({Block:r,container:t,attributes:n={},props:o={},errorBoundaryProps:c={}})=>{(0,e.render)((0,e.createElement)(m,{...c},(0,e.createElement)(e.Suspense,{fallback:(0,e.createElement)("div",{className:"wc-block-placeholder"})},r&&(0,e.createElement)(r,{...o,attributes:n}))),t,(()=>{t.classList&&t.classList.remove("is-loading")}))})({Block:r,container:t,props:i,attributes:l,errorBoundaryProps:a})}))};function b(r,t){const n=(0,e.useRef)();return(0,e.useEffect)((()=>{n.current===r||t&&!t(r,n.current)||(n.current=r)}),[r,t]),n.current}const g=window.wc.wcBlocksData,w=window.wp.data,_=window.wp.isShallowEqual;var y=t.n(_);const E=(0,e.createContext)("page"),h=()=>(0,e.useContext)(E),k=(E.Provider,r=>{const t=h();r=r||t;const n=(0,w.useSelect)((e=>e(g.QUERY_STATE_STORE_KEY).getValueForQueryContext(r,void 0)),[r]),{setValueForQueryContext:o}=(0,w.useDispatch)(g.QUERY_STATE_STORE_KEY);return[n,(0,e.useCallback)((e=>{o(r,e)}),[r,o])]}),v=(r,t,n)=>{const o=h();n=n||o;const c=(0,w.useSelect)((e=>e(g.QUERY_STATE_STORE_KEY).getValueForQueryKey(n,r,t)),[n,r]),{setQueryValue:i}=(0,w.useDispatch)(g.QUERY_STATE_STORE_KEY);return[c,(0,e.useCallback)((e=>{i(n,r,e)}),[n,r,i])]},S=window.React;function x(e,r,t){var n=this,o=(0,S.useRef)(null),c=(0,S.useRef)(0),i=(0,S.useRef)(null),a=(0,S.useRef)([]),l=(0,S.useRef)(),s=(0,S.useRef)(),u=(0,S.useRef)(e),p=(0,S.useRef)(!0);(0,S.useEffect)((function(){u.current=e}),[e]);var m=!r&&0!==r&&"undefined"!=typeof window;if("function"!=typeof e)throw new TypeError("Expected a function");r=+r||0;var d=!!(t=t||{}).leading,f=!("trailing"in t)||!!t.trailing,b="maxWait"in t,g=b?Math.max(+t.maxWait||0,r):null;(0,S.useEffect)((function(){return p.current=!0,function(){p.current=!1}}),[]);var w=(0,S.useMemo)((function(){var e=function(e){var r=a.current,t=l.current;return a.current=l.current=null,c.current=e,s.current=u.current.apply(t,r)},t=function(e,r){m&&cancelAnimationFrame(i.current),i.current=m?requestAnimationFrame(e):setTimeout(e,r)},w=function(e){if(!p.current)return!1;var t=e-o.current;return!o.current||t>=r||t<0||b&&e-c.current>=g},_=function(r){return i.current=null,f&&a.current?e(r):(a.current=l.current=null,s.current)},y=function e(){var n=Date.now();if(w(n))return _(n);if(p.current){var i=r-(n-o.current),a=b?Math.min(i,g-(n-c.current)):i;t(e,a)}},E=function(){var u=Date.now(),m=w(u);if(a.current=[].slice.call(arguments),l.current=n,o.current=u,m){if(!i.current&&p.current)return c.current=o.current,t(y,r),d?e(o.current):s.current;if(b)return t(y,r),e(o.current)}return i.current||t(y,r),s.current};return E.cancel=function(){i.current&&(m?cancelAnimationFrame(i.current):clearTimeout(i.current)),c.current=0,a.current=o.current=l.current=i.current=null},E.isPending=function(){return!!i.current},E.flush=function(){return i.current?_(Date.now()):s.current},E}),[d,b,r,g,f,m]);return w}function P(e,r){return e===r}function C(e){return"function"==typeof e?function(){return e}:e}const R=e=>!(e=>null===e)(e)&&e instanceof Object&&e.constructor===Object;function A(e,r){return R(e)&&r in e}var N=function(e){return function(r,t,n){return e(r,t,n)*n}},F=function(e,r){if(e)throw Error("Invalid sort config: "+r)},O=function(e){var r=e||{},t=r.asc,n=r.desc,o=t?1:-1,c=t||n;return F(!c,"Expected `asc` or `desc` property"),F(t&&n,"Ambiguous object with `asc` and `desc` config properties"),{order:o,sortBy:c,comparer:e.comparer&&N(e.comparer)}};function T(e,r,t){if(void 0===e||!0===e)return function(e,n){return r(e,n,t)};if("string"==typeof e)return F(e.includes("."),"String syntax not allowed for nested properties."),function(n,o){return r(n[e],o[e],t)};if("function"==typeof e)return function(n,o){return r(e(n),e(o),t)};if(Array.isArray(e)){var n=function(e){return function r(t,n,o,c,i,a,l){var s,u;if("string"==typeof t)s=a[t],u=l[t];else{if("function"!=typeof t){var p=O(t);return r(p.sortBy,n,o,p.order,p.comparer||e,a,l)}s=t(a),u=t(l)}var m=i(s,u,c);return(0===m||null==s&&null==u)&&n.length>o?r(n[o],n,o+1,c,i,a,l):m}}(r);return function(o,c){return n(e[0],e,1,t,r,o,c)}}var o=O(e);return T(o.sortBy,o.comparer||r,o.order)}var B=function(e,r,t,n){return Array.isArray(r)?(Array.isArray(t)&&t.length<2&&(t=t[0]),r.sort(T(t,n,e))):r};function U(e){var r=N(e.comparer);return function(t){var n=Array.isArray(t)&&!e.inPlaceSorting?t.slice():t;return{asc:function(e){return B(1,n,e,r)},desc:function(e){return B(-1,n,e,r)},by:function(e){return B(1,n,e,r)}}}}var M=function(e,r,t){return null==e?t:null==r?-t:typeof e!=typeof r?typeof e<typeof r?-1:1:e<r?-1:e>r?1:0},L=U({comparer:M});function j(r){const t=(0,e.useRef)(r);return y()(r,t.current)||(t.current=r),t.current}U({comparer:M,inPlaceSorting:!0});const I=({queryAttribute:r,queryPrices:t,queryStock:n,queryRating:o,queryState:c,isEditor:i=!1})=>{let a=h();a=`${a}-collection-data`;const[l]=k(a),[s,u]=v("calculate_attribute_counts",[],a),[p,m]=v("calculate_price_range",null,a),[d,f]=v("calculate_stock_status_counts",null,a),[b,_]=v("calculate_rating_counts",null,a),y=j(r||{}),E=j(t),R=j(n),N=j(o);(0,e.useEffect)((()=>{"object"==typeof y&&Object.keys(y).length&&(s.find((e=>A(y,"taxonomy")&&e.taxonomy===y.taxonomy))||u([...s,y]))}),[y,s,u]),(0,e.useEffect)((()=>{p!==E&&void 0!==E&&m(E)}),[E,m,p]),(0,e.useEffect)((()=>{d!==R&&void 0!==R&&f(R)}),[R,f,d]),(0,e.useEffect)((()=>{b!==N&&void 0!==N&&_(N)}),[N,_,b]);const[F,O]=(0,e.useState)(i),[T]=(B=F,q=P,M=(0,S.useState)(C(B)),I=M[1],D=[M[0],(0,S.useCallback)((function(e){return I(C(e))}),[])],G=D[0],Q=D[1],V=x((0,S.useCallback)((function(e){return Q(e)}),[Q]),200,U),Y=(0,S.useRef)(B),q(Y.current,B)||(V(B),Y.current=B),[G,V]);var B,U,M,I,q,D,G,Q,V,Y;F||O(!0);const W=(0,e.useMemo)((()=>(e=>{const r=e;return Array.isArray(e.calculate_attribute_counts)&&(r.calculate_attribute_counts=L(e.calculate_attribute_counts.map((({taxonomy:e,queryType:r})=>({taxonomy:e,query_type:r})))).asc(["taxonomy","query_type"])),r})(l)),[l]);return(r=>{const{namespace:t,resourceName:n,resourceValues:o=[],query:c={},shouldSelect:i=!0}=r;if(!t||!n)throw new Error("The options object must have valid values for the namespace and the resource properties.");const a=(0,e.useRef)({results:[],isLoading:!0}),l=j(c),s=j(o),u=(()=>{const[,r]=(0,e.useState)();return(0,e.useCallback)((e=>{r((()=>{throw e}))}),[])})(),p=(0,w.useSelect)((e=>{if(!i)return null;const r=e(g.COLLECTIONS_STORE_KEY),o=[t,n,l,s],c=r.getCollectionError(...o);if(c){if(!(c instanceof Error))throw new Error("TypeError: `error` object is not an instance of Error constructor");u(c)}return{results:r.getCollection(...o),isLoading:!r.hasFinishedResolution("getCollection",o)}}),[t,n,s,l,i]);return null!==p&&(a.current=p),a.current})({namespace:"/wc/store/v1",resourceName:"products/collection-data",query:{...c,page:void 0,per_page:void 0,orderby:void 0,order:void 0,...W},shouldSelect:T})};var q=t(4184),D=t.n(q);const G=window.wc.blocksComponents;t(2145);const Q=(e,r,t,n=1,o=!1)=>{let[c,i]=e;const a=e=>Number.isFinite(e);return a(c)||(c=r||0),a(i)||(i=t||n),a(r)&&r>c&&(c=r),a(t)&&t<=c&&(c=t-n),a(r)&&r>=i&&(i=r+n),a(t)&&t<i&&(i=t),!o&&c>=i&&(c=i-n),o&&i<=c&&(i=c+n),[c,i]};t(994);const V=({className:r,isLoading:t,disabled:o,
/* translators: Submit button text for filters. */
label:c=(0,n.__)("Apply","woo-gutenberg-products-block"),onClick:i,screenReaderLabel:a=(0,n.__)("Apply filter","woo-gutenberg-products-block")})=>(0,e.createElement)("button",{type:"submit",className:D()("wp-block-button__link","wc-block-filter-submit-button","wc-block-components-filter-submit-button",{"is-loading":t},r),disabled:o,onClick:i},(0,e.createElement)(G.Label,{label:c,screenReaderLabel:a})),Y=({maxConstraint:e,minorUnit:r})=>({floatValue:t})=>void 0!==t&&t<=e/10**r&&t>0,W=({minConstraint:e,currentMaxValue:r,minorUnit:t})=>({floatValue:n})=>void 0!==n&&n>=e/10**t&&n<r/10**t;t(770);const K=({className:r,
/* translators: Reset button text for filters. */
label:t=(0,n.__)("Reset","woo-gutenberg-products-block"),onClick:o,screenReaderLabel:c=(0,n.__)("Reset filter","woo-gutenberg-products-block")})=>(0,e.createElement)("button",{className:D()("wc-block-components-filter-reset-button",r),onClick:o},(0,e.createElement)(G.Label,{label:t,screenReaderLabel:c})),$=({minPrice:r,maxPrice:t,minConstraint:o,maxConstraint:c,onChange:i,step:a,currency:l,showInputFields:s=!0,showFilterButton:u=!1,inlineInput:p=!0,isLoading:m=!1,isUpdating:d=!1,isEditor:f=!1,onSubmit:b=(()=>{})})=>{const g=(0,e.useRef)(null),w=(0,e.useRef)(null),_=a||10**l.minorUnit,[y,E]=(0,e.useState)(r),[h,k]=(0,e.useState)(t),v=(0,e.useRef)(null),[S,P]=(0,e.useState)(0);(0,e.useEffect)((()=>{E(r)}),[r]),(0,e.useEffect)((()=>{k(t)}),[t]),(0,e.useLayoutEffect)((()=>{var e;p&&v.current&&P(null===(e=v.current)||void 0===e?void 0:e.offsetWidth)}),[p,P]);const C=(0,e.useMemo)((()=>isFinite(o)&&isFinite(c)),[o,c]),A=(0,e.useMemo)((()=>isFinite(r)&&isFinite(t)&&C?{"--low":(r-o)/(c-o)*100+"%","--high":(t-o)/(c-o)*100+"%"}:{"--low":"0%","--high":"100%"}),[r,t,o,c,C]),N=(0,e.useCallback)((e=>{if(m||!C||!g.current||!w.current)return;const r=e.target.getBoundingClientRect(),t=e.clientX-r.left,n=g.current.offsetWidth,o=+g.current.value,i=w.current.offsetWidth,a=+w.current.value,l=n*(o/c),s=i*(a/c);Math.abs(t-l)>Math.abs(t-s)?(g.current.style.zIndex="20",w.current.style.zIndex="21"):(g.current.style.zIndex="21",w.current.style.zIndex="20")}),[m,c,C]),F=(0,e.useCallback)((e=>{const n=e.target.classList.contains("wc-block-price-filter__range-input--min"),a=+e.target.value,l=n?[Math.round(a/_)*_,t]:[r,Math.round(a/_)*_],s=Q(l,o,c,_,n);i(s)}),[i,r,t,o,c,_]),O=(0,e.useCallback)((e=>{if(e.relatedTarget&&e.relatedTarget.classList&&e.relatedTarget.classList.contains("wc-block-price-filter__amount"))return;const r=e.target.classList.contains("wc-block-price-filter__amount--min");if(y>=h){const e=Q([0,h],null,null,_,r);return i([parseInt(e[0],10),parseInt(e[1],10)])}const t=Q([y,h],null,null,_,r);i(t)}),[i,_,y,h]),T=x(b,600),B=D()("wc-block-price-filter","wc-block-components-price-slider",s&&"wc-block-price-filter--has-input-fields",s&&"wc-block-components-price-slider--has-input-fields",u&&"wc-block-price-filter--has-filter-button",u&&"wc-block-components-price-slider--has-filter-button",!C&&"is-disabled",(p||S<=300)&&"wc-block-components-price-slider--is-input-inline"),U=R(g.current)?g.current.ownerDocument.activeElement:void 0,M=U&&U===g.current?_:1,L=U&&U===w.current?_:1,j=String(y/10**l.minorUnit),I=String(h/10**l.minorUnit),q=p&&S>300,$=(0,e.createElement)("div",{className:D()("wc-block-price-filter__range-input-wrapper","wc-block-components-price-slider__range-input-wrapper",{"is-loading":m&&d}),onMouseMove:N,onFocus:N},C&&(0,e.createElement)("div",{"aria-hidden":s},(0,e.createElement)("div",{className:"wc-block-price-filter__range-input-progress wc-block-components-price-slider__range-input-progress",style:A}),(0,e.createElement)("input",{type:"range",className:"wc-block-price-filter__range-input wc-block-price-filter__range-input--min wc-block-components-price-slider__range-input wc-block-components-price-slider__range-input--min","aria-label":(0,n.__)("Filter products by minimum price","woo-gutenberg-products-block"),"aria-valuetext":j,value:Number.isFinite(r)?r:o,onChange:F,step:M,min:o,max:c,ref:g,disabled:m&&!C,tabIndex:s?-1:0}),(0,e.createElement)("input",{type:"range",className:"wc-block-price-filter__range-input wc-block-price-filter__range-input--max wc-block-components-price-slider__range-input wc-block-components-price-slider__range-input--max","aria-label":(0,n.__)("Filter products by maximum price","woo-gutenberg-products-block"),"aria-valuetext":I,value:Number.isFinite(t)?t:c,onChange:F,step:L,min:o,max:c,ref:w,disabled:m,tabIndex:s?-1:0}))),z=e=>`wc-block-price-filter__amount wc-block-price-filter__amount--${e} wc-block-form-text-input wc-block-components-price-slider__amount wc-block-components-price-slider__amount--${e}`,Z={currency:l,decimalScale:0},J={...Z,displayType:"input",allowNegative:!1,disabled:m||!C,onBlur:O};return(0,e.createElement)("div",{className:B,ref:v},(!q||!s)&&$,s&&(0,e.createElement)("div",{className:"wc-block-price-filter__controls wc-block-components-price-slider__controls"},d?(0,e.createElement)("div",{className:"input-loading"}):(0,e.createElement)(G.FormattedMonetaryAmount,{...J,className:z("min"),"aria-label":(0,n.__)("Filter products by minimum price","woo-gutenberg-products-block"),isAllowed:W({minConstraint:o,minorUnit:l.minorUnit,currentMaxValue:h}),onValueChange:e=>{e!==y&&E(e)},value:y}),q&&$,d?(0,e.createElement)("div",{className:"input-loading"}):(0,e.createElement)(G.FormattedMonetaryAmount,{...J,className:z("max"),"aria-label":(0,n.__)("Filter products by maximum price","woo-gutenberg-products-block"),isAllowed:Y({maxConstraint:c,minorUnit:l.minorUnit}),onValueChange:e=>{e!==h&&k(e)},value:h})),!s&&!d&&Number.isFinite(r)&&Number.isFinite(t)&&(0,e.createElement)("div",{className:"wc-block-price-filter__range-text wc-block-components-price-slider__range-text"},(0,e.createElement)(G.FormattedMonetaryAmount,{...Z,value:r}),(0,e.createElement)(G.FormattedMonetaryAmount,{...Z,value:t})),(0,e.createElement)("div",{className:"wc-block-components-price-slider__actions"},(f||!d&&(r!==o||t!==c))&&(0,e.createElement)(K,{onClick:()=>{i([o,c]),T()},screenReaderLabel:(0,n.__)("Reset price filter","woo-gutenberg-products-block")}),u&&(0,e.createElement)(V,{className:"wc-block-price-filter__button wc-block-components-price-slider__button",isLoading:d,disabled:m||!C,onClick:b,screenReaderLabel:(0,n.__)("Apply price filter","woo-gutenberg-products-block")})))};t(7732);const z=({children:r})=>(0,e.createElement)("div",{className:"wc-block-filter-title-placeholder"},r),Z=window.wc.priceFormat,J=window.wp.url,X=e=>"boolean"==typeof e,H=(0,o.getSettingWithCoercion)("isRenderingPhpTemplate",!1,X);function ee(e){return window?(0,J.getQueryArg)(window.location.href,e):null}function re(e){H?((e=e.replace(/(?:query-(?:\d+-)?page=(\d+))|(?:page\/(\d+))/g,"")).endsWith("?")&&(e=e.slice(0,-1)),window.location.href=e):window.history.replaceState({},"",e)}const te=e=>"string"==typeof e,ne="ROUND_UP",oe="ROUND_DOWN",ce=(e,r,t)=>{const n=10*10**r;let o=null;const c=parseFloat(e);isNaN(c)||(t===ne?o=Math.ceil(c/n)*n:t===oe&&(o=Math.floor(c/n)*n));const i=b(o,Number.isFinite);return Number.isFinite(o)?o:i};t(7476);const ie=(0,e.createContext)({});function ae(e,r){return Number(e)*10**r}const le=JSON.parse('{"Y4":{"D8":{"Z":3}}}');(e=>{const r=document.body.querySelectorAll(d.join(",")),{Block:t,getProps:n,getErrorBoundaryProps:o,selector:c}=e;(({Block:e,getProps:r,getErrorBoundaryProps:t,selector:n,wrappers:o})=>{const c=document.body.querySelectorAll(n);o&&o.length>0&&Array.prototype.filter.call(c,(e=>!((e,r)=>Array.prototype.some.call(r,(r=>r.contains(e)&&!r.isSameNode(e))))(e,o))),f({Block:e,containers:c,getProps:r,getErrorBoundaryProps:t})})({Block:t,getProps:n,getErrorBoundaryProps:o,selector:c,wrappers:r}),Array.prototype.forEach.call(r,(r=>{r.addEventListener("wc-blocks_render_blocks_frontend",(()=>{(({Block:e,getProps:r,getErrorBoundaryProps:t,selector:n,wrapper:o})=>{const c=o.querySelectorAll(n);f({Block:e,containers:c,getProps:r,getErrorBoundaryProps:t})})({...e,wrapper:r})}))}))})({selector:".wp-block-woocommerce-price-filter",Block:({attributes:r,isEditor:t=!1})=>{const n=(()=>{const{wrapper:r}=(0,e.useContext)(ie);return e=>{r&&r.current&&(r.current.hidden=!e)}})(),c=(0,o.getSettingWithCoercion)("hasFilterableProducts",!1,X),i=(0,o.getSettingWithCoercion)("isRenderingPhpTemplate",!1,X),[a,l]=(0,e.useState)(!1),s=ee("min_price"),u=ee("max_price"),[p]=k(),{results:m,isLoading:d}=I({queryPrices:!0,queryState:p,isEditor:t}),f=(0,Z.getCurrencyFromPriceResponse)(A(m,"price_range")?m.price_range:void 0),[g,w]=v("min_price"),[_,y]=v("max_price"),[E,h]=(0,e.useState)(ae(s,f.minorUnit)||null),[S,P]=(0,e.useState)(ae(u,f.minorUnit)||null),{minConstraint:C,maxConstraint:R}=(({minPrice:e,maxPrice:r,minorUnit:t})=>({minConstraint:ce(e||"",t,oe),maxConstraint:ce(r||"",t,ne)}))({minPrice:A(m,"price_range")&&A(m.price_range,"min_price")&&te(m.price_range.min_price)?m.price_range.min_price:void 0,maxPrice:A(m,"price_range")&&A(m.price_range,"max_price")&&te(m.price_range.max_price)?m.price_range.max_price:void 0,minorUnit:f.minorUnit});(0,e.useEffect)((()=>{a||(w(ae(s,f.minorUnit)),y(ae(u,f.minorUnit)),l(!0))}),[f.minorUnit,a,u,s,y,w]);const[N,F]=(0,e.useState)(d),O=(0,e.useCallback)(((e,r)=>{const t=r>=Number(R)?void 0:r,n=e<=Number(C)?void 0:e;if(window){const e=function(e,r){const t={};for(const[e,n]of Object.entries(r))n?t[e]=n.toString():delete t[e];const n=(0,J.removeQueryArgs)(e,...Object.keys(r));return(0,J.addQueryArgs)(n,t)}(window.location.href,{min_price:n/10**f.minorUnit,max_price:t/10**f.minorUnit});window.location.href!==e&&re(e)}w(n),y(t)}),[C,R,w,y,f.minorUnit]),T=x(O,500),B=(0,e.useCallback)((e=>{F(!0),e[0]!==E&&h(e[0]),e[1]!==S&&P(e[1]),i&&a&&!r.showFilterButton&&T(e[0],e[1])}),[E,S,h,P,i,a,T,r.showFilterButton]);(0,e.useEffect)((()=>{r.showFilterButton||i||T(E,S)}),[E,S,r.showFilterButton,T,i]);const U=b(g),M=b(_),L=b(C),j=b(R);if((0,e.useEffect)((()=>{(!Number.isFinite(E)||g!==U&&g!==E||C!==L&&C!==E)&&h(Number.isFinite(g)?g:C),(!Number.isFinite(S)||_!==M&&_!==S||R!==j&&R!==S)&&P(Number.isFinite(_)?_:R)}),[E,S,g,_,C,R,L,j,U,M]),!c)return n(!1),null;if(!d&&(null===C||null===R||C===R))return n(!1),null;const q=`h${r.headingLevel}`;n(!0),!d&&N&&F(!1);const D=(0,e.createElement)(q,{className:"wc-block-price-filter__title"},r.heading),G=d&&N?(0,e.createElement)(z,null,D):D;return(0,e.createElement)(e.Fragment,null,!t&&r.heading&&G,(0,e.createElement)("div",{className:"wc-block-price-slider"},(0,e.createElement)($,{minConstraint:C,maxConstraint:R,minPrice:E,maxPrice:S,currency:f,showInputFields:r.showInputFields,inlineInput:r.inlineInput,showFilterButton:r.showFilterButton,onChange:B,onSubmit:()=>O(E,S),isLoading:d,isUpdating:N,isEditor:t})))},getProps:e=>{return{attributes:(r=e.dataset,{heading:te(null==r?void 0:r.heading)?r.heading:"",headingLevel:te(null==r?void 0:r.headingLevel)&&parseInt(r.headingLevel,10)||le.Y4.D8.Z,showFilterButton:"true"===(null==r?void 0:r.showFilterButton),showInputFields:"false"!==(null==r?void 0:r.showInputFields),inlineInput:"true"===(null==r?void 0:r.inlineInput)}),isEditor:!1};var r}})})()})();